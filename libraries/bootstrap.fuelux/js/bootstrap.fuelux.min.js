if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(n){"use strict";n.fn.emulateTransitionEnd=function(t){var e=!1,i=this;n(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||n(i).trigger(n.support.transition.end)},t),this},n(function(){n.support.transition=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return{end:i[t]};return!1}(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(a){"use strict";function o(t){a(t).on("click",e,this.close)}var e='[data-dismiss="alert"]';o.VERSION="3.4.1",o.TRANSITION_DURATION=150,o.prototype.close=function(t){var e=a(this),i=e.attr("data-target");i="#"===(i=i||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""))?[]:i;var n=a(document).find(i);function s(){n.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),n.length||(n=e.closest(".alert")),n.trigger(t=a.Event("close.bs.alert")),t.isDefaultPrevented()||(n.removeClass("in"),a.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",s).emulateTransitionEnd(o.TRANSITION_DURATION):s())};var t=a.fn.alert;a.fn.alert=function(i){return this.each(function(){var t=a(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new o(this)),"string"==typeof i&&e[i].call(t)})},a.fn.alert.Constructor=o,a.fn.alert.noConflict=function(){return a.fn.alert=t,this},a(document).on("click.bs.alert.data-api",e,o.prototype.close)}(jQuery),function(a){"use strict";var s=function(t,e){this.$element=a(t),this.options=a.extend({},s.DEFAULTS,e),this.isLoading=!1};function i(n){return this.each(function(){var t=a(this),e=t.data("bs.button"),i="object"==typeof n&&n;e||t.data("bs.button",e=new s(this,i)),"toggle"==n?e.toggle():n&&e.setState(n)})}s.VERSION="3.4.1",s.DEFAULTS={loadingText:"loading..."},s.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",s=i.data();t+="Text",null==s.resetText&&i.data("resetText",i[n]()),setTimeout(a.proxy(function(){i[n]((null==s[t]?this.options:s)[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},s.prototype.toggle=function(){var t,e=!0,i=this.$element.closest('[data-toggle="buttons"]');i.length?("radio"==(t=this.$element.find("input")).prop("type")?(t.prop("checked")&&(e=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==t.prop("type")&&(t.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),t.prop("checked",this.$element.hasClass("active")),e&&t.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};var t=a.fn.button;a.fn.button=i,a.fn.button.Constructor=s,a.fn.button.noConflict=function(){return a.fn.button=t,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=a(t.target).closest(".btn");i.call(e,"toggle"),a(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),(e.is("input,button")?e:e.find("input:visible,button:visible").first()).trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){a(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(h){"use strict";function d(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))}function s(s){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),i=h.extend({},d.DEFAULTS,t.data(),"object"==typeof s&&s),n="string"==typeof s?s:i.slide;e||t.data("bs.carousel",e=new d(this,i)),"number"==typeof s?e.to(s):n?e[n]():i.interval&&e.pause().cycle()})}d.VERSION="3.4.1",d.TRANSITION_DURATION=600,d.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},d.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},d.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},d.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},d.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;t=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(t)},d.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},d.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},d.prototype.next=function(){if(!this.sliding)return this.slide("next")},d.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},d.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),n=e||this.getItemForDirection(t,i),s=this.interval,a="next"==t?"left":"right",o=this;if(n.hasClass("active"))return this.sliding=!1;var r=n[0],e=h.Event("slide.bs.carousel",{relatedTarget:r,direction:a});if(this.$element.trigger(e),!e.isDefaultPrevented()){this.sliding=!0,s&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(e=h(this.$indicators.children()[this.getItemIndex(n)]))&&e.addClass("active"));var l=h.Event("slid.bs.carousel",{relatedTarget:r,direction:a});return h.support.transition&&this.$element.hasClass("slide")?(n.addClass(t),"object"==typeof n&&n.length&&n[0].offsetWidth,i.addClass(a),n.addClass(a),i.one("bsTransitionEnd",function(){n.removeClass([t,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(l)},0)}).emulateTransitionEnd(d.TRANSITION_DURATION)):(i.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(l)),s&&this.cycle(),this}};var t=h.fn.carousel;function e(t){var e=h(this),i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),n=e.attr("data-target")||i;(i=h(document).find(n)).hasClass("carousel")&&(n=h.extend({},i.data(),e.data()),(e=e.attr("data-slide-to"))&&(n.interval=!1),s.call(i,n),e&&i.data("bs.carousel").to(e),t.preventDefault())}h.fn.carousel=s,h.fn.carousel.Constructor=d,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this},h(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);s.call(t,t.data())})})}(jQuery),function(s){"use strict";var a=function(t,e){this.$element=s(t),this.options=s.extend({},a.DEFAULTS,e),this.$trigger=s('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function i(t){var e=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return s(document).find(e)}function o(n){return this.each(function(){var t=s(this),e=t.data("bs.collapse"),i=s.extend({},a.DEFAULTS,t.data(),"object"==typeof n&&n);!e&&i.toggle&&/show|hide/.test(n)&&(i.toggle=!1),e||t.data("bs.collapse",e=new a(this,i)),"string"==typeof n&&e[n]()})}a.VERSION="3.4.1",a.TRANSITION_DURATION=350,a.DEFAULTS={toggle:!0},a.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},a.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&(n=t.data("bs.collapse"))&&n.transitioning)){var e=s.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){t&&t.length&&(o.call(t,"hide"),n||t.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var n=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!s.support.transition)return n.call(this);t=s.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",s.proxy(n,this)).emulateTransitionEnd(a.TRANSITION_DURATION)[i](this.$element[0][t])}}}},a.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=s.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;t=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!s.support.transition)return t.call(this);this.$element[e](0).one("bsTransitionEnd",s.proxy(t,this)).emulateTransitionEnd(a.TRANSITION_DURATION)}}},a.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},a.prototype.getParent=function(){return s(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(s.proxy(function(t,e){e=s(e);this.addAriaAndCollapsedClass(i(e),e)},this)).end()},a.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var t=s.fn.collapse;s.fn.collapse=o,s.fn.collapse.Constructor=a,s.fn.collapse.noConflict=function(){return s.fn.collapse=t,this},s(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=s(this);e.attr("data-target")||t.preventDefault();t=i(e),e=t.data("bs.collapse")?"toggle":e.data();o.call(t,e)})}(jQuery),function(s){"use strict";function n(t){s(t).on("click.bs.dropdown",this.toggle)}var a='[data-toggle="dropdown"]';function o(t){var e=t.attr("data-target"),e="#"!==(e=e||(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""))?s(document).find(e):null;return e&&e.length?e:t.parent()}function r(n){n&&3===n.which||(s(".dropdown-backdrop").remove(),s(a).each(function(){var t=s(this),e=o(t),i={relatedTarget:this};e.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&s.contains(e[0],n.target)||(e.trigger(n=s.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",i)))))}))}n.VERSION="3.4.1",n.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var i=o(e),n=i.hasClass("open");if(r(),!n){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",r);n={relatedTarget:this};if(i.trigger(t=s.Event("show.bs.dropdown",n)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(s.Event("shown.bs.dropdown",n))}return!1}},n.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var i=o(e),n=i.hasClass("open");if(!n&&27!=t.which||n&&27==t.which)return 27==t.which&&i.find(a).trigger("focus"),e.trigger("click");e=i.find(".dropdown-menu li:not(.disabled):visible a");e.length&&(i=e.index(t.target),38==t.which&&0<i&&i--,40==t.which&&i<e.length-1&&i++,~i||(i=0),e.eq(i).trigger("focus"))}}};var t=s.fn.dropdown;s.fn.dropdown=function(i){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new n(this)),"string"==typeof i&&e[i].call(t)})},s.fn.dropdown.Constructor=n,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=t,this},s(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,n.prototype.toggle).on("keydown.bs.dropdown.data-api",a,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery),function(a){"use strict";function o(t,e){this.options=e,this.$body=a(document.body),this.$element=a(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}function r(n,s){return this.each(function(){var t=a(this),e=t.data("bs.modal"),i=a.extend({},o.DEFAULTS,t.data(),"object"==typeof n&&n);e||t.data("bs.modal",e=new o(this,i)),"string"==typeof n?e[n](s):i.show&&e.show(s)})}o.VERSION="3.4.1",o.TRANSITION_DURATION=300,o.BACKDROP_TRANSITION_DURATION=150,o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},o.prototype.show=function(i){var n=this,t=a.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){a(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=a.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),t&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:i});t?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(o.TRANSITION_DURATION):n.$element.trigger("focus").trigger(e)}))},o.prototype.hide=function(t){t&&t.preventDefault(),t=a.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(o.TRANSITION_DURATION):this.hideModal())},o.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},o.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},o.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(t){var e,i=this,n=this.$element.hasClass("fade")?"fade":"";this.isShown&&this.options.backdrop?(e=a.support.transition&&n,this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),t&&(e?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):t())):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e=function(){i.removeBackdrop(),t&&t()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):e()):t&&t()},o.prototype.handleUpdate=function(){this.adjustDialog()},o.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},o.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},o.prototype.checkScrollbar=function(){var t,e=window.innerWidth;e||(e=(t=document.documentElement.getBoundingClientRect()).right-Math.abs(t.left)),this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},o.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var s=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+s),a(this.fixedContent).each(function(t,e){var i=e.style.paddingRight,n=a(e).css("padding-right");a(e).data("padding-right",i).css("padding-right",parseFloat(n)+s+"px")}))},o.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),a(this.fixedContent).each(function(t,e){var i=a(e).data("padding-right");a(e).removeData("padding-right"),e.style.paddingRight=i||""})},o.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=a.fn.modal;a.fn.modal=r,a.fn.modal.Constructor=o,a.fn.modal.noConflict=function(){return a.fn.modal=t,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=a(this),i=e.attr("href"),n=e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,""),s=a(document).find(n),i=s.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(i)&&i},s.data(),e.data());e.is("a")&&t.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),r.call(s,i,this)})}(jQuery),function(u){"use strict";var n=["sanitize","whiteList","sanitizeFn"],f=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],t={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},m=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,g=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function s(t,e,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);if(!document.implementation||!document.implementation.createHTMLDocument)return t;i=document.implementation.createHTMLDocument("sanitization");i.body.innerHTML=t;for(var n=u.map(e,function(t,e){return e}),s=u(i.body).find("*"),a=0,o=s.length;a<o;a++){var r=s[a],l=r.nodeName.toLowerCase();if(-1!==u.inArray(l,n))for(var h=u.map(r.attributes,function(t){return t}),d=[].concat(e["*"]||[],e[l]||[]),c=0,p=h.length;c<p;c++)!function(t,e){var i=t.nodeName.toLowerCase();if(-1!==u.inArray(i,e))return-1===u.inArray(i,f)||Boolean(t.nodeValue.match(m)||t.nodeValue.match(g));for(var n=u(e).filter(function(t,e){return e instanceof RegExp}),s=0,a=n.length;s<a;s++)if(i.match(n[s]))return 1}(h[c],d)&&r.removeAttribute(h[c].nodeName);else r.parentNode.removeChild(r)}return i.body.innerHTML}function l(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)}l.VERSION="3.4.1",l.TRANSITION_DURATION=150,l.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:t},l.prototype.init=function(t,e,i){if(this.enabled=!0,this.type=t,this.$element=u(e),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&u(document).find(u.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a,o=n[s];"click"==o?this.$element.on("click."+this.type,this.options.selector,u.proxy(this.toggle,this)):"manual"!=o&&(a="hover"==o?"mouseenter":"focusin",o="hover"==o?"mouseleave":"focusout",this.$element.on(a+"."+this.type,this.options.selector,u.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,u.proxy(this.leave,this)))}this.options.selector?this._options=u.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},l.prototype.getDefaults=function(){return l.DEFAULTS},l.prototype.getOptions=function(t){var e,i=this.$element.data();for(e in i)i.hasOwnProperty(e)&&-1!==u.inArray(e,n)&&delete i[e];return(t=u.extend({},this.getDefaults(),i,t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t.sanitize&&(t.template=s(t.template,t.whiteList,t.sanitizeFn)),t},l.prototype.getDelegateOptions=function(){var i={},n=this.getDefaults();return this._options&&u.each(this._options,function(t,e){n[t]!=e&&(i[t]=e)}),i},l.prototype.enter=function(t){var e=t instanceof this.constructor?t:u(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),u(t.currentTarget).data("bs."+this.type,e)),t instanceof u.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},l.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},l.prototype.leave=function(t){var e=t instanceof this.constructor?t:u(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),u(t.currentTarget).data("bs."+this.type,e)),t instanceof u.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},l.prototype.show=function(){var e,t,i,n,s,a,o,r=u.Event("show.bs."+this.type);this.hasContent()&&this.enabled&&(this.$element.trigger(r),i=u.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),!r.isDefaultPrevented()&&i&&(t=(e=this).tip(),a=this.getUID(this.type),this.setContent(),t.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,(s=(n=/\s?auto?\s?/i).test(o))&&(o=o.replace(n,"")||"top"),t.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?t.appendTo(u(document).find(this.options.container)):t.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type),r=this.getPosition(),i=t[0].offsetWidth,a=t[0].offsetHeight,s&&(n=o,s=this.getPosition(this.$viewport),o="bottom"==o&&r.bottom+a>s.bottom?"top":"top"==o&&r.top-a<s.top?"bottom":"right"==o&&r.right+i>s.width?"left":"left"==o&&r.left-i<s.left?"right":o,t.removeClass(n).addClass(o)),a=this.getCalculatedOffset(o,r,i,a),this.applyPlacement(a,o),o=function(){var t=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==t&&e.leave(e)},u.support.transition&&this.$tip.hasClass("fade")?t.one("bsTransitionEnd",o).emulateTransitionEnd(l.TRANSITION_DURATION):o()))},l.prototype.applyPlacement=function(t,e){var i=this.tip(),n=i[0].offsetWidth,s=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),o=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(o)&&(o=0),t.top+=a,t.left+=o,u.offset.setOffset(i[0],u.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),i.addClass("in");var r=i[0].offsetWidth,a=i[0].offsetHeight;"top"==e&&a!=s&&(t.top=t.top+s-a);o=this.getViewportAdjustedDelta(e,t,r,a);o.left?t.left+=o.left:t.top+=o.top;e=/top|bottom/.test(e),s=e?2*o.left-n+r:2*o.top-s+a,a=e?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(s,i[0][a],e)},l.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},l.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();this.options.html?(this.options.sanitize&&(e=s(e,this.options.whiteList,this.options.sanitizeFn)),t.find(".tooltip-inner").html(e)):t.find(".tooltip-inner").text(e),t.removeClass("fade in top bottom left right")},l.prototype.hide=function(t){var e=this,i=u(this.$tip),n=u.Event("hide.bs."+this.type);function s(){"in"!=e.hoverState&&i.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),t&&t()}if(this.$element.trigger(n),!n.isDefaultPrevented())return i.removeClass("in"),u.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",s).emulateTransitionEnd(l.TRANSITION_DURATION):s(),this.hoverState=null,this},l.prototype.fixTitle=function(){var t=this.$element;!t.attr("title")&&"string"==typeof t.attr("data-original-title")||t.attr("data-original-title",t.attr("title")||"").attr("title","")},l.prototype.hasContent=function(){return this.getTitle()},l.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],i="BODY"==e.tagName,n=e.getBoundingClientRect();null==n.width&&(n=u.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));e=window.SVGElement&&e instanceof window.SVGElement,e=i?{top:0,left:0}:e?null:t.offset(),t={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},i=i?{width:u(window).width(),height:u(window).height()}:null;return u.extend({},n,t,i,e)},l.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},l.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var a,o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);return/right|left/.test(t)?(t=e.top-o-r.scroll,a=e.top+o-r.scroll+n,t<r.top?s.top=r.top-t:a>r.top+r.height&&(s.top=r.top+r.height-a)):(a=e.left-o,i=e.left+o+i,a<r.left?s.left=r.left-a:i>r.right&&(s.left=r.left+r.width-i)),s},l.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},l.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},l.prototype.tip=function(){if(!this.$tip&&(this.$tip=u(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},l.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},l.prototype.enable=function(){this.enabled=!0},l.prototype.disable=function(){this.enabled=!1},l.prototype.toggleEnabled=function(){this.enabled=!this.enabled},l.prototype.toggle=function(t){var e=this;t&&((e=u(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),u(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},l.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})},l.prototype.sanitizeHtml=function(t){return s(t,this.options.whiteList,this.options.sanitizeFn)};var e=u.fn.tooltip;u.fn.tooltip=function(n){return this.each(function(){var t=u(this),e=t.data("bs.tooltip"),i="object"==typeof n&&n;!e&&/destroy|hide/.test(n)||(e||t.data("bs.tooltip",e=new l(this,i)),"string"==typeof n&&e[n]())})},u.fn.tooltip.Constructor=l,u.fn.tooltip.noConflict=function(){return u.fn.tooltip=e,this}}(jQuery),function(s){"use strict";function a(t,e){this.init("popover",t,e)}if(!s.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.4.1",a.DEFAULTS=s.extend({},s.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((a.prototype=s.extend({},s.fn.tooltip.Constructor.prototype)).constructor=a).prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var t,e=this.tip(),i=this.getTitle(),n=this.getContent();this.options.html?(t=typeof n,this.options.sanitize&&(i=this.sanitizeHtml(i),"string"==t&&(n=this.sanitizeHtml(n))),e.find(".popover-title").html(i),e.find(".popover-content").children().detach().end()["string"==t?"html":"append"](n)):(e.find(".popover-title").text(i),e.find(".popover-content").children().detach().end().text(n)),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=s.fn.popover;s.fn.popover=function(n){return this.each(function(){var t=s(this),e=t.data("bs.popover"),i="object"==typeof n&&n;!e&&/destroy|hide/.test(n)||(e||t.data("bs.popover",e=new a(this,i)),"string"==typeof n&&e[n]())})},s.fn.popover.Constructor=a,s.fn.popover.noConflict=function(){return s.fn.popover=t,this}}(jQuery),function(s){"use strict";function a(t,e){this.$body=s(document.body),this.$scrollElement=s(t).is(document.body)?s(window):s(t),this.options=s.extend({},a.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s.proxy(this.process,this)),this.refresh(),this.process()}function e(n){return this.each(function(){var t=s(this),e=t.data("bs.scrollspy"),i="object"==typeof n&&n;e||t.data("bs.scrollspy",e=new a(this,i)),"string"==typeof n&&e[n]()})}a.VERSION="3.4.1",a.DEFAULTS={offset:10},a.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},a.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),s.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=s(this),e=t.data("target")||t.attr("href"),t=/^#./.test(e)&&s(e);return t&&t.length&&t.is(":visible")?[[t[i]().top+n,e]]:null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},a.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),n<=e)return o!=(t=a[a.length-1])&&this.activate(t);if(o&&e<s[0])return this.activeTarget=null,this.clear();for(t=s.length;t--;)o!=a[t]&&e>=s[t]&&(void 0===s[t+1]||e<s[t+1])&&this.activate(a[t])},a.prototype.activate=function(t){this.activeTarget=t,this.clear();t=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',t=s(t).parents("li").addClass("active");t.parent(".dropdown-menu").length&&(t=t.closest("li.dropdown").addClass("active")),t.trigger("activate.bs.scrollspy")},a.prototype.clear=function(){s(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=s.fn.scrollspy;s.fn.scrollspy=e,s.fn.scrollspy.Constructor=a,s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=t,this},s(window).on("load.bs.scrollspy.data-api",function(){s('[data-spy="scroll"]').each(function(){var t=s(this);e.call(t,t.data())})})}(jQuery),function(o){"use strict";function r(t){this.element=o(t)}function e(i){return this.each(function(){var t=o(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new r(this)),"string"==typeof i&&e[i]()})}r.VERSION="3.4.1",r.TRANSITION_DURATION=150,r.prototype.show=function(){var t,e,i,n=this.element,s=n.closest("ul:not(.dropdown-menu)"),a=(a=n.data("target"))||(a=n.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,"");n.parent("li").hasClass("active")||(t=s.find(".active:last a"),e=o.Event("hide.bs.tab",{relatedTarget:n[0]}),i=o.Event("show.bs.tab",{relatedTarget:t[0]}),t.trigger(e),n.trigger(i),i.isDefaultPrevented()||e.isDefaultPrevented()||(a=o(document).find(a),this.activate(n.closest("li"),s),this.activate(a,a.parent(),function(){t.trigger({type:"hidden.bs.tab",relatedTarget:n[0]}),n.trigger({type:"shown.bs.tab",relatedTarget:t[0]})})))},r.prototype.activate=function(t,e,i){var n=e.find("> .active"),s=i&&o.support.transition&&(n.length&&n.hasClass("fade")||!!e.find("> .fade").length);function a(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}n.length&&s?n.one("bsTransitionEnd",a).emulateTransitionEnd(r.TRANSITION_DURATION):a(),n.removeClass("in")};var t=o.fn.tab;function i(t){t.preventDefault(),e.call(o(this),"show")}o.fn.tab=e,o.fn.tab.Constructor=r,o.fn.tab.noConflict=function(){return o.fn.tab=t,this},o(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(o){"use strict";var r=function(t,e){this.options=o.extend({},r.DEFAULTS,e);e=this.options.target===r.DEFAULTS.target?o(this.options.target):o(document).find(this.options.target);this.$target=e.on("scroll.bs.affix.data-api",o.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",o.proxy(this.checkPositionWithEventLoop,this)),this.$element=o(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function i(n){return this.each(function(){var t=o(this),e=t.data("bs.affix"),i="object"==typeof n&&n;e||t.data("bs.affix",e=new r(this,i)),"string"==typeof n&&e[n]()})}r.VERSION="3.4.1",r.RESET="affix affix-top affix-bottom",r.DEFAULTS={offset:0,target:window},r.prototype.getState=function(t,e,i,n){var s=this.$target.scrollTop(),a=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return s<i&&"top";if("bottom"==this.affixed)return null!=i?!(s+this.unpin<=a.top)&&"bottom":!(s+o<=t-n)&&"bottom";var r=null==this.affixed,a=r?s:a.top;return null!=i&&s<=i?"top":null!=n&&t-n<=a+(r?o:e)&&"bottom"},r.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(r.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},r.prototype.checkPositionWithEventLoop=function(){setTimeout(o.proxy(this.checkPosition,this),1)},r.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,i=e.top,n=e.bottom,s=Math.max(o(document).height(),o(document.body).height());"object"!=typeof e&&(n=i=e),"function"==typeof i&&(i=e.top(this.$element)),"function"==typeof n&&(n=e.bottom(this.$element));var a=this.getState(s,t,i,n);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");e="affix"+(a?"-"+a:""),i=o.Event(e+".bs.affix");if(this.$element.trigger(i),i.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(r.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-n})}};var t=o.fn.affix;o.fn.affix=i,o.fn.affix.Constructor=r,o.fn.affix.noConflict=function(){return o.fn.affix=t,this},o(window).on("load",function(){o('[data-spy="affix"]').each(function(){var t=o(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),i.call(t,e)})})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery","bootstrap"],t):t(jQuery)}(function(t){if(void 0===t)throw new Error("Fuel UX's JavaScript requires jQuery");if(void 0===t.fn.dropdown||void 0===t.fn.collapse)throw new Error("Fuel UX's JavaScript requires Bootstrap");function n(t){window&&window.console&&window.console.error&&window.console.error(t)}function o(t,e){this.options=r.extend({},r.fn.checkbox.defaults,e),e=r(t),"label"===t.tagName.toLowerCase()?(this.$label=e,this.$chk=this.$label.find('input[type="checkbox"]'),this.$container=e.parent(".checkbox"),!this.options.ignoreVisibilityCheck&&this.$chk.css("visibility").match(/hidden|collapse/)&&n("For accessibility reasons, in order for tab and space to function on checkbox, checkbox `<input />`'s `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details."),e=this.$chk.attr("data-toggle"),this.$toggleContainer=r(e),this.$chk.on("change",r.proxy(this.itemchecked,this)),this.setInitialState()):n("Checkbox must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/checkbox.html for example of proper markup. Call `.checkbox()` on the `<label>` not the `<input>`")}var r,s,l,a,h,x,d,c,p,u,f,m,g,v,b,$,y,w,C,k,S,T,D,I,_,O,E,A,M,z,N,B,H,P,Y,V,R,F,L,j,U,W,K,Q,G,Z,q,J,X,tt,et,it,nt,st,at,ot,rt,lt;function ht(t,e){this.$element=l(t),this.options=l.extend({},l.fn.combobox.defaults,e),this.$dropMenu=this.$element.find(".dropdown-menu"),this.$input=this.$element.find("input"),this.$button=this.$element.find(".btn"),this.$inputGroupBtn=this.$element.find(".input-group-btn"),this.$element.on("click.fu.combobox","a",l.proxy(this.itemclicked,this)),this.$element.on("change.fu.combobox","input",l.proxy(this.inputchanged,this)),this.$element.on("hide.bs.dropdown",l.proxy(this.menuHide,this)),this.$element.on("shown.bs.dropdown",l.proxy(this.menuShown,this)),this.$input.on("keyup.fu.combobox",l.proxy(this.keypress,this)),this.$input.on("click.fu.combobox",l.proxy(this.inputclick,this)),this.setDefaultSelection(),0===this.$dropMenu.children("li").length&&this.$button.addClass("disabled"),this.options.filterOnKeypress&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this)}function dt(t){this.invalid=!1,this.jalaliEpoch=1948320.5,this.gregorianEpoch=1721425.5;var i=[31,31,31,31,31,31,30,30,30,30,30,29];this.leap_persian=function(t){return 682*((t-(0<t?474:473))%2820+474+38)%2816<682},this.leap_gregorian=function(t){return t%4==0&&(t%100!=0||t%400==0)},this.persian_to_jd=function(t,e,i){var n=epyear=exyear=0;return exyear=Math.floor((e-1)/12),t+=exyear,e-=12*exyear,epyear=474+(n=t-(0<=t?474:473))%2820,i+(e<=7?31*(e-1):30*(e-1)+6)+Math.floor((682*epyear-110)/2816)+365*(epyear-1)+1029983*Math.floor(n/2820)+(this.jalaliEpoch-1)},this.jd_to_persian=function(t){var e=month=day=wday=depoch=cycle=cyear=ycycle=aux1=aux2=yday=0;return t=Math.floor(t)+.5,wday=Math.floor(t+1.5+1)%7,depoch=t-this.persian_to_jd(475,1,1),cycle=Math.floor(depoch/1029983),cyear=depoch%1029983,ycycle=1029982==cyear?2820:(aux1=Math.floor(cyear/366),aux2=cyear%366,Math.floor((2134*aux1+2816*aux2+2815)/1028522)+aux1+1),(e=ycycle+2820*cycle+474)<=0&&e--,yday=t-this.persian_to_jd(e,1,1)+1,month=yday<=186?Math.ceil(yday/31):Math.ceil((yday-6)/30),day=t-this.persian_to_jd(e,month,1)+1,{year:e,month:month,day:day,weekDay:wday,monthDays:i[month-1]+(12==month?Number(this.leap_persian(e)):0),yearDay:yday}},this.gregorian_to_jd=function(t,e,i){return this.gregorianEpoch-1+365*(t-1)+Math.floor((t-1)/4)+-Math.floor((t-1)/100)+Math.floor((t-1)/400)+Math.floor((367*e-362)/12+(e<=2?0:this.leap_gregorian(t)?-1:-2)+i)};var e,n=month=day=wday=days=hour=minute=second=0;switch(h.type(t)){case"string":(t=t.split(/\/|\-|\:/))[1]--;case"array":if(t.length){n=parseInt(t[0]),month=parseInt(Number(t[1])+1),day=parseInt(t[2]),hour=parseInt(t[3])||0,minute=parseInt(t[4])||0,second=parseInt(t[5])||0,days=this.persian_to_jd(n,month,day);break}t=null;case"number":if(isNaN(t))return new Date(NaN);var s=new Date;null!=t&&s.setTime(1e3*t),n=parseInt(s.getFullYear()),month=parseInt(Number(s.getMonth())+1),day=parseInt(s.getDate()),hour=parseInt(s.getHours()),minute=parseInt(s.getMinutes()),second=parseInt(s.getSeconds()),days=this.gregorian_to_jd(n,month,day);break;default:this.invalid=!0}this.invalid?(this.jYear=0,this.jMonth=0,this.jDay=0,this.jWeekDay=0,this.jHour=0,this.jMinute=0,this.jSecond=0,this.isLeapYear=!1):(e=this.jd_to_persian(days),this.jYear=e.year,this.jMonth=e.month,this.jDay=e.day,this.jWeekDay=e.weekDay,this.jHour=hour,this.jMinute=minute,this.jSecond=second,this.isLeapYear=this.leap_persian(this.jYear)),this.getFullYear=function(){return this.jYear},this.getMonth=function(){return this.jMonth-1},this.getDate=function(){return this.jDay},this.getDay=function(){return this.jWeekDay},this.getMonthDays=function(t){return this.isLeapYear&&12==t?30:i[t-1]},this.getHours=function(){return this.jHour},this.getMinutes=function(){return this.jMinute},this.getSeconds=function(){return this.jSecond},this.format=function(t){if(this.invalid)return"";var e=0,i="";for(t=t||"YYYY-MM-DD";e<t.length;){switch(t.charAt(e)){case"H":"HH"==t.substr(e,2)?(e++,i+=(this.jHour+1).toString().padStart(2,"0")):i+=this.jHour+1;break;case"m":"mm"==t.substr(e,2)?(e++,i+=(this.jMinute+1).toString().padStart(2,"0")):i+=this.jMinute+1;break;case"s":"ss"==t.substr(e,2)?(e++,i+=(this.jSecond+1).toString().padStart(2,"0")):i+=this.jSecond+1;break;case"D":"DD"==t.substr(e,2)?(e++,i+=this.jDay.toString().padStart(2,"0")):i+=this.jDay;break;case"M":"MM"==t.substr(e,2)?(e++,i+=this.jMonth.toString().padStart(2,"0")):i+=this.jMonth;break;case"Y":"YYYY"==t.substr(e,4)?(e+=3,i+=this.jYear.toString().padStart(4,"0")):"YYY"==t.substr(e,3)?(e+=2,i+=this.jYear.toString().padStart(3,"0")):"YY"==t.substr(e,2)?(e++,i+=this.jYear.toString().padStart(2,"0")):i+=this.jYear;break;default:i+=t.charAt(e)}e++}return i},this.toString=function(){return this.jYear+"/"+this.jMonth+"/"+this.jDay}}function ct(t){this.gdate,this.invalid=!1;var e=[31,28,31,30,31,30,31,31,30,31,30,31];switch(h.type(t)){case"number":if(isNaN(t))return new Date(NaN);this.gdate=new Date,this.gdate.setTime(1e3*t);break;case"string":(t=t.split(/\/|\-|\:/))[1]--;case"array":t.length?this.gdate=new Date(parseInt(t[0]),parseInt(t[1]),parseInt(t[2]),parseInt(t[3])||0,parseInt(t[4])||0,parseInt(t[5])||0):this.gdate=new Date;break;default:this.invalid=!0}this.invalid?(this.gYear=0,this.gMonth=0,this.gDay=0,this.gWeekDay=0,this.gHour=0,this.gMinute=0,this.gSecond=0):(this.gYear=parseInt(this.gdate.getFullYear()),this.gMonth=parseInt(this.gdate.getMonth()),this.gDay=parseInt(this.gdate.getDate()),this.gWeekDay=parseInt(this.gdate.getDay()),this.gHour=parseInt(this.gdate.getHours()),this.gMinute=parseInt(this.gdate.getMinutes()),this.gSecond=parseInt(this.gdate.getSeconds())),this.isLeapYear=this.gYear%4==0&&(this.gYear%100!=0||this.gYear%400==0),this.getFullYear=function(){return this.gYear},this.getMonth=function(){return this.gMonth},this.getDate=function(){return this.gDay},this.getDay=function(){return this.gWeekDay},this.getHours=function(){return this.gHour},this.getMinutes=function(){return this.gMinute},this.getSeconds=function(){return this.gSecond},this.getMonthDays=function(t){return this.isLeapYear&&2==t?29:e[t-1]},this.format=function(t){if(this.invalid)return"";var e=0,i="";for(t=t||"YYYY-MM-DD";e<t.length;){switch(t.charAt(e)){case"H":"HH"==t.substr(e,2)?(e++,i+=(this.gHour+1).toString().padStart(2,"0")):i+=this.gHour+1;break;case"m":"mm"==t.substr(e,2)?(e++,i+=(this.gMinute+1).toString().padStart(2,"0")):i+=this.gMinute+1;break;case"s":"ss"==t.substr(e,2)?(e++,i+=(this.gSecond+1).toString().padStart(2,"0")):i+=this.gSecond+1;break;case"D":"DD"==t.substr(e,2)?(e++,i+=this.gDay.toString().padStart(2,"0")):i+=this.gDay;break;case"M":"MM"==t.substr(e,2)?(e++,i+=(this.gMonth+1).toString().padStart(2,"0")):i+=this.gMonth+1;break;case"Y":"YYYY"==t.substr(e,4)?(e+=3,i+=this.gYear.toString().padStart(4,"0")):"YYY"==t.substr(e,3)?(e+=2,i+=this.gYear.toString().padStart(3,"0")):"YY"==t.substr(e,2)?(e++,i+=this.gYear.toString().padStart(2,"0")):i+=this.gYear;break;default:i+=t.charAt(e)}e++}return i}}function pt(){var t,e;for(m=!0,t=0,e=p.length;t<e;t++)p[t].init.call(p[t].scope);p=[]}function ut(t,e){this.$element=x(t),this.options=x.extend(!0,{},x.fn.datepicker.defaults,e),this.$calendar=this.$element.find(".datepicker-calendar"),this.$days=this.$calendar.find(".datepicker-calendar-days"),this.$header=this.$calendar.find(".datepicker-calendar-header"),this.$headerTitle=this.$header.find(".title"),this.$input=this.$element.find("input"),this.$inputGroupBtn=this.$element.find(".input-group-btn"),this.$wheels=this.$element.find(".datepicker-wheels"),this.$wheelsMonth=this.$element.find(".datepicker-wheels-month"),this.$wheelsYear=this.$element.find(".datepicker-wheels-year"),this.artificialScrolling=!1,this.options.date=this.dateCalendar(NaN),this.formatDate=this.options.formatDate||this.formatDate,this.inputValue=null,this.moment=!1,this.momentFormat=null,this.parseDate=this.options.parseDate||this.parseDate,this.preventBlurHide=!1,this.restricted=this.options.restricted||[],this.restrictedParsed=[],this.restrictedText=this.options.restrictedText,this.sameYearOnly=this.options.sameYearOnly,this.selectedDate=null,this.yearRestriction=null,this.$calendar.find(".datepicker-today").on("click.fu.datepicker",x.proxy(this.todayClicked,this)),this.$days.on("click.fu.datepicker","tr td button",x.proxy(this.dateClicked,this)),this.$header.find(".next").on("click.fu.datepicker",x.proxy(this.next,this)),this.$header.find(".prev").on("click.fu.datepicker",x.proxy(this.prev,this)),this.$headerTitle.on("click.fu.datepicker",x.proxy(this.titleClicked,this)),this.$input.on("change.fu.datepicker",x.proxy(this.inputChanged,this)),this.$input.on("mousedown.fu.datepicker",x.proxy(this.showDropdown,this)),this.$inputGroupBtn.on("hidden.bs.dropdown",x.proxy(this.hide,this)),this.$inputGroupBtn.on("shown.bs.dropdown",x.proxy(this.show,this)),this.$wheels.find(".datepicker-wheels-back").on("click.fu.datepicker",x.proxy(this.backClicked,this)),this.$wheels.find(".datepicker-wheels-select").on("click.fu.datepicker",x.proxy(this.selectClicked,this)),this.$wheelsMonth.on("click.fu.datepicker","ul button",x.proxy(this.monthClicked,this)),this.$wheelsYear.on("click.fu.datepicker","ul button",x.proxy(this.yearClicked,this)),this.$wheelsYear.find("ul").on("scroll.fu.datepicker",x.proxy(this.onYearScroll,this)),e=function(){this.checkForMomentJS()&&(u=u||window.moment,this.moment=!0,this.momentFormat=this.options.momentConfig.format,this.setCulture(this.options.momentConfig.culture),u.locale=u.locale||u.lang),this.setRestrictedDates(this.restricted),this.setDate(this.options.date)||this.setDate(this.$input.val())||(this.$input.val(""),this.inputValue=this.$input.val()),this.sameYearOnly&&(this.yearRestriction=(this.selectedDate||this.dateCalendar()).getFullYear())},m?e.call(this):p.push({init:e,scope:this})}function ft(t){var e,i,n;g(t).css({visibility:"hidden"}),i=function(t){var i,e=t.attr("data-target"),n=!0;e?"window"!==e&&(i=g(e),n=!1):g.each(t.parents(),function(t,e){if("visible"!==g(e).css("overflow"))return i=e,n=!1});n&&(i=window);return{overflowElement:g(i),isWindow:n}}(e=t),(n={}).parentHeight=e.parent().outerHeight(),n.parentOffsetTop=e.parent().offset().top,n.dropdownHeight=e.outerHeight(),n.containerHeight=i.overflowElement.outerHeight(),n.containerOffsetTop=i.isWindow?i.overflowElement.scrollTop():i.overflowElement.offset().top,n.fromTop=n.parentOffsetTop-n.containerOffsetTop,n.fromBottom=n.containerHeight-n.parentHeight-(n.parentOffsetTop-n.containerOffsetTop),n.dropdownHeight<n.fromBottom||!(n.dropdownHeight<n.fromTop||(n.dropdownHeight>=n.fromTop&&n.dropdownHeight>=n.fromBottom?n.fromTop>=n.fromBottom:void 0))?t.parent().removeClass("dropup"):t.parent().addClass("dropup"),g(t).css({visibility:"visible"})}function mt(t,e){this.$element=v(t),this.options=v.extend({},v.fn.loader.defaults,e)}function gt(t,e){var i=this;this.$element=$(t),this.options=$.extend({},$.fn.placard.defaults,e),"true"===this.$element.attr("data-ellipsis")&&(this.options.applyEllipsis=!0),this.$accept=this.$element.find(".placard-accept"),this.$cancel=this.$element.find(".placard-cancel"),this.$field=this.$element.find(".placard-field"),this.$footer=this.$element.find(".placard-footer"),this.$header=this.$element.find(".placard-header"),this.$popup=this.$element.find(".placard-popup"),this.actualValue=null,this.clickStamp="_",this.previousValue="",-1===this.options.revertOnCancel&&(this.options.revertOnCancel=0<this.$accept.length),this.isContentEditableDiv=this.$field.is("div"),this.isInput=this.$field.is("input"),this.divInTextareaMode=this.isContentEditableDiv&&"true"===this.$field.attr("data-textarea"),this.$field.on("focus.fu.placard",$.proxy(this.show,this)),this.$field.on("keydown.fu.placard",$.proxy(this.keyComplete,this)),this.$element.on("close.fu.placard",$.proxy(this.hide,this)),this.$accept.on("click.fu.placard",$.proxy(this.complete,this,"accepted")),this.$cancel.on("click.fu.placard",function(t){t.preventDefault(),i.complete("cancelled")}),this.applyEllipsis()}function vt(t){return t.$element.hasClass("showing")}function bt(t){window&&window.console&&window.console.error&&window.console.error(t)}function $t(t,e){this.options=C.extend({},C.fn.radio.defaults,e),"label"===t.tagName.toLowerCase()?(this.$label=C(t),this.$radio=this.$label.find('input[type="radio"]'),this.groupName=this.$radio.attr("name"),!this.options.ignoreVisibilityCheck&&this.$radio.css("visibility").match(/hidden|collapse/)&&bt("For accessibility reasons, in order for tab and space to function on radio, `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details."),t=this.$radio.attr("data-toggle"),this.$toggleContainer=C(t),this.$radio.on("change",C.proxy(this.itemchecked,this)),this.setInitialState()):bt("Radio must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/radio.html for example of proper markup. Call `.radio()` on the `<label>` not the `<input>`")}function yt(t,e){this.$element=S(t),this.$repeater=S(t).closest(".repeater"),this.options=S.extend({},S.fn.search.defaults,e),"true"===this.$element.attr("data-searchOnKeyPress")&&(this.options.searchOnKeyPress=!0),this.$button=this.$element.find("button"),this.$input=this.$element.find("input"),this.$icon=this.$element.find(".glyphicon, .fuelux-icon"),this.$button.on("click.fu.search",S.proxy(this.buttonclicked,this)),this.$input.on("keyup.fu.search",S.proxy(this.keypress,this)),0<this.$repeater.length&&this.$repeater.on("rendered.fu.repeater",S.proxy(this.clearPending,this)),this.activeSearch=""}function wt(t,e){this.$element=D(t),this.options=D.extend({},D.fn.selectlist.defaults,e),this.$button=this.$element.find(".btn.dropdown-toggle"),this.$hiddenField=this.$element.find(".hidden-field"),this.$label=this.$element.find(".selected-label"),this.$dropdownMenu=this.$element.find(".dropdown-menu"),this.$element.on("click.fu.selectlist",".dropdown-menu a",D.proxy(this.itemClicked,this)),this.setDefaultSelection(),"auto"!==e.resize&&"auto"!==this.$element.attr("data-resize")||this.resize(),0===this.$dropdownMenu.children("li").length&&(this.disable(),this.doSelect(D(this.options.emptyLabelHTML))),this.$element.on("shown.bs.dropdown",function(){var e=D(this);D(document).on("keypress.fu.selectlist",function(t){var i=String.fromCharCode(t.which);e.find("li").each(function(t,e){if(D(e).text().charAt(0).toLowerCase()===i)return D(e).children("a").focus(),!1})})}),this.$element.on("hide.bs.dropdown",function(){D(document).off("keypress.fu.selectlist")})}function Ct(t,e){this.$element=_(t),this.$element.find(".btn").on("click",function(t){t.preventDefault()}),this.options=_.extend({},_.fn.spinbox.defaults,e),this.options.step=this.$element.data("step")||this.options.step,this.options.value<this.options.min?this.options.value=this.options.min:this.options.max<this.options.value&&(this.options.value=this.options.max),this.$input=this.$element.find(".spinbox-input"),this.$input.on("focusout.fu.spinbox",this.$input,_.proxy(this.change,this)),this.$element.on("keydown.fu.spinbox",this.$input,_.proxy(this.keydown,this)),this.$element.on("keyup.fu.spinbox",this.$input,_.proxy(this.keyup,this)),this.options.hold?(this.$element.on("mousedown.fu.spinbox",".spinbox-up",_.proxy(function(){this.startSpin(!0)},this)),this.$element.on("mouseup.fu.spinbox",".spinbox-up, .spinbox-down",_.proxy(this.stopSpin,this)),this.$element.on("mouseout.fu.spinbox",".spinbox-up, .spinbox-down",_.proxy(this.stopSpin,this)),this.$element.on("mousedown.fu.spinbox",".spinbox-down",_.proxy(function(){this.startSpin(!1)},this))):(this.$element.on("click.fu.spinbox",".spinbox-up",_.proxy(function(){this.step(!0)},this)),this.$element.on("click.fu.spinbox",".spinbox-down",_.proxy(function(){this.step(!1)},this))),this.switches={count:1,enabled:!0},"medium"===this.options.speed?this.switches.speed=300:"fast"===this.options.speed?this.switches.speed=100:this.switches.speed=500,this.options.defaultUnit=E(this.options.defaultUnit,this.options.units)?this.options.defaultUnit:"",this.unit=this.options.defaultUnit,this.lastValue=this.options.value,this.render(),this.options.disabled&&this.disable()}function xt(t){return isNaN(parseFloat(t))||(t>this.options.max?t=this.options.cycle?this.options.min:this.options.max:t<this.options.min&&(t=this.options.cycle?this.options.max:this.options.min),this.options.limitToStep&&this.options.step&&(e=t,i=this.options.step,(t=Math.round(e/i)*i)>this.options.max?t-=this.options.step:t<this.options.min&&(t+=this.options.step))),t;var e,i}function kt(t,e){this.$element=B(t),this.options=B.extend({},B.fn.wizard.defaults,e),this.options.disablePreviousStep="previous"===this.$element.attr("data-restrict")||this.options.disablePreviousStep,this.currentStep=this.options.selectedItem.step,this.numSteps=this.$element.find(".steps li").length,this.$prevBtn=this.$element.find("button.btn-prev"),this.$nextBtn=this.$element.find("button.btn-next"),e=this.$nextBtn.children().detach(),this.nextText=B.trim(this.$nextBtn.text()),this.$nextBtn.append(e),0===(e=this.$element.children(".steps-container")).length&&(e=this.$element,this.$element.addClass("no-steps-container"),window&&window.console&&window.console.warn&&window.console.warn('please update your wizard markup to include ".steps-container" as seen in http://getfuelux.com/javascript.html#wizard-usage-markup')),e=e.find(".steps"),this.$prevBtn.on("click.fu.wizard",B.proxy(this.previous,this)),this.$nextBtn.on("click.fu.wizard",B.proxy(this.next,this)),e.on("click.fu.wizard","li.complete",B.proxy(this.stepclicked,this)),this.selectedItem(this.options.selectedItem),this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))}function St(t,e){this.$element=P(t),this.$element.addClass("infinitescroll"),this.options=P.extend({},P.fn.infinitescroll.defaults,e),this.curScrollTop=this.$element.scrollTop(),this.curPercentage=this.getPercentage(),this.fetchingData=!1,this.$element.on("scroll.fu.infinitescroll",P.proxy(this.onScroll,this))}function Tt(t,e){this.$element=V(t),this.$moreCount=this.$element.find(".pillbox-more-count"),this.$pillGroup=this.$element.find(".pill-group"),this.$addItem=this.$element.find(".pillbox-add-item"),this.$addItemWrap=this.$addItem.parent(),this.$suggest=this.$element.find(".suggest"),this.$pillHTML='<li class="btn btn-default pill">\t<span></span>\t<span class="glyphicon glyphicon-close">\t\t<span class="sr-only">Remove</span>\t</span></li>',this.options=V.extend({},V.fn.pillbox.defaults,e),-1===this.options.readonly?void 0!==this.$element.attr("data-readonly")&&this.readonly(!0):this.options.readonly&&this.readonly(!0),this.acceptKeyCodes=this._generateObject(this.options.acceptKeyCodes),this.$element.on("click.fu.pillbox",".pill-group > .pill",V.proxy(this.itemClicked,this)),this.$element.on("click.fu.pillbox",V.proxy(this.inputFocus,this)),this.$element.on("keydown.fu.pillbox",".pillbox-add-item",V.proxy(this.inputEvent,this)),this.options.onKeyDown&&this.$element.on("mousedown.fu.pillbox",".suggest > li",V.proxy(this.suggestionClick,this)),this.options.edit&&(this.$element.addClass("pills-editable"),this.$element.on("blur.fu.pillbox",".pillbox-add-item",V.proxy(this.cancelEdit,this))),this.$element.on("blur.fu.pillbox",".pillbox-add-item",V.proxy(this.inputEvent,this))}function Dt(t,e){var i,n=this;this.$element=J(t),this.$canvas=this.$element.find(".repeater-canvas"),this.$count=this.$element.find(".repeater-count"),this.$end=this.$element.find(".repeater-end"),this.$filters=this.$element.find(".repeater-filters"),this.$loader=this.$element.find(".repeater-loader"),this.$pageSize=this.$element.find(".repeater-itemization .selectlist"),this.$nextBtn=this.$element.find(".repeater-next"),this.$pages=this.$element.find(".repeater-pages"),this.$prevBtn=this.$element.find(".repeater-prev"),this.$primaryPaging=this.$element.find(".repeater-primaryPaging"),this.$search=this.$element.find(".repeater-search").find(".search"),this.$secondaryPaging=this.$element.find(".repeater-secondaryPaging"),this.$start=this.$element.find(".repeater-start"),this.$viewport=this.$element.find(".repeater-viewport"),this.$views=this.$element.find(".repeater-views"),this.currentPage=0,this.currentView=null,this.isDisabled=!1,this.infiniteScrollingCallback=function(){},this.infiniteScrollingCont=null,this.infiniteScrollingEnabled=!1,this.infiniteScrollingEnd=null,this.infiniteScrollingOptions={},this.lastPageInput=0,this.options=J.extend({},J.fn.repeater.defaults,e),this.pageIncrement=0,this.resizeTimeout={},this.stamp=(new Date).getTime()+(Math.floor(100*Math.random())+1),this.storedDataSourceOpts=null,this.syncingViewButtonState=!1,this.viewOptions={},this.viewType=null,this.$filters.selectlist(),this.$pageSize.selectlist(),this.$primaryPaging.find(".combobox").combobox(),this.$search.search({searchOnKeyPress:this.options.searchOnKeyPress,allowCancel:this.options.allowCancel}),this.$filters.on("changed.fu.selectlist",function(t,e){n.$element.trigger("filtered.fu.repeater",e),n.render({clearInfinite:!0,pageIncrement:null})}),this.$nextBtn.on("click.fu.repeater",J.proxy(this.next,this)),this.$pageSize.on("changed.fu.selectlist",function(t,e){n.$element.trigger("pageSizeChanged.fu.repeater",e),n.render({pageIncrement:null})}),this.$prevBtn.on("click.fu.repeater",J.proxy(this.previous,this)),this.$primaryPaging.find(".combobox").on("changed.fu.combobox",function(t,e){n.pageInputChange(e.text,e)}),this.$search.on("searched.fu.search cleared.fu.search",function(t,e){n.$element.trigger("searchChanged.fu.repeater",e),n.render({clearInfinite:!0,pageIncrement:null})}),this.$search.on("canceled.fu.search",function(t,e){n.$element.trigger("canceled.fu.repeater",e),n.render({clearInfinite:!0,pageIncrement:null})}),this.$secondaryPaging.on("blur.fu.repeater",function(){n.pageInputChange(n.$secondaryPaging.val())}),this.$secondaryPaging.on("keyup",function(t){13===t.keyCode&&n.pageInputChange(n.$secondaryPaging.val())}),this.$views.find("input").on("change.fu.repeater",J.proxy(this.viewChanged,this)),J(window).on("resize.fu.repeater."+this.stamp,function(){clearTimeout(n.resizeTimeout),n.resizeTimeout=setTimeout(function(){n.resize(),n.$element.trigger("resized.fu.repeater")},75)}),this.$loader.loader(),this.$loader.loader("pause"),i=-1!==this.options.defaultView?this.options.defaultView:0<(e=this.$views.find("label.active input")).length?e.val():"list",this.setViewOptions(i),this.initViewTypes(function(){n.resize(),n.$element.trigger("resized.fu.repeater"),n.render({changeView:i})})}function It(t){window.console&&window.console.warn&&window.console.warn(t)}function _t(t){var i=[];t.children().each(function(){var t=J(this),e=t.attr("data-preserve");"deep"===e?(t.detach(),i.push(t)):"shallow"===e&&(_t(t),t.detach(),i.push(t))}),t.empty(),t.append(i)}function Ot(t,e){var i;e&&"none"!==(i=e.action||"append")&&void 0!==e.item&&(void 0!==e.container?J(e.container):t)[i](e.item)}function Et(t,e,i){(t+=1)<e.length?tt.call(this,t,e,i):i()}function At(t,e){var i=this;this.$element=it(t),this.options=it.extend({},it.fn.scheduler.defaults,e),this.$startDate=this.$element.find(".start-datetime .start-date"),this.$startTime=this.$element.find(".start-datetime .start-time"),this.$timeZone=this.$element.find(".timezone-container .timezone"),this.$repeatIntervalPanel=this.$element.find(".repeat-every-panel"),this.$repeatIntervalSelect=this.$element.find(".repeat-options"),this.$repeatIntervalSpinbox=this.$element.find(".repeat-every"),this.$repeatIntervalTxt=this.$element.find(".repeat-every-text"),this.$end=this.$element.find(".repeat-end"),this.$endSelect=this.$end.find(".end-options"),this.$endAfter=this.$end.find(".end-after"),this.$endDate=this.$end.find(".end-on-date"),this.$recurrencePanels=this.$element.find(".repeat-panel"),this.$repeatIntervalSelect.selectlist(),this.$element.find(".selectlist").selectlist(),this.$startDate.datepicker(this.options.startDateOptions),e="function"==typeof this.options.startDateChanged?this.options.startDateChanged:this._guessEndDate,this.$startDate.on("change changed.fu.datepicker dateClicked.fu.datepicker",it.proxy(e,this)),this.$startTime.combobox(),""===this.$startTime.find("input").val()&&this.$startTime.combobox("selectByIndex",0),"0"===this.$repeatIntervalSpinbox.find("input").val()?this.$repeatIntervalSpinbox.spinbox({value:1,min:1,limitToStep:!0}):this.$repeatIntervalSpinbox.spinbox({min:1,limitToStep:!0}),this.$endAfter.spinbox({value:1,min:1,limitToStep:!0}),this.$endDate.datepicker(this.options.endDateOptions),this.$element.find(".radio-custom").radio(),this.$repeatIntervalSelect.on("changed.fu.selectlist",it.proxy(this.repeatIntervalSelectChanged,this)),this.$endSelect.on("changed.fu.selectlist",it.proxy(this.endSelectChanged,this)),this.$element.find(".repeat-days-of-the-week .btn-group .btn").on("change.fu.scheduler",function(t,e){i.changed(t,e,!0)}),this.$element.find(".combobox").on("changed.fu.combobox",it.proxy(this.changed,this)),this.$element.find(".datepicker").on("changed.fu.datepicker",it.proxy(this.changed,this)),this.$element.find(".datepicker").on("dateClicked.fu.datepicker",it.proxy(this.changed,this)),this.$element.find(".selectlist").on("changed.fu.selectlist",it.proxy(this.changed,this)),this.$element.find(".spinbox").on("changed.fu.spinbox",it.proxy(this.changed,this)),this.$element.find(".repeat-monthly .radio-custom, .repeat-yearly .radio-custom").on("change.fu.scheduler",it.proxy(this.changed,this))}function Mt(t,e){var i,n="";return n+=t.getFullYear(),n+=e,n+=(i=t.getMonth()+1)<10?"0"+i:i,n+=e,n+=(i=t.getDate())<10?"0"+i:i}function zt(t,e){var i=this;this.$element=at(t),this.options=at.extend({},at.fn.picker.defaults,e),this.$accept=this.$element.find(".picker-accept"),this.$cancel=this.$element.find(".picker-cancel"),this.$trigger=this.$element.find(".picker-trigger"),this.$footer=this.$element.find(".picker-footer"),this.$header=this.$element.find(".picker-header"),this.$popup=this.$element.find(".picker-popup"),this.$body=this.$element.find(".picker-body"),this.clickStamp="_",this.isInput=this.$trigger.is("input"),this.$trigger.on("keydown.fu.picker",at.proxy(this.keyComplete,this)),this.$trigger.on("focus.fu.picker",at.proxy(function(t){void 0!==t&&!at(t.target).is("input[type=text]")||at.proxy(this.show(),this)},this)),this.$trigger.on("click.fu.picker",at.proxy(function(t){at(t.target).is("input[type=text]")?at.proxy(this.show(),this):at.proxy(this.toggle(),this)},this)),this.$accept.on("click.fu.picker",at.proxy(this.complete,this,"accepted")),this.$cancel.on("click.fu.picker",function(t){t.preventDefault(),i.complete("cancelled")})}function Nt(t){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=at(document).scrollTop(),n=t.$popup.offset();return e+i<n.top+t.$popup.outerHeight(!0)||n.top<i}s=(r=t).fn.checkbox,(o.prototype={constructor:o,setInitialState:function(){var t=this.$chk,e=t.prop("checked"),i=t.prop("disabled");this.setCheckedState(t,e),this.setDisabledState(t,i)},setCheckedState:function(t,e){var i=t,n=this.$label,t=this.$toggleContainer;e?(i.prop("checked",!0),n.addClass("checked"),t.removeClass("hide hidden"),n.trigger("checked.fu.checkbox")):(i.prop("checked",!1),n.removeClass("checked"),t.addClass("hidden"),n.trigger("unchecked.fu.checkbox")),n.trigger("changed.fu.checkbox",e)},setDisabledState:function(t,e){var i=r(t),t=this.$label;return e?(i.prop("disabled",!0),t.addClass("disabled"),t.trigger("disabled.fu.checkbox")):(i.prop("disabled",!1),t.removeClass("disabled"),t.trigger("enabled.fu.checkbox")),i},itemchecked:function(t){var e=r(t.target),t=e.prop("checked");this.setCheckedState(e,t)},toggle:function(){this.isChecked()?this.uncheck():this.check()},check:function(){this.setCheckedState(this.$chk,!0)},uncheck:function(){this.setCheckedState(this.$chk,!1)},isChecked:function(){return this.$chk.prop("checked")},enable:function(){this.setDisabledState(this.$chk,!1)},disable:function(){this.setDisabledState(this.$chk,!0)},destroy:function(){return this.$label.remove(),this.$label[0].outerHTML}}).getValue=o.prototype.isChecked,r.fn.checkbox=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=r(this),e=t.data("fu.checkbox"),i="object"==typeof n&&n;e||t.data("fu.checkbox",e=new o(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},r.fn.checkbox.defaults={ignoreVisibilityCheck:!1},r.fn.checkbox.Constructor=o,r.fn.checkbox.noConflict=function(){return r.fn.checkbox=s,this},r(document).on("mouseover.fu.checkbox.data-api","[data-initialize=checkbox]",function(t){t=r(t.target);t.data("fu.checkbox")||t.checkbox(t.data())}),r(function(){r("[data-initialize=checkbox]").each(function(){var t=r(this);t.data("fu.checkbox")||t.checkbox(t.data())})}),a=(l=t).fn.combobox,(ht.prototype={constructor:ht,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){l(this).attr("value",l(this).val())}),this.$element[0].outerHTML},doSelect:function(t){void 0!==t[0]?(this.$element.find("li.selected:first").removeClass("selected"),this.$selectedItem=t,this.$selectedItem.addClass("selected"),this.$input.val(this.$selectedItem.text().trim())):(this.$selectedItem=null,this.$element.find("li.selected:first").removeClass("selected"))},clearSelection:function(){this.$selectedItem=null,this.$input.val(""),this.$dropMenu.find("li").removeClass("selected")},menuHide:function(t){this.options.showOptionsOnKeypress&&this.$input.is(":focus")&&t.preventDefault()},menuShown:function(){this.options.autoResizeMenu&&(this.$element.trigger(e=l.Event("shown.fu.combobox",this),this.options),this.resizeMenu())},resizeMenu:function(){let t;t="input"==this.options.autoResizeTo?this.$button.outerWidth()+this.$input.outerWidth():this.$element.outerWidth(),this.$dropMenu.outerWidth(t)},selectedItem:function(){var t;return this.$selectedItem?(t=this.$selectedItem.text().trim(),l.extend({text:t},this.$selectedItem.data())):{text:this.$input.val().trim(),notFound:!0}},selectByText:function(t){var e=l([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||l(this).text()||"").trim().toLowerCase()===(t||"").trim().toLowerCase())return e=l(this),!1}),this.doSelect(e)},selectByValue:function(t){t='li[data-value="'+t+'"]';this.selectBySelector(t)},selectByIndex:function(t){t="li:eq("+t+")";this.selectBySelector(t)},selectBySelector:function(t){t=this.$element.find(t);this.doSelect(t)},setDefaultSelection:function(){var t="li[data-selected=true]:first",e=this.$element.find(t);0<e.length&&(this.selectBySelector(t),e.removeData("selected"),e.removeAttr("data-selected"))},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled",!0),this.$button.addClass("disabled")},itemclicked:function(t){this.$selectedItem=l(t.target).parent(),this.$input.val(this.$selectedItem.text().trim()).trigger("change",{synthetic:!0});var e=this.selectedItem();this.$element.trigger("changed.fu.combobox",e),t.preventDefault(),this.$element.find(".dropdown-toggle").focus()},inputclick:function(t){this.options.showOptionsOnKeypress&&!this.$inputGroupBtn.hasClass("open")&&(this.$button.dropdown("toggle"),this.$input.focus())},keypress:function(t){var e,i=38===t.which||40===t.which||37===t.which||39===t.which;this.options.showOptionsOnKeypress&&!this.$inputGroupBtn.hasClass("open")&&(this.$button.dropdown("toggle"),this.$input.focus()),13===t.which?(t.preventDefault(),0<(e=this.$dropMenu.find("li.selected").text().trim()).length?this.selectByText(e):this.selectByText(this.$input.val()),this.$inputGroupBtn.removeClass("open")):27===t.which?(t.preventDefault(),this.clearSelection(),this.$inputGroupBtn.removeClass("open")):this.options.showOptionsOnKeypress&&(40!==t.which&&38!==t.which||(t.preventDefault(),0<(e=this.$dropMenu.find("li.selected")).length&&(e=40===t.which?e.next(":not(.hidden)"):e.prev(":not(.hidden)")),0===e.length&&(e=40===t.which?this.$dropMenu.find("li:not(.hidden):first"):this.$dropMenu.find("li:not(.hidden):last")),this.doSelect(e))),this.options.filterOnKeypress&&!i&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this),this.previousKeyPress=t.which},inputchanged:function(t,e){t=l(t.target).val();e&&e.synthetic?this.selectByText(t):(this.selectByText(t),0===(e=this.selectedItem()).text.length&&(e={text:t}),this.$element.trigger("changed.fu.combobox",e))}}).getValue=ht.prototype.selectedItem,l.fn.combobox=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=l(this),e=t.data("fu.combobox"),i="object"==typeof n&&n;e||t.data("fu.combobox",e=new ht(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},l.fn.combobox.defaults={autoResizeMenu:!0,autoResizeTo:"group",filterOnKeypress:!1,showOptionsOnKeypress:!1,noMatchesMessage:"No Matches",filter:function(t,n,e){var s=0;e.$dropMenu.find(".empty-indicator").remove(),t.each(function(t){var e=l(this),i=l(this).text().trim();e.removeClass(),i===n?(e.addClass("text-success"),s++):0<=i.toLowerCase().indexOf(n.toLowerCase())?(e.addClass("text-info"),s++):e.addClass("hidden")}),0===s&&e.$dropMenu.append('<li class="empty-indicator text-muted"><em>'+e.options.noMatchesMessage+"</em></li>")}},l.fn.combobox.Constructor=ht,l.fn.combobox.noConflict=function(){return l.fn.combobox=a,this},l(document).on("mousedown.fu.combobox.data-api","[data-initialize=combobox]",function(t){t=l(t.target).closest(".combobox");t.data("fu.combobox")||t.combobox(t.data())}),l(function(){l("[data-initialize=combobox]").each(function(){var t=l(this);t.data("fu.combobox")||t.combobox(t.data())})}),(h=t).dateCalendar=function(t,e){switch(t){case"jalali":case"Jalali":return new dt(e);default:return new ct(e)}},d="Invalid Date",c="moment.js is not available so you cannot use this function",u=!(p=[]),f=(x=t).fn.datepicker,m=!1,"function"==typeof define&&define.amd?require(["moment"],function(t){u=t,pt()},function(t){"moment"===(t.requireModules&&t.requireModules[0])&&pt()}):pt(),(ut.prototype={constructor:ut,dateCalendar:function(t){return t=1==arguments.length?t:Array.from(arguments),"date"===x.type(t)?t:x.dateCalendar(this.options.calendar,t)},backClicked:function(){this.changeView("calendar")},changeView:function(t,e){"wheels"===t?(this.$calendar.hide().attr("aria-hidden","true"),this.$wheels.show().removeAttr("aria-hidden",""),e&&this.renderWheel(e)):(this.$wheels.hide().attr("aria-hidden","true"),this.$calendar.show().removeAttr("aria-hidden",""),e&&this.renderMonth(e))},checkForMomentJS:function(){return!(!(x.isFunction(window.moment)||void 0!==u&&x.isFunction(u))||!x.isPlainObject(this.options.momentConfig)||"string"!=typeof this.options.momentConfig.culture||"string"!=typeof this.options.momentConfig.format)},dateClicked:function(t){t=x(t.currentTarget).parents("td:first");t.hasClass("restricted")||(this.$days.find("td.selected").removeClass("selected"),t.addClass("selected"),t=this.dateCalendar(t.attr("data-year"),t.attr("data-month"),t.attr("data-date")),this.selectedDate=t,this.$input.val(this.formatDate(t)),this.inputValue=this.$input.val(),this.hide(),this.$input.focus(),this.$element.trigger("dateClicked.fu.datepicker",t))},destroy:function(){return this.$element.remove(),this.$days.find("tbody").empty(),this.$wheelsYear.find("ul").empty(),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled"),this.$element.find("input, button").attr("disabled","disabled"),this.$inputGroupBtn.removeClass("open")},enable:function(){this.$element.removeClass("disabled"),this.$element.find("input, button").removeAttr("disabled")},formatDate:function(t){function e(t){return(t="0"+t).substr(t.length-2)}return this.moment?u(t).format(this.momentFormat):t.getFullYear()+"/"+e(t.getMonth()+1)+"/"+e(t.getDate())},getCulture:function(){if(this.moment)return u.locale();throw c},getDate:function(){return this.selectedDate||this.dateCalendar(NaN)},getFormat:function(){if(this.moment)return this.momentFormat;throw c},getFormattedDate:function(){return this.selectedDate?this.formatDate(this.selectedDate):d},getRestrictedDates:function(){return this.restricted},inputChanged:function(){var t,e=this.$input.val();e!==this.inputValue&&(null===(t=this.setDate(e))?this.$element.trigger("inputParsingFailed.fu.datepicker",e):!1===t?this.$element.trigger("inputRestrictedDate.fu.datepicker",t):this.$element.trigger("changed.fu.datepicker",t))},show:function(){var t=this.selectedDate||this.dateCalendar();this.changeView("calendar",t),this.$inputGroupBtn.addClass("open"),this.$element.trigger("shown.fu.datepicker")},showDropdown:function(t){this.$input.is(":focus")||this.$inputGroupBtn.hasClass("open")||this.show()},hide:function(){this.$inputGroupBtn.removeClass("open"),this.$element.trigger("hidden.fu.datepicker")},hideDropdown:function(){this.hide()},isInvalidDate:function(t){t=t.toString();return t===d||"NaN"===t},isRestricted:function(t,e,i){var n,s,a,o,r=this.restrictedParsed;if(this.sameYearOnly&&null!==this.yearRestriction&&i!==this.yearRestriction)return!0;for(n=0,a=r.length;n<a;n++)if(s=r[n].from,o=r[n].to,(i>s.year||i===s.year&&e>s.month||i===s.year&&e===s.month&&t>=s.date)&&(i<o.year||i===o.year&&e<o.month||i===o.year&&e===o.month&&t<=o.date))return!0;return!1},monthClicked:function(t){this.$wheelsMonth.find(".selected").removeClass("selected"),x(t.currentTarget).parent().addClass("selected")},next:function(){var t=this.$headerTitle.attr("data-month"),e=this.$headerTitle.attr("data-year");if(11<++t){if(this.sameYearOnly)return;t=0,e++}this.renderMonth(this.dateCalendar(e,t,1))},onYearScroll:function(t){if(!this.artificialScrolling){var e,i,n=x(t.currentTarget),s="border-box"===n.css("box-sizing")?n.outerHeight():n.height(),a=n.get(0).scrollHeight,t=n.scrollTop(),s=s/(a-t)*100;if(t/a*100<5){for(e=(i=parseInt(n.find("li:first").attr("data-year"),10))-1;i-11<e;e--)n.prepend('<li data-year="'+e+'"><button type="button">'+e+"</button></li>");this.artificialScrolling=!0,n.scrollTop(n.get(0).scrollHeight-a+t),this.artificialScrolling=!1}else if(90<s)for(e=(i=parseInt(n.find("li:last").attr("data-year"),10))+1;e<i+11;e++)n.append('<li data-year="'+e+'"><button type="button">'+e+"</button></li>")}},parseDate:function(t){var e,i,n,s=this,a=this.dateCalendar(NaN);if(t){if(this.moment)return i=function(t){t=u(t,s.momentFormat);return!0===t.isValid()?t.toDate():a},n=function(t){t=u(this.dateCalendar(t));return!0===t.isValid()?t.toDate():a},e=function(t,e,i){e=e(t);return s.isInvalidDate(e)?(e=i(t),s.isInvalidDate(e)?a:e):e},"string"==typeof t?e(t,i,n):e(t,n,i);if("string"==typeof t){if(t=t.split("T")[0],n=/^\s*(\d{4})[\-|\/](\d\d)[\-|\/](\d\d)\s*$/.exec(t))return i=parseInt(n[2],10),this.dateCalendar(n[1],i-1,n[3])}else if(t=this.dateCalendar(t),!this.isInvalidDate(t))return t}return this.dateCalendar(NaN)},prev:function(){var t=this.$headerTitle.attr("data-month"),e=this.$headerTitle.attr("data-year");if(--t<0){if(this.sameYearOnly)return;t=11,e--}this.renderMonth(this.dateCalendar(e,t,1))},renderMonth:function(t){t=t||this.dateCalendar();var e,i,n,s,a,o,r,l,h,d,c=this.dateCalendar(t.getFullYear(),t.getMonth(),1).getDay(),p=this.dateCalendar(t.getFullYear(),t.getMonth()+1,0).getDate(),u=this.dateCalendar(t.getFullYear(),t.getMonth(),0).getDate(),f=this.$headerTitle.find(".month"),m=t.getMonth(),g=this.dateCalendar(),v=g.getDate(),b=g.getMonth(),$=g.getFullYear(),y=this.selectedDate,w=this.$days.find("tbody"),C=t.getFullYear(),y=y&&{date:y.getDate(),month:y.getMonth(),year:y.getFullYear()};for(f.find(".current").removeClass("current"),f.find('span[data-month="'+m+'"]').addClass("current"),this.$headerTitle.find(".year").text(C),this.$headerTitle.attr({"data-month":m,"data-year":C}),w.empty(),o=0!==c?(e=u-c+1,-1):(e=1,0),a=p<=35-c?5:6,n=0;n<a;n++){for(d=x("<tr></tr>"),s=0;s<7;s++)h=x("<td></td>"),-1===o?(h.addClass("last-month"),r!==o&&h.addClass("first")):1===o&&(h.addClass("next-month"),r!==o&&h.addClass("first")),i=C,(l=m+o)<0?(l=11,i--):11<l&&(l=0,i++),h.attr({"data-date":e,"data-month":l,"data-year":i}),i===$&&l===b&&e===v?h.addClass("current-day"):(i<$||i===$&&l<b||i===$&&l===b&&e<v)&&(h.addClass("past"),this.options.allowPastDates||h.addClass("restricted").attr("title",this.restrictedText)),this.isRestricted(e,l,i)&&h.addClass("restricted").attr("title",this.restrictedText),y&&i===y.year&&l===y.month&&e===y.date&&h.addClass("selected"),h.hasClass("restricted")?h.html('<span><b class="datepicker-date">'+e+"</b></span>"):h.html('<span><button type="button" class="datepicker-date">'+e+"</button></span>"),e++,l=r,-1===(r=o)&&u<e?(e=1,l!==(o=0)&&h.addClass("last")):0===o&&p<e&&l!==(o=e=1)&&h.addClass("last"),n===a-1&&6===s&&h.addClass("last"),d.append(h);w.append(d)}},renderWheel:function(t){var e,i=t.getMonth(),n=this.$wheelsMonth.find("ul"),s=t.getFullYear(),a=this.$wheelsYear.find("ul");for(this.sameYearOnly?(this.$wheelsMonth.addClass("full"),this.$wheelsYear.addClass("hidden")):(this.$wheelsMonth.removeClass("full"),this.$wheelsYear.removeClass("hide hidden")),n.find(".selected").removeClass("selected"),(i=n.find('li[data-month="'+i+'"]')).addClass("selected"),n.scrollTop(n.scrollTop()+(i.position().top-n.outerHeight()/2-i.outerHeight(!0)/2)),a.empty(),e=s-10;e<s+11;e++)a.append('<li data-year="'+e+'"><button type="button">'+e+"</button></li>");(n=a.find('li[data-year="'+s+'"]')).addClass("selected"),this.artificialScrolling=!0,a.scrollTop(a.scrollTop()+(n.position().top-a.outerHeight()/2-n.outerHeight(!0)/2)),this.artificialScrolling=!1,i.find("button").focus()},selectClicked:function(){var t=this.$wheelsMonth.find(".selected").attr("data-month"),e=this.$wheelsYear.find(".selected").attr("data-year");this.changeView("calendar",this.dateCalendar(e,t,1))},setCulture:function(t){if(!t)return!1;if(!this.moment)throw c;u.locale(t)},setDate:function(t){t=this.parseDate(t);return this.isInvalidDate(t)?(this.selectedDate=null,this.renderMonth()):this.isRestricted(t.getDate(),t.getMonth(),t.getFullYear())?(this.selectedDate=!1,this.renderMonth()):(this.selectedDate=t,this.renderMonth(t),this.$input.val(this.formatDate(t))),this.inputValue=this.$input.val(),this.selectedDate},setFormat:function(t){if(!t)return!1;if(!this.moment)throw c;this.momentFormat=t},setRestrictedDates:function(t){function e(t){return t===-1/0?{date:-1/0,month:-1/0,year:-1/0}:t===1/0?{date:1/0,month:1/0,year:1/0}:{date:(t=n.parseDate(t)).getDate(),month:t.getMonth(),year:t.getFullYear()}}for(var i=[],n=this,s=0,a=(this.restricted=t).length;s<a;s++)i.push({from:e(t[s].from),to:e(t[s].to)});this.restrictedParsed=i},titleClicked:function(t){this.changeView("wheels",this.dateCalendar(this.$headerTitle.attr("data-year"),this.$headerTitle.attr("data-month"),1))},todayClicked:function(t){var e=this.dateCalendar();e.getMonth()+""===this.$headerTitle.attr("data-month")&&e.getFullYear()+""===this.$headerTitle.attr("data-year")||this.renderMonth(e)},yearClicked:function(t){this.$wheelsYear.find(".selected").removeClass("selected"),x(t.currentTarget).parent().addClass("selected")}}).getValue=ut.prototype.getDate,x.fn.datepicker=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=x(this),e=t.data("fu.datepicker"),i="object"==typeof n&&n;e||t.data("fu.datepicker",e=new ut(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},x.fn.datepicker.defaults={allowPastDates:!0,date:null,calendar:"gregorian",formatDate:null,momentConfig:{culture:"en",format:"L"},parseDate:null,restricted:[],restrictedText:"Restricted",sameYearOnly:!1},x.fn.datepicker.Constructor=ut,x.fn.datepicker.noConflict=function(){return x.fn.datepicker=f,this},x(document).on("mousedown.fu.datepicker.data-api","[data-initialize=datepicker]",function(t){t=x(t.target).closest(".datepicker");t.data("datepicker")||t.datepicker(t.data())}),x(document).on("click.fu.datepicker.data-api",".datepicker .dropdown-menu",function(t){var e=x(t.target);e.is(".datepicker-date")&&!e.closest(".restricted").length||t.stopPropagation()}),x(document).on("click.fu.datepicker.data-api",".datepicker input",function(t){t.stopPropagation()}),x(function(){x("[data-initialize=datepicker]").each(function(){var t=x(this);t.data("datepicker")||t.datepicker(t.data())})}),(g=t)(document).on("click.fu.dropdown-autoflip","[data-toggle=dropdown][data-flip]",function(t){"auto"===g(this).data().flip&&ft(g(this).next(".dropdown-menu"))}),g(document).on("suggested.fu.pillbox",function(t,e){ft(g(e)),g(e).parent().addClass("open")}),g.fn.dropdownautoflip=function(){},b=(v=t).fn.loader,mt.prototype={constructor:mt,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},ieRepaint:function(){},msieVersion:function(){},next:function(){},pause:function(){},play:function(){},previous:function(){},reset:function(){}},v.fn.loader=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=v(this),e=t.data("fu.loader"),i="object"==typeof n&&n;e||t.data("fu.loader",e=new mt(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},v.fn.loader.defaults={},v.fn.loader.Constructor=mt,v.fn.loader.noConflict=function(){return v.fn.loader=b,this},v(function(){v("[data-initialize=loader]").each(function(){var t=v(this);t.data("fu.loader")||t.loader(t.data())})}),y=($=t).fn.placard,w={accepted:"onAccept",cancelled:"onCancel"},gt.prototype={constructor:gt,complete:function(t){var e=this.options[w[t]],i={previousValue:this.previousValue,value:this.getValue()};e?(e(i),this.$element.trigger(t+".fu.placard",i)):("cancelled"===t&&this.options.revertOnCancel&&this.setValue(this.previousValue,!0),this.$element.trigger(t+".fu.placard",i),this.hide())},keyComplete:function(t){(this.isContentEditableDiv&&!this.divInTextareaMode||this.isInput)&&13===t.keyCode?(this.complete("accepted"),this.$field.blur()):27===t.keyCode&&(this.complete("cancelled"),this.$field.blur())},destroy:function(){return this.$element.remove(),$(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.find("input").each(function(){$(this).attr("value",$(this).val())}),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled"),this.$field.attr("disabled","disabled"),this.isContentEditableDiv&&this.$field.removeAttr("contenteditable"),this.hide()},applyEllipsis:function(){var t,e,i;if(this.options.applyEllipsis)if(t=this.$field.get(0),this.isContentEditableDiv&&!this.divInTextareaMode||this.isInput)t.scrollLeft=0;else if(t.scrollTop=0,t.clientHeight<t.scrollHeight){for(this.actualValue=this.getValue(),this.setValue("",!0),i="",e=0;t.clientHeight>=t.scrollHeight;)i+=this.actualValue[e],this.setValue(i+"...",!0),e++;i=0<i.length?i.substring(0,i.length-1):"",this.setValue(i+"...",!0)}},enable:function(){this.$element.removeClass("disabled"),this.$field.removeAttr("disabled"),this.isContentEditableDiv&&this.$field.attr("contenteditable","true")},externalClickListener:function(t,e){!0!==e&&!this.isExternalClick(t)||this.complete(this.options.externalClickAction)},getValue:function(){return null!==this.actualValue?this.actualValue:this.isContentEditableDiv?this.$field.html():this.$field.val()},hide:function(){this.$element.hasClass("showing")&&(this.$element.removeClass("showing"),this.applyEllipsis(),$(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.placard"))},isExternalClick:function(t){var e,i,n=this.$element.get(0),s=this.options.externalClickExceptions||[],a=$(t.target);if(t.target===n||a.parents(".placard:first").get(0)===n)return!1;for(e=0,i=s.length;e<i;e++)if(a.is(s[e])||0<a.parents(s[e]).length)return!1;return!0},setValue:function(t,e){return void 0===e&&(e=!this.options.applyEllipsis),this.isContentEditableDiv?this.$field.empty().append(t):this.$field.val(t),e||vt(this)||this.applyEllipsis(),this.$field},show:function(){vt(this)||!function(){var t=$(document).find(".placard.showing");if(0<t.length){if(t.data("fu.placard")&&t.data("fu.placard").options.explicit)return!1;t.placard("externalClickListener",{},!0)}return!0}()||(this.previousValue=this.isContentEditableDiv?this.$field.html():this.$field.val(),null!==this.actualValue&&(this.setValue(this.actualValue,!0),this.actualValue=null),this.showPlacard())},showPlacard:function(){this.$element.addClass("showing"),0<this.$header.length&&this.$popup.css("top","-"+this.$header.outerHeight(!0)+"px"),0<this.$footer.length&&this.$popup.css("bottom","-"+this.$footer.outerHeight(!0)+"px"),this.$element.trigger("shown.fu.placard"),this.clickStamp=(new Date).getTime()+(Math.floor(100*Math.random())+1),this.options.explicit||$(document).on("click.fu.placard.externalClick."+this.clickStamp,$.proxy(this.externalClickListener,this))}},$.fn.placard=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=$(this),e=t.data("fu.placard"),i="object"==typeof n&&n;e||t.data("fu.placard",e=new gt(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},$.fn.placard.defaults={onAccept:void 0,onCancel:void 0,externalClickAction:"cancelled",externalClickExceptions:[],explicit:!1,revertOnCancel:-1,applyEllipsis:!1},$.fn.placard.Constructor=gt,$.fn.placard.noConflict=function(){return $.fn.placard=y,this},$(document).on("focus.fu.placard.data-api","[data-initialize=placard]",function(t){t=$(t.target).closest(".placard");t.data("fu.placard")||t.placard(t.data())}),$(function(){$("[data-initialize=placard]").each(function(){var t=$(this);t.data("fu.placard")||t.placard(t.data())})}),k=(C=t).fn.radio,($t.prototype={constructor:$t,setInitialState:function(){var t=this.$radio,e=t.prop("checked"),i=t.prop("disabled");this.setCheckedState(t,e),this.setDisabledState(t,i)},resetGroup:function(){C('input[name="'+this.groupName+'"]').each(function(t,e){var i=C(e),e=i.parent(),i=i.attr("data-toggle"),i=C(i);e.removeClass("checked"),i.addClass("hidden")})},setCheckedState:function(t,e){var i=t,n=i.parent(),t=i.attr("data-toggle"),t=C(t);e?(this.resetGroup(),i.prop("checked",!0),n.addClass("checked"),t.removeClass("hide hidden"),n.trigger("checked.fu.radio")):(i.prop("checked",!1),n.removeClass("checked"),t.addClass("hidden"),n.trigger("unchecked.fu.radio")),n.trigger("changed.fu.radio",e)},setDisabledState:function(t,e){var i=C(t),t=this.$label;return e?(i.prop("disabled",!0),t.addClass("disabled"),t.trigger("disabled.fu.radio")):(i.prop("disabled",!1),t.removeClass("disabled"),t.trigger("enabled.fu.radio")),i},itemchecked:function(t){t=C(t.target);this.setCheckedState(t,!0)},check:function(){this.setCheckedState(this.$radio,!0)},uncheck:function(){this.setCheckedState(this.$radio,!1)},isChecked:function(){return this.$radio.prop("checked")},enable:function(){this.setDisabledState(this.$radio,!1)},disable:function(){this.setDisabledState(this.$radio,!0)},destroy:function(){return this.$label.remove(),this.$label[0].outerHTML}}).getValue=$t.prototype.isChecked,C.fn.radio=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=C(this),e=t.data("fu.radio"),i="object"==typeof n&&n;e||t.data("fu.radio",e=new $t(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},C.fn.radio.defaults={ignoreVisibilityCheck:!1},C.fn.radio.Constructor=$t,C.fn.radio.noConflict=function(){return C.fn.radio=k,this},C(document).on("mouseover.fu.radio.data-api","[data-initialize=radio]",function(t){t=C(t.target);t.data("fu.radio")||t.radio(t.data())}),C(function(){C("[data-initialize=radio]").each(function(){var t=C(this);t.data("fu.radio")||t.radio(t.data())})}),T=(S=t).fn.search,yt.prototype={constructor:yt,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){S(this).attr("value",S(this).val())}),this.$element[0].outerHTML},search:function(t){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-search").addClass("glyphicon-remove"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-search").addClass("fuelux-icon-remove"),this.activeSearch=t,this.$element.addClass("searched pending"),this.$element.trigger("searched.fu.search",t)},clear:function(){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-remove").addClass("glyphicon-search"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-remove").addClass("fuelux-icon-search"),this.$element.hasClass("pending")&&this.$element.trigger("canceled.fu.search"),this.activeSearch="",this.$input.val(""),this.$element.trigger("cleared.fu.search"),this.$element.removeClass("searched pending")},clearPending:function(){this.$element.removeClass("pending")},action:function(){var t=this.$input.val();t&&0<t.length?this.search(t):this.clear()},buttonclicked:function(t){t.preventDefault(),S(t.currentTarget).is(".disabled, :disabled")||(this.$element.hasClass("pending")||this.$element.hasClass("searched")?this.clear():this.action())},keypress:function(t){13===t.which?(t.preventDefault(),this.action()):9===t.which?t.preventDefault():27===t.which?(t.preventDefault(),this.clear()):this.options.searchOnKeyPress&&this.action()},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled","disabled"),this.options.allowCancel||this.$button.addClass("disabled")},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")}},S.fn.search=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=S(this),e=t.data("fu.search"),i="object"==typeof n&&n;e||t.data("fu.search",e=new yt(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},S.fn.search.defaults={clearOnEmpty:!1,searchOnKeyPress:!1,allowCancel:!1},S.fn.search.Constructor=yt,S.fn.search.noConflict=function(){return S.fn.search=T,this},S(document).on("mousedown.fu.search.data-api","[data-initialize=search]",function(t){t=S(t.target).closest(".search");t.data("fu.search")||t.search(t.data())}),S(function(){S("[data-initialize=search]").each(function(){var t=S(this);t.data("fu.search")||t.search(t.data())})}),I=(D=t).fn.selectlist,(wt.prototype={constructor:wt,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},doSelect:function(t){var e;this.$selectedItem=e=t,this.$hiddenField.val(this.$selectedItem.attr("data-value")),this.$label.html(D(this.$selectedItem.children()[0]).html()),this.$element.find("li").each(function(){e.is(D(this))?D(this).attr("data-selected",!0):D(this).removeData("selected").removeAttr("data-selected")})},itemClicked:function(t){this.$element.trigger("clicked.fu.selectlist",this.$selectedItem),t.preventDefault(),D(t.currentTarget).parent("li").is(".disabled, :disabled")||(D(t.target).parent().is(this.$selectedItem)||this.itemChanged(t),this.$element.find(".dropdown-toggle").focus())},itemChanged:function(t){this.doSelect(D(t.target).closest("li"));t=this.selectedItem();this.$element.trigger("changed.fu.selectlist",t)},resize:function(){var t=0,e=0,i=D("<div/>").addClass("selectlist-sizer");(Boolean(D(document).find("html").hasClass("fuelux"))?D(document.body):D(".fuelux:first")).append(i),i.append(this.$element.clone()),this.$element.find("a").each(function(){i.find(".selected-label").text(D(this).text()),e=i.find(".selectlist").outerWidth(),e+=i.find(".sr-only").outerWidth(),t<e&&(t=e)}),t<=1||(this.$button.css("width",t),this.$dropdownMenu.css("width",t),i.remove())},selectedItem:function(){var t=this.$selectedItem.text();return D.extend({text:t},this.$selectedItem.data())},selectByText:function(t){var e=D([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||D(this).text()||"").toLowerCase()===(t||"").toLowerCase())return e=D(this),!1}),this.doSelect(e)},selectByValue:function(t){t='li[data-value="'+t+'"]';this.selectBySelector(t)},selectByIndex:function(t){t="li:eq("+t+")";this.selectBySelector(t)},selectBySelector:function(t){t=this.$element.find(t);this.doSelect(t)},setDefaultSelection:function(){var t=this.$element.find("li[data-selected=true]").eq(0);0===t.length&&(t=this.$element.find("li").has("a").eq(0)),this.doSelect(t)},enable:function(){this.$element.removeClass("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$button.addClass("disabled")}}).getValue=wt.prototype.selectedItem,D.fn.selectlist=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=D(this),e=t.data("fu.selectlist"),i="object"==typeof n&&n;e||t.data("fu.selectlist",e=new wt(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},D.fn.selectlist.defaults={emptyLabelHTML:'<li data-value=""><a href="#">No items</a></li>'},D.fn.selectlist.Constructor=wt,D.fn.selectlist.noConflict=function(){return D.fn.selectlist=I,this},D(document).on("mousedown.fu.selectlist.data-api","[data-initialize=selectlist]",function(t){t=D(t.target).closest(".selectlist");t.data("fu.selectlist")||t.selectlist(t.data())}),D(function(){D("[data-initialize=selectlist]").each(function(){var t=D(this);t.data("fu.selectlist")||t.selectlist(t.data())})}),O=(_=t).fn.spinbox,E=function(t,e){var i=!1,n=t.toLowerCase();return _.each(e,function(t,e){if(e=e.toLowerCase(),n===e)return!(i=!0)}),i},Ct.prototype={constructor:Ct,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){_(this).attr("value",_(this).val())}),this.$element[0].outerHTML},render:function(){this._setValue(this.getDisplayValue())},change:function(){this._setValue(this.getDisplayValue()),this.triggerChangedEvent()},stopSpin:function(){void 0!==this.switches.timeout&&(clearTimeout(this.switches.timeout),this.switches.count=1,this.triggerChangedEvent())},triggerChangedEvent:function(){var t=this.getValue();t!==this.lastValue&&(this.lastValue=t,this.$element.trigger("changed.fu.spinbox",t))},startSpin:function(t){var e;this.options.disabled||(e=1===(e=this.switches.count)?(this.step(t),1):e<3?1.5:e<8?2.5:4,this.switches.timeout=setTimeout(_.proxy(function(){this.iterate(t)},this),this.switches.speed/e),this.switches.count++)},iterate:function(t){this.step(t),this.startSpin(t)},step:function(t){this._setValue(this.getDisplayValue()),t=(t=t?this.options.value+this.options.step:this.options.value-this.options.step).toFixed(5),this._setValue(t+this.unit)},getDisplayValue:function(){var t=this.parseInput(this.$input.val());return t||this.options.value},setDisplayValue:function(t){this.$input.val(t)},getValue:function(){var t=this.options.value;return"."!==this.options.decimalMark&&(t=(t+"").split(".").join(this.options.decimalMark)),t+this.unit},setValue:function(t){return this._setValue(t,!0)},_setValue:function(t,e){"."!==this.options.decimalMark&&(t=this.parseInput(t)),"number"!=typeof t&&(i=t.replace(/[0-9.-]/g,""),this.unit=E(i,this.options.units)?i:this.options.defaultUnit);var i=this.getIntValue(t);return isNaN(i)&&!isFinite(i)?this._setValue(this.options.value,e):(i=xt.call(this,i),t=(this.options.value=i)+this.unit,"."!==this.options.decimalMark&&(t=(t+"").split(".").join(this.options.decimalMark)),this.setDisplayValue(t),e&&(this.lastValue=t),this)},value:function(t){return t||0===t?this.setValue(t):this.getValue()},parseInput:function(t){return t=(t+"").split(this.options.decimalMark).join(".")},getIntValue:function(t){if(void 0!==(t=void 0===t?this.getValue():t))return"string"==typeof t&&(t=this.parseInput(t)),t=parseFloat(t,10)},disable:function(){this.options.disabled=!0,this.$element.addClass("disabled"),this.$input.attr("disabled",""),this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=!1,this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$element.find("button").removeClass("disabled")},keydown:function(t){t=t.keyCode;38===t?this.step(!0):40===t?this.step(!1):13===t&&this.change()},keyup:function(t){t=t.keyCode;38!==t&&40!==t||this.triggerChangedEvent()}},_.fn.spinbox=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=_(this),e=t.data("fu.spinbox"),i="object"==typeof n&&n;e||t.data("fu.spinbox",e=new Ct(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},_.fn.spinbox.defaults={value:0,min:0,max:999,step:1,hold:!0,speed:"medium",disabled:!1,cycle:!1,units:[],decimalMark:".",defaultUnit:"",limitToStep:!1},_.fn.spinbox.Constructor=Ct,_.fn.spinbox.noConflict=function(){return _.fn.spinbox=O,this},_(document).on("mousedown.fu.spinbox.data-api","[data-initialize=spinbox]",function(t){t=_(t.target).closest(".spinbox");t.data("fu.spinbox")||t.spinbox(t.data())}),_(function(){_("[data-initialize=spinbox]").each(function(){var t=_(this);t.data("fu.spinbox")||t.spinbox(t.data())})}),function(u){function o(t,e){this.$element=u(t),this.options=u.extend({},u.fn.tree.defaults,e),this.$element.attr("tabindex","0"),this.options.itemSelect&&this.$element.on("click.fu.tree",".tree-item",u.proxy(function(t){this.selectItem(t.currentTarget)},this)),this.$element.on("click.fu.tree",".tree-branch-name",u.proxy(function(t){this.toggleFolder(t.currentTarget)},this)),this.$element.on("click.fu.tree",".tree-overflow",u.proxy(function(t){this.populate(u(t.currentTarget))},this)),this.options.folderSelect&&(this.$element.addClass("tree-folder-select"),this.$element.off("click.fu.tree",".tree-branch-name"),this.$element.on("click.fu.tree",".icon-caret",u.proxy(function(t){this.toggleFolder(u(t.currentTarget).parent())},this)),this.$element.on("click.fu.tree",".tree-branch-name",u.proxy(function(t){this.selectFolder(u(t.currentTarget))},this))),this.$element.on("focus",function(){var t=u(this);f(t,t)}),this.$element.on("keydown",function(t){return i(u(this),t)}),this.render()}var t=u.fn.tree;(o.prototype={constructor:o,deselectAll:function(t){t=t||this.$element,t=u(t).find(".tree-selected");return t.each(function(t,e){e=u(e);n(e),r(e,e.find(".glyphicon"))}),t},destroy:function(){return this.$element.find("li:not([data-template])").remove(),this.$element.remove(),this.$element[0].outerHTML},render:function(){this.populate(this.$element)},populate:function(t,e){var s=this,i=t.hasClass("tree-overflow"),a=t.hasClass("tree")?t:t.parent(),o=a.hasClass("tree");i&&!o&&(a=a.parent());var n=a.data();i&&(n.overflow=t.data());e=e||!1;i&&(o?t.replaceWith(a.find("> .tree-loader").remove()):t.remove());t=a.find(".tree-loader:last");!1===e&&t.removeClass("hide hidden"),this.options.dataSource(n||{},function(t){u.each(t.data,function(t,e){var i=e.type;"folder"===e.type&&(i="branch");var n=s.$element.find("[data-template=tree"+i+"]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template");n.find(".tree-"+i+"-name > .tree-label").html(e.text||e.name),n.data(e);e=e.attr||e.dataAttributes||[];u.each(e,function(t,e){switch(t){case"cssClass":case"class":case"className":n.addClass(e);break;case"data-icon":n.find(".icon-item").removeClass().addClass("icon-item "+e),n.attr(t,e);break;case"id":n.attr(t,e),n.attr("aria-labelledby",e+"-label"),n.find(".tree-branch-name > .tree-label").attr("id",e+"-label");break;default:n.attr(t,e)}}),(o?a:a.find(".tree-branch-children:eq(0)")).append(n)}),a.find(".tree-loader").addClass("hidden"),s.$element.trigger("loaded.fu.tree",a)})},selectTreeNode:function(t,e,i){var n={};i=i||(this.options.toggleSelect?"toggle":"select"),n.$element=u(t);t={};t.$elements=this.$element.find(".tree-selected"),t.dataForEvent=[],"folder"===e?(n.$element=n.$element.closest(".tree-branch"),n.$icon=n.$element.find(".icon-folder")):n.$icon=n.$element.find(".icon-item"),n.elementData=n.$element.data(),s(n.$element),t=this.options.multiSelect?function(i,n){u.each(n.$elements,function(t,e){e=u(e);e[0]!==i.$element[0]&&n.dataForEvent.push(u(e).data())}),i.$element.hasClass("tree-selected")?(r(i.$element,i.$icon),n.eventType="deselected"):(a(i.$element,i.$icon),n.eventType="selected",n.dataForEvent.push(i.elementData));return n}(n,t):function(t,e,i,n){if(i.$elements[0]!==e.$element[0])switch(n){case"toggle":case"select":t.deselectAll(t.$element),a(e.$element,e.$icon),i.eventType="selected",i.dataForEvent=[e.elementData]}else switch(n){case"toggle":case"deselect":r(e.$element,e.$icon),i.eventType="deselected",i.dataForEvent=[]}return i}(this,n,t,i),m(this.$element,n.$element),t.eventType&&(this.$element.trigger(t.eventType+".fu.tree",{target:n.elementData,selected:t.dataForEvent}),n.$element.trigger("updated.fu.tree",{selected:t.dataForEvent,item:n.$element,eventType:t.eventType}))},discloseFolder:function(t){var e=u(t).closest(".tree-branch"),i=e.find(".tree-branch-children"),t=i.eq(0);e.addClass("tree-open"),e.attr("aria-expanded","true"),t.removeClass("hide hidden"),e.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-close").addClass("glyphicon-folder-open");var n=this.$element,t=function(){n.trigger("disclosedFolder.fu.tree",e.data())};i.children().length?t():(n.one("loaded.fu.tree",t),this.populate(i))},closeFolder:function(t){var e=u(t).closest(".tree-branch"),t=e.find(".tree-branch-children").eq(0);e.removeClass("tree-open"),e.attr("aria-expanded","false"),t.addClass("hidden"),e.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-open").addClass("glyphicon-folder-close"),this.options.cacheItems||t.empty(),this.$element.trigger("closed.fu.tree",e.data())},toggleFolder:function(t){var e=u(t);e.find(".glyphicon-folder-close").length?this.discloseFolder(t):e.find(".glyphicon-folder-open").length&&this.closeFolder(t)},selectFolder:function(t,e){this.options.folderSelect&&this.selectTreeNode(t,"folder",e)},selectItem:function(t,e){this.options.itemSelect&&this.selectTreeNode(t,"item",e)},selectedItems:function(){var t=this.$element.find(".tree-selected"),i=[];return u.each(t,function(t,e){i.push(u(e).data())}),i},collapse:function(){function i(t,e){s.push(e),0===n.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").length&&(n.$element.trigger("closedAll.fu.tree",{tree:n.$element,reportedClosed:s}),n.$element.off("loaded.fu.tree",n.$element,i))}var n=this,s=[];n.$element.on("closed.fu.tree",i),n.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").each(function(){n.closeFolder(this)})},discloseVisible:function(){function i(t,e){a.push(e),a.length===s.length&&(n.$element.trigger("disclosedVisible.fu.tree",{tree:n.$element,reportedOpened:a}),n.$element.off("loaded.fu.tree",n.$element,i))}var n=this,s=n.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')"),a=[];n.$element.on("loaded.fu.tree",i),n.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").each(function(){n.discloseFolder(u(this).find(".tree-branch-header"))})},discloseAll:function(){var t=this;void 0===t.$element.data("disclosures")&&t.$element.data("disclosures",0);var e=1<=t.options.disclosuresUpperLimit&&t.$element.data("disclosures")>=t.options.disclosuresUpperLimit;0===t.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").length?(t.$element.trigger("disclosedAll.fu.tree",{tree:t.$element,disclosures:t.$element.data("disclosures")}),t.options.cacheItems||t.$element.one("closeAll.fu.tree",function(){t.$element.data("disclosures",0)})):e&&(t.$element.trigger("exceededDisclosuresLimit.fu.tree",{tree:t.$element,disclosures:t.$element.data("disclosures")}),!t.$element.data("ignore-disclosures-limit"))||(t.$element.data("disclosures",t.$element.data("disclosures")+1),t.$element.one("disclosedVisible.fu.tree",function(){t.discloseAll()}),t.discloseVisible())},refresh:function(){this.$element.find("li:not([data-template])").remove(),this.render()},refreshFolder:function(t){var e=t.closest(".tree-branch"),t=e.find(".tree-branch-children");t.eq(0).empty(),e.hasClass("tree-open")?this.populate(t,!1):this.populate(t,!0),this.$element.trigger("refreshedFolder.fu.tree",e.data())}}).closeAll=o.prototype.collapse,o.prototype.openFolder=o.prototype.discloseFolder,o.prototype.getValue=o.prototype.selectedItems;var f=function(t,e){var i=e.find(".tree-selected:first");i.length<=0&&(i=e.find('li:not(".hidden"):first')),m(t,i)},m=function(t,e){var i,n;n=e,(i=t).attr("tabindex",-1),i.find("li").attr("tabindex",-1),n&&0<n.length&&n.attr("tabindex",0),t.attr("aria-activedescendant",e.attr("id")),e.focus(),t.trigger("setFocus.fu.tree",e)},i=function(t,e){if(e.isDefaultPrevented()||e.isPropagationStopped())return!1;function i(){t.trigger("keyboardNavigated.fu.tree",e,s)}var n=e.originalEvent.target,s=u(n),a=s.hasClass("tree-open"),o=!1,r=!0;switch(e.which){case 13:case 32:var l=t.hasClass("tree-folder-select"),h=s.hasClass("tree-branch"),d=s.hasClass("tree-item"),r=!1;h?l?(t.one("selected.fu.tree deselected.fu.tree",i),t.tree("selectFolder",s.find(".tree-branch-header")[0])):(t.one("loaded.fu.tree closed.fu.tree",i),t.tree("toggleFolder",s.find(".tree-branch-header")[0])):d?(t.one("selected.fu.tree",i),t.tree("selectItem",s)):(c=u(s.prevAll().not(".hidden")[0]),s.click(),t.one("loaded.fu.tree",function(){p=u(c.nextAll().not(".hidden")[0]),m(t,p),i()})),o=!0;break;case 35:m(t,t.find('li:not(".hidden"):last')),o=!0;break;case 36:m(t,t.find('li:not(".hidden"):first')),o=!0;break;case 37:a?(r=!1,t.one("closed.fu.tree",i),t.tree("closeFolder",n)):m(t,u(s.parents("li")[0])),o=!0;break;case 38:var c=[];!(c=u(s.prevAll().not(".hidden")[0])).hasClass("tree-open")||0<(d=c.find('li:not(".hidden"):last')).length&&(c=u(d[0])),c.length<1&&(c=u(s.parents("li")[0])),m(t,c),o=!0;break;case 39:a?f(t,s):(r=!1,t.one("disclosed.fu.tree",i),t.tree("discloseFolder",n)),o=!0;break;case 40:var p=u(s.find('li:not(".hidden"):first')[0]);(!a||p.length<=0)&&(p=u(s.nextAll().not(".hidden")[0])),p.length<1&&(p=u(u(s.parents("li")[0]).nextAll().not(".hidden")[0])),m(t,p),o=!0;break;default:return!0}return o&&(e.preventDefault(),e.stopPropagation(),r&&i()),!0},s=function(t){t.attr("aria-selected",!0)},n=function(t){t.attr("aria-selected",!1)};function a(t,e){t.addClass("tree-selected"),"item"===t.data("type")&&e.hasClass("fueluxicon-bullet")&&e.removeClass("fueluxicon-bullet").addClass("glyphicon-ok")}function r(t,e){t.removeClass("tree-selected"),"item"===t.data("type")&&e.hasClass("glyphicon-ok")&&e.removeClass("glyphicon-ok").addClass("fueluxicon-bullet")}function l(t,e){if(u.isEmptyObject(t))return e;if(void 0===e)return!1;for(var i=0;i<e.length;i++){var n=e[i];if(n.attr&&t.attr&&n.attr.id===t.attr.id)return n.children;if(n.children){n=l(t,n.children);if(n)return n}}return!1}u.fn.tree=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=u(this),e=t.data("fu.tree"),i="object"==typeof n&&n;e||(t.data("fu.tree",e=new o(this,i)),t.trigger("initialized.fu.tree")),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},u.fn.tree.defaults={staticData:[],dataSource:function(t,e){0<this.staticData.length&&e({data:l(t,this.staticData)})},multiSelect:!1,cacheItems:!0,folderSelect:!0,itemSelect:!0,toggleSelect:!0,disclosuresUpperLimit:0},u.fn.tree.Constructor=o,u.fn.tree.noConflict=function(){return u.fn.tree=t,this}}(t),A=t,z=(U=function(e){return function(t){return t.keyCode===e}})((M={BACKSPACE_KEYCODE:8,COMMA_KEYCODE:188,DELETE_KEYCODE:46,DOWN_ARROW_KEYCODE:40,ENTER_KEYCODE:13,TAB_KEYCODE:9,UP_ARROW_KEYCODE:38}).BACKSPACE_KEYCODE),F=U(M.DELETE_KEYCODE),L=U(M.TAB_KEYCODE),j=U(M.UP_ARROW_KEYCODE),U=U(M.DOWN_ARROW_KEYCODE),N=/&[^\s]*;/,A.fn.utilities={CONST:M,cleanInput:function(t){for(;N.test(t);)t=A("<i>").html(t).text();return A("<i>").text(t).html()},isBackspaceKey:z,isDeleteKey:F,isShiftHeld:function(t){return!0===t.shiftKey},isTabKey:L,isUpArrow:j,isDownArrow:U},H=(B=t).fn.wizard,kt.prototype={constructor:kt,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},addSteps:function(t){var e,i,n,s,a,o,r=[].slice.call(arguments).slice(1),l=this.$element.find(".steps"),h=this.$element.find(".step-content");for(t=-1===t||t>this.numSteps+1?this.numSteps+1:t,r[0]instanceof Array&&(r=r[0]),a=l.find("li:nth-child("+t+")"),s=h.find(".step-pane:nth-child("+t+")"),a.length<1&&(a=null),e=0,i=r.length;e<i;e++)(o=B('<li data-step="'+t+'"><span class="badge badge-info"></span></li>')).append(r[e].label||"").append('<span class="chevron"></span>'),o.find(".badge").append(r[e].badge||t),(n=B('<div class="step-pane" data-step="'+t+'"></div>')).append(r[e].pane||""),a?(a.before(o),s.before(n)):(l.append(o),h.append(n)),t++;this.syncSteps(),this.numSteps=l.find("li").length,this.setState()},removeSteps:function(t,i){var e,n="nextAll",s=0,a=this.$element.find(".steps"),o=this.$element.find(".step-content");i=void 0!==i?i:1,t>a.find("li").length?e=a.find("li:last"):(e=a.find("li:nth-child("+t+")").prev()).length<1&&(n="children",e=a),e[n]().each(function(){var t=B(this),e=t.attr("data-step");if(!(s<i))return!1;t.remove(),o.find('.step-pane[data-step="'+e+'"]:first').remove(),s++}),this.syncSteps(),this.numSteps=a.find("li").length,this.setState()},setState:function(){var t=1<this.currentStep,e=1===this.currentStep,i=this.currentStep===this.numSteps;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",!0==e||!1==t);t=this.$nextBtn.attr("data-last");t&&(this.lastText=t,n=this.nextText,!0==i?(n=this.lastText,this.$element.addClass("complete")):this.$element.removeClass("complete"),s=this.$nextBtn.children().detach(),this.$nextBtn.text(n).append(s));var n=this.$element.find(".steps li");n.removeClass("active").removeClass("complete"),n.find("span.badge").removeClass("badge-info").removeClass("badge-success");var s=".steps li:lt("+(this.currentStep-1)+")",n=this.$element.find(s);n.addClass("complete"),n.find("span.badge").addClass("badge-success");s=".steps li:eq("+(this.currentStep-1)+")",n=this.$element.find(s);n.addClass("active"),n.find("span.badge").addClass("badge-info");s=this.$element.find(".step-content"),n=n.attr("data-step");s.find(".step-pane").removeClass("active"),s.find('.step-pane[data-step="'+n+'"]:first').addClass("active"),this.$element.find(".steps").first().attr("style","margin-left: 0");var a=0;this.$element.find(".steps > li").each(function(){a+=B(this).outerWidth()});var o,n=0;(n=this.$element.find(".actions").length?this.$element.width()-this.$element.find(".actions").first().outerWidth():this.$element.width())<a&&(o=a-n,this.$element.find(".steps").first().attr("style","margin-left: -"+o+"px"),this.$element.find("li.active").first().position().left<200&&((o+=this.$element.find("li.active").first().position().left-200)<1?this.$element.find(".steps").first().attr("style","margin-left: 0"):this.$element.find(".steps").first().attr("style","margin-left: -"+o+"px"))),void 0!==this.initialized&&(o=B.Event("changed.fu.wizard"),this.$element.trigger(o,{step:this.currentStep})),this.initialized=!0},stepclicked:function(t){var e=B(t.currentTarget),t=this.$element.find(".steps li").index(e);t<this.currentStep&&this.options.disablePreviousStep||(e=B.Event("stepclicked.fu.wizard"),this.$element.trigger(e,{step:t+1}),e.isDefaultPrevented()||(this.currentStep=t+1,this.setState()))},syncSteps:function(){var n=1,t=this.$element.find(".steps"),s=this.$element.find(".step-content");t.children().each(function(){var t=B(this),e=t.find(".badge"),i=t.attr("data-step");isNaN(parseInt(e.html(),10))||e.html(n),t.attr("data-step",n),s.find('.step-pane[data-step="'+i+'"]:last').attr("data-step",n),n++})},previous:function(){var t;this.options.disablePreviousStep||1===this.currentStep||(t=B.Event("actionclicked.fu.wizard"),this.$element.trigger(t,{step:this.currentStep,direction:"previous"}),t.isDefaultPrevented()||(--this.currentStep,this.setState(),this.$prevBtn.is(":focus")&&(void 0!==(t=this.$element.find(".active").find("input, select, textarea")[0])?B(t).focus():0===this.$element.find(".active input:first").length&&this.$prevBtn.is(":disabled")&&this.$nextBtn.focus())))},next:function(){var t=B.Event("actionclicked.fu.wizard");this.$element.trigger(t,{step:this.currentStep,direction:"next"}),t.isDefaultPrevented()||(this.currentStep<this.numSteps?(this.currentStep+=1,this.setState()):this.$element.trigger("finished.fu.wizard"),this.$nextBtn.is(":focus")&&(void 0!==(t=this.$element.find(".active").find("input, select, textarea")[0])?B(t).focus():0===this.$element.find(".active input:first").length&&this.$nextBtn.is(":disabled")&&this.$prevBtn.focus()))},selectedItem:function(t){var e;return t?(e=t.step||-1,1<=(e=Number(this.$element.find('.steps li[data-name="'+e+'"]').first().attr("data-step"))||Number(e))&&e<=this.numSteps?(this.currentStep=e,this.setState()):(e=this.$element.find(".steps li.active:first").attr("data-step"),isNaN(e)||(this.currentStep=parseInt(e,10),this.setState())),e=this):(e={step:this.currentStep},this.$element.find(".steps li.active:first[data-name]").length&&(e.stepname=this.$element.find(".steps li.active:first").attr("data-name"))),e}},B.fn.wizard=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=B(this),e=t.data("fu.wizard"),i="object"==typeof n&&n;e||t.data("fu.wizard",e=new kt(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},B.fn.wizard.defaults={disablePreviousStep:!1,selectedItem:{step:-1}},B.fn.wizard.Constructor=kt,B.fn.wizard.noConflict=function(){return B.fn.wizard=H,this},B(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(t){t=B(t.target).closest(".wizard");t.data("fu.wizard")||t.wizard(t.data())}),B(function(){B("[data-initialize=wizard]").each(function(){var t=B(this);t.data("fu.wizard")||t.wizard(t.data())})}),Y=(P=t).fn.infinitescroll,St.prototype={constructor:St,destroy:function(){return this.$element.remove(),this.$element.empty(),this.$element[0].outerHTML},disable:function(){this.$element.off("scroll.fu.infinitescroll")},enable:function(){this.$element.on("scroll.fu.infinitescroll",P.proxy(this.onScroll,this))},end:function(t){var e=P('<div class="infinitescroll-end"></div>');t?e.append(t):e.append("---------"),this.$element.append(e),this.disable()},getPercentage:function(){var t="border-box"===this.$element.css("box-sizing")?this.$element.outerHeight():this.$element.height(),e=this.$element.get(0).scrollHeight;return 0===e||e-this.curScrollTop==0?0:t/(e-this.curScrollTop)*100},fetchData:function(t){function e(){var t={percentage:s.curPercentage,scrollTop:s.curScrollTop},e=P('<div class="loader"></div>');n.append(e),e.loader(),s.options.dataSource&&s.options.dataSource(t,function(t){n.remove(),t.content&&s.$element.append(t.content),t.end&&(t=!0!==t.end?t.end:void 0,s.end(t)),s.fetchingData=!1})}var i,n=P('<div class="infinitescroll-load"></div>'),s=this;this.fetchingData=!0,this.$element.append(n),this.options.hybrid&&!0!==t?(i=P('<button type="button" class="btn btn-primary"></button>'),"object"==typeof this.options.hybrid?i.append(this.options.hybrid.label):i.append('<span class="glyphicon glyphicon-repeat"></span>'),i.on("click.fu.infinitescroll",function(){i.remove(),e()}),n.append(i)):e()},onScroll:function(t){this.curScrollTop=this.$element.scrollTop(),this.curPercentage=this.getPercentage(),!this.fetchingData&&this.curPercentage>=this.options.percentage&&this.fetchData()}},P.fn.infinitescroll=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=P(this),e=t.data("fu.infinitescroll"),i="object"==typeof n&&n;e||t.data("fu.infinitescroll",e=new St(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},P.fn.infinitescroll.defaults={dataSource:null,hybrid:!1,percentage:95},P.fn.infinitescroll.Constructor=St,P.fn.infinitescroll.noConflict=function(){return P.fn.infinitescroll=Y,this},R=(V=t).fn.pillbox,F=V.fn.utilities,L=V.fn.utilities.CONST,j=L.COMMA_KEYCODE,U=L.ENTER_KEYCODE,W=F.isBackspaceKey,K=F.isDeleteKey,Q=F.isTabKey,G=F.isUpArrow,Z=F.isDownArrow,L=F.cleanInput,q=F.isShiftHeld,(Tt.prototype={constructor:Tt,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},items:function(){var t=this;return this.$pillGroup.children(".pill").map(function(){return t.getItemData(V(this))}).get()},itemClicked:function(t){var e,i=V(t.target);if(t.preventDefault(),t.stopPropagation(),this._closeSuggestions(),i.hasClass("pill"))e=i;else if(e=i.parent(),void 0===this.$element.attr("data-readonly")){if(i.hasClass("glyphicon-close"))return this.options.onRemove?this.options.onRemove(this.getItemData(e,{el:e}),V.proxy(this._removeElement,this)):this._removeElement(this.getItemData(e,{el:e})),!1;if(this.options.edit){if(e.find(".pillbox-list-edit").length)return!1;this.openEdit(e)}}return this.$element.trigger("clicked.fu.pillbox",this.getItemData(e)),!0},readonly:function(t){t?this.$element.attr("data-readonly","readonly"):this.$element.removeAttr("data-readonly"),this.options.truncate&&this.truncate(t)},suggestionClick:function(t){var e=V(t.currentTarget),i={text:e.html(),value:e.data("value")};t.preventDefault(),this.$addItem.val(""),e.data("attr")&&(i.attr=JSON.parse(e.data("attr"))),i.data=e.data("data"),this.addItems(i,!0),this._closeSuggestions()},itemCount:function(){return this.$pillGroup.children(".pill").length},addItems:function(){var n,t,e,s=this;!isFinite(String(arguments[0]))||arguments[0]instanceof Array?e=(n=[].slice.call(arguments).slice(0))[1]&&!n[1].text:(n=[].slice.call(arguments).slice(1),t=arguments[0]),n[0]instanceof Array&&(n=n[0]),n.length&&(V.each(n,function(t,e){var i={text:e.text,value:e.value||e.text,el:s.$pillHTML};e.attr&&(i.attr=e.attr),e.data&&(i.data=e.data),n[t]=i}),this.options.edit&&this.currentEdit&&(n[0].el=this.currentEdit.wrap("<div></div>").parent().html()),e&&n.pop(1),s.options.onAdd&&e?this.options.edit&&this.currentEdit?s.options.onAdd(n[0],V.proxy(s.saveEdit,this)):s.options.onAdd(n[0],V.proxy(s.placeItems,this)):this.options.edit&&this.currentEdit?s.saveEdit(n):t?s.placeItems(t,n):s.placeItems(n,e))},removeItems:function(t,e){if(t)for(var i=e||1,n=0;n<i;n++){var s=this.$pillGroup.find("> .pill:nth-child("+t+")");if(!s)break;s.remove()}else this.$pillGroup.find(".pill").remove(),this._removePillTrigger({method:"removeAll"})},placeItems:function(){var t,e,i,n,s;!isFinite(String(arguments[0]))||arguments[0]instanceof Array?n=(t=[].slice.call(arguments).slice(0))[1]&&!t[1].text:(t=[].slice.call(arguments).slice(1),e=arguments[0]),t[0]instanceof Array&&(t=t[0]),t.length&&(s=[],V.each(t,function(t,e){var i=V(e.el);i.attr("data-value",e.value),i.find("span:first").html(e.text),e.attr&&V.each(e.attr,function(t,e){"cssClass"===t||"class"===t?i.addClass(e):i.attr(t,e)}),e.data&&i.data("data",e.data),s.push(i)}),0<this.$pillGroup.children(".pill").length?e&&(i=this.$pillGroup.find(".pill:nth-child("+e+")")).length?i.before(s):this.$pillGroup.children(".pill:last").after(s):this.$pillGroup.prepend(s),n&&this.$element.trigger("added.fu.pillbox",{text:t[0].text,value:t[0].value}))},inputEvent:function(e){var t,i=this,n=i.options.cleanInput(this.$addItem.val()),s="focusout"===e.type,a=s&&0<n.length,o=this.acceptKeyCodes[e.keyCode]&&!q(e);if(o||a)return this.options.onKeyDown&&this._isSuggestionsOpen()&&((a=this.$suggest.find(".pillbox-suggest-sel")).length&&(n=i.options.cleanInput(a.html()),r=i.options.cleanInput(a.data("value")),t=a.data("attr"))),(n.replace(/[ ]*\,[ ]*/,"").match(/\S/)||this.options.allowEmptyPills&&n.length)&&(this._closeSuggestions(),this.$addItem.val("").hide(),t?this.addItems({text:n,value:r,attr:JSON.parse(t)},!0):this.addItems({text:n,value:r},!0),setTimeout(function(){i.$addItem.show().attr({size:10}).focus()},0)),e.preventDefault(),!0;if(W(e)||K(e)){if(!n.length){if(e.preventDefault(),this.options.edit&&this.currentEdit)return this.cancelEdit(),!0;this._closeSuggestions();var r=this.$pillGroup.children(".pill:last");return r.hasClass("pillbox-highlight")?this._removeElement(this.getItemData(r,{el:r})):r.addClass("pillbox-highlight"),!0}}else 10<n.length&&this.$addItem.width()<this.$pillGroup.width()-6&&this.$addItem.attr({size:n.length+3});if(this.$pillGroup.find(".pill").removeClass("pillbox-highlight"),this.options.onKeyDown&&!s){if(Q(e)||G(e)||Z(e))return this._isSuggestionsOpen()&&this._keySuggestions(e),!0;this.callbackId=e.timeStamp,this.options.onKeyDown({event:e,value:n},function(t){i._openSuggestions(e,t)})}return!0},openEdit:function(t){var e=t.index()+1,i=this.$addItemWrap.detach().hide();this.$pillGroup.find(".pill:nth-child("+e+")").before(i),this.currentEdit=t.detach(),i.addClass("editing"),this.$addItem.val(t.find("span:first").html()),i.show(),this.$addItem.focus().select()},cancelEdit:function(t){return!!this.currentEdit&&(this._closeSuggestions(),t&&this.$addItemWrap.before(this.currentEdit),this.currentEdit=!1,(t=this.$addItemWrap.detach()).removeClass("editing"),this.$addItem.val(""),this.$pillGroup.append(t),!0)},saveEdit:function(){var t=arguments[0][0]||arguments[0];this.currentEdit=V(t.el),this.currentEdit.data("value",t.value),this.currentEdit.find("span:first").html(t.text),this.$addItemWrap.hide(),this.$addItemWrap.before(this.currentEdit),this.currentEdit=!1,this.$addItem.val(""),this.$addItemWrap.removeClass("editing"),this.$pillGroup.append(this.$addItemWrap.detach().show()),this.$element.trigger("edited.fu.pillbox",{value:t.value,text:t.text})},removeBySelector:function(){var t=[].slice.call(arguments).slice(0),i=this;V.each(t,function(t,e){i.$pillGroup.find(e).remove()}),this._removePillTrigger({method:"removeBySelector",removedSelectors:t})},removeByValue:function(){var t=[].slice.call(arguments).slice(0),i=this;V.each(t,function(t,e){i.$pillGroup.find('> .pill[data-value="'+e+'"]').remove()}),this._removePillTrigger({method:"removeByValue",removedValues:t})},removeByText:function(){var t=[].slice.call(arguments).slice(0),i=this;V.each(t,function(t,e){i.$pillGroup.find('> .pill:contains("'+e+'")').remove()}),this._removePillTrigger({method:"removeByText",removedText:t})},truncate:function(t){var e,i,n,s,a,o=this;this.$element.removeClass("truncate"),this.$addItemWrap.removeClass("truncated"),this.$pillGroup.find(".pill").removeClass("truncated"),t&&(this.$element.addClass("truncate"),e=this.$element.width(),i=!1,n=0,s=this.$pillGroup.find(".pill").length,a=0,this.$pillGroup.find(".pill").each(function(){var t=V(this);i?t.addClass("truncated"):(n++,o.$moreCount.text(s-n),a+t.outerWidth(!0)+o.$addItemWrap.outerWidth(!0)<=e?a+=t.outerWidth(!0):(o.$moreCount.text(s-n+1),t.addClass("truncated"),i=!0))}),n===s&&this.$addItemWrap.addClass("truncated"))},inputFocus:function(){this.$element.find(".pillbox-add-item").focus()},getItemData:function(t,e){return V.extend({text:t.find("span:first").html()},t.data(),e)},_removeElement:function(t){t.el.remove(),delete t.el,this.$element.trigger("removed.fu.pillbox",t)},_removePillTrigger:function(t){this.$element.trigger("removed.fu.pillbox",t)},_generateObject:function(t){var i={};return V.each(t,function(t,e){i[e]=!0}),i},_openSuggestions:function(t,e){var n=V("<ul>");return this.callbackId===t.timeStamp&&(e.data&&e.data.length&&(V.each(e.data,function(t,e){var i=e.value||e.text,i=V('<li data-value="'+i+'">'+e.text+"</li>");e.attr&&i.data("attr",JSON.stringify(e.attr)),e.data&&i.data("data",e.data),n.append(i)}),this.$suggest.html("").append(n.children()),V(document).trigger("suggested.fu.pillbox",this.$suggest)),!0)},_closeSuggestions:function(){this.$suggest.html("").parent().removeClass("open")},_isSuggestionsOpen:function(){return this.$suggest.parent().hasClass("open")},_keySuggestions:function(t){var e=this.$suggest.find("li.pillbox-suggest-sel"),i=G(t);t.preventDefault(),e.length?((t=i?e.prev():e.next()).length||(t=i?this.$suggest.find("li:last"):this.$suggest.find("li:first")),t&&(t.addClass("pillbox-suggest-sel"),e.removeClass("pillbox-suggest-sel"))):(e=this.$suggest.find("li:first")).addClass("pillbox-suggest-sel")}}).getValue=Tt.prototype.items,V.fn.pillbox=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=V(this),e=t.data("fu.pillbox"),i="object"==typeof n&&n;e||t.data("fu.pillbox",e=new Tt(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},V.fn.pillbox.defaults={edit:!1,readonly:-1,truncate:!1,acceptKeyCodes:[U,j],allowEmptyPills:!1,cleanInput:L},V.fn.pillbox.Constructor=Tt,V.fn.pillbox.noConflict=function(){return V.fn.pillbox=R,this},V(document).on("mousedown.fu.pillbox.data-api","[data-initialize=pillbox]",function(t){t=V(t.target).closest(".pillbox");t.data("fu.pillbox")||t.pillbox(t.data())}),V(function(){V("[data-initialize=pillbox]").each(function(){var t=V(this);t.data("fu.pillbox")||t.pillbox(t.data())})}),X=(J=t).fn.repeater,tt=function(t,e,i){e[t].initialize?e[t].initialize.call(this,{},function(){Et.call(this,t,e,i)}):Et.call(this,t,e,i)},(Dt.prototype={constructor:Dt,clear:function(t){var e=t||{};e.preserve?this.infiniteScrollingEnabled&&!e.clearInfinite||_t(this.$canvas):this.$canvas.empty();var i=void 0!==e.viewChanged&&e.viewChanged,t=J.fn.repeater.viewTypes[this.viewType]||{};!i&&t.cleared&&t.cleared.call(this,{options:e})},clearPreservedDataSourceOptions:function(){this.storedDataSourceOpts=null},destroy:function(){var t;return this.$element.find("input").each(function(){J(this).attr("value",J(this).val())}),this.$canvas.empty(),t=this.$element[0].outerHTML,this.$element.find(".combobox").combobox("destroy"),this.$element.find(".selectlist").selectlist("destroy"),this.$element.find(".search").search("destroy"),this.infiniteScrollingEnabled&&J(this.infiniteScrollingCont).infinitescroll("destroy"),this.$element.remove(),J(window).off("resize.fu.repeater."+this.stamp),t},disable:function(){var t=J.fn.repeater.viewTypes[this.viewType]||{};this.$search.search("disable"),this.$filters.selectlist("disable"),this.$views.find("label, input").addClass("disabled").attr("disabled","disabled"),this.$pageSize.selectlist("disable"),this.$primaryPaging.find(".combobox").combobox("disable"),this.$secondaryPaging.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.$nextBtn.attr("disabled","disabled"),t.enabled&&t.enabled.call(this,{status:!1}),this.isDisabled=!0,this.$element.addClass("disabled"),this.$element.trigger("disabled.fu.repeater")},enable:function(){var t=J.fn.repeater.viewTypes[this.viewType]||{};this.$search.search("enable"),this.$filters.selectlist("enable"),this.$views.find("label, input").removeClass("disabled").removeAttr("disabled"),this.$pageSize.selectlist("enable"),this.$primaryPaging.find(".combobox").combobox("enable"),this.$secondaryPaging.removeAttr("disabled"),this.$prevBtn.hasClass("page-end")||this.$prevBtn.removeAttr("disabled"),this.$nextBtn.hasClass("page-end")||this.$nextBtn.removeAttr("disabled"),this.$prevBtn.hasClass("page-end")&&this.$nextBtn.hasClass("page-end")&&this.$primaryPaging.combobox("disable"),0!==parseInt(this.$count.html(),10)?this.$pageSize.selectlist("enable"):this.$pageSize.selectlist("disable"),t.enabled&&t.enabled.call(this,{status:!0}),this.isDisabled=!1,this.$element.removeClass("disabled"),this.$element.trigger("enabled.fu.repeater")},getDataOptions:function(t){var e=t||{};void 0!==e.pageIncrement&&(null===e.pageIncrement?this.currentPage=0:this.currentPage+=e.pageIncrement);var i={};e.dataSourceOptions&&(i=e.dataSourceOptions,e.preserveDataSourceOptions&&(this.storedDataSourceOpts?this.storedDataSourceOpts=J.extend(this.storedDataSourceOpts,i):this.storedDataSourceOpts=i)),this.storedDataSourceOpts&&(i=J.extend(this.storedDataSourceOpts,i));t={view:this.currentView,pageIndex:this.currentPage,filter:{text:"All",value:"all"}};0<this.$filters.length&&(t.filter=this.$filters.selectlist("selectedItem")),t.pageSize=this.options.defaultPageSize,this.infiniteScrollingEnabled||0<this.$pageSize.length&&(t.pageSize=parseInt(this.$pageSize.selectlist("selectedItem").value,10));e=this.$search&&this.$search.find("input")&&this.$search.find("input").val();""!==e&&(t.search=e);e=(J.fn.repeater.viewTypes[this.viewType]||{}).dataOptions;return e&&(t=e.call(this,t)),t=J.extend(t,i)},infiniteScrolling:function(t,e){var i=this.$element.find(".repeater-footer"),n=this.$element.find(".repeater-viewport"),e=e||{};t?(this.infiniteScrollingEnabled=!0,this.infiniteScrollingEnd=e.end,delete e.dataSource,delete e.end,this.infiniteScrollingOptions=e,n.css({height:n.height()+i.outerHeight()}),i.hide()):(delete(e=this.infiniteScrollingCont).data().infinitescroll,e.off("scroll"),e.removeClass("infinitescroll"),this.infiniteScrollingCont=null,this.infiniteScrollingEnabled=!1,this.infiniteScrollingEnd=null,this.infiniteScrollingOptions={},n.css({height:n.height()-i.outerHeight()}),i.show())},infiniteScrollPaging:function(t){!0!==this.infiniteScrollingEnd&&this.infiniteScrollingEnd;var e=t.page,i=t.pages;this.currentPage=void 0!==e?e:NaN,this.infiniteScrollingCont&&(!0===t.end||this.currentPage+1>=i?this.infiniteScrollingCont.infinitescroll("end",this.viewOptions.thumbnail_endItemsHTML):this.infiniteScrollingCont.infinitescroll("onScroll"))},initInfiniteScrolling:function(){var i,t,e=this.$canvas.find('[data-infinite="true"]:first');(e=e.length<1?this.$canvas:e).data("fu.infinitescroll")?e.infinitescroll("enable"):(i=this,(t=J.extend({},this.infiniteScrollingOptions)).dataSource=function(t,e){i.infiniteScrollingCallback=e,i.render({pageIncrement:1})},e.infinitescroll(t),this.infiniteScrollingCont=e)},initViewTypes:function(t){var e,i=[];for(e in J.fn.repeater.viewTypes)!{}.hasOwnProperty.call(J.fn.repeater.viewTypes,e)||i.push(J.fn.repeater.viewTypes[e]);0<i.length?tt.call(this,0,i,t):t()},itemization:function(t){this.$count.html(void 0!==t.count?t.count:"?"),this.$end.html(void 0!==t.end?t.end:"?"),this.$start.html(void 0!==t.start?t.start:"?")},next:function(){this.$nextBtn.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.pageIncrement=1,this.$element.trigger("nextClicked.fu.repeater"),this.render({pageIncrement:this.pageIncrement})},pageInputChange:function(t,e){var i;t!==this.lastPageInput&&(this.lastPageInput=t,t=(i=parseInt(t,10)-1)-this.currentPage,this.$element.trigger("pageChanged.fu.repeater",[i,e]),this.render({pageIncrement:t}))},pagination:function(t){this.$primaryPaging.removeClass("active"),this.$secondaryPaging.removeClass("active");var e=t.pages;this.currentPage=void 0!==t.page?t.page:NaN;t=0===e?0:this.currentPage+1;if(e<=this.viewOptions.dropPagingCap){this.$primaryPaging.addClass("active");var i=this.$primaryPaging.find(".dropdown-menu");i.empty();for(var n=0;n<e;n++){var s=n+1;i.append('<li data-value="'+s+'"><a href="#">'+s+"</a></li>")}this.$primaryPaging.find("input.form-control").val(t)}else this.$secondaryPaging.addClass("active"),this.$secondaryPaging.val(t);this.lastPageInput=this.currentPage+1+"",this.$pages.html(""+e),this.currentPage+1<e?(this.$nextBtn.removeAttr("disabled"),this.$nextBtn.removeClass("page-end")):(this.$nextBtn.attr("disabled","disabled"),this.$nextBtn.addClass("page-end")),0<=this.currentPage-1?(this.$prevBtn.removeAttr("disabled"),this.$prevBtn.removeClass("page-end")):(this.$prevBtn.attr("disabled","disabled"),this.$prevBtn.addClass("page-end")),0!==this.pageIncrement&&(0<this.pageIncrement?this.$nextBtn.is(":disabled")?this.$prevBtn:this.$nextBtn:this.$prevBtn.is(":disabled")?this.$nextBtn:this.$prevBtn).focus()},previous:function(){this.$nextBtn.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.pageIncrement=-1,this.$element.trigger("previousClicked.fu.repeater"),this.render({pageIncrement:this.pageIncrement})},render:function(t){this.disable();var e=!1,i=J.fn.repeater.viewTypes[this.viewType]||{},n=t||{};n.changeView&&this.currentView!==n.changeView&&(a=this.currentView,this.currentView=n.changeView,this.viewType=this.currentView.split(".")[0],this.setViewOptions(this.currentView),this.$element.attr("data-currentview",this.currentView),this.$element.attr("data-viewtype",this.viewType),e=!0,n.viewChanged=e,this.$element.trigger("viewChanged.fu.repeater",this.currentView),this.infiniteScrollingEnabled&&this.infiniteScrolling(!1),(i=J.fn.repeater.viewTypes[this.viewType]||{}).selected&&i.selected.call(this,{prevView:a})),this.syncViewButtonState(),n.preserve=void 0!==n.preserve?n.preserve:!e,this.clear(n),(!this.infiniteScrollingEnabled||this.infiniteScrollingEnabled&&e)&&this.$loader.show().loader("play");var s=this.getDataOptions(n),a=this.viewOptions.dataSource,o=this;a(s,function(t){(function(e){var t=e.data||{};this.infiniteScrollingEnabled?this.infiniteScrollingCallback({}):(this.itemization(t),this.pagination(t));var i=this;this.renderItems(e.viewTypeObj,t,function(t){e.data=t,function(t){var e=t.data||{};this.infiniteScrollingEnabled&&((t.viewChanged||t.options.clearInfinite)&&this.initInfiniteScrolling(),this.infiniteScrollPaging(e,t.options)),this.$loader.hide().loader("pause"),this.enable(),this.$search.trigger("rendered.fu.repeater",{data:e,options:t.dataOptions,renderOptions:t.options}),this.$element.trigger("rendered.fu.repeater",{data:e,options:t.dataOptions,renderOptions:t.options}),this.$element.trigger("loaded.fu.repeater",t.dataOptions)}.call(i,e)})}).call(o,{data:t,dataOptions:s,options:n,viewChanged:e,viewTypeObj:i})})},resize:function(){for(var t,e,i=-1===this.viewOptions.staticHeight?this.$element.attr("data-staticheight"):this.viewOptions.staticHeight,n={},s=[],a=[],o=this.$element.parentsUntil(":visible").addBack(),r=0;r<o.length&&this.$element.is(":hidden");)t=o[r],J(t).is(":hidden")&&(a.push(t.style.display),t.style.display="block",s.push(t)),r++;this.viewType&&(n=J.fn.repeater.viewTypes[this.viewType]||{}),void 0!==i&&!1!==i&&"false"!==i?(this.$canvas.addClass("scrolling"),e={bottom:this.$viewport.css("margin-bottom"),top:this.$viewport.css("margin-top")},e=("true"===i||!0===i?this.$element.height():parseInt(i,10))-(this.$element.find(".repeater-header").outerHeight()||0)-(this.$element.find(".repeater-footer").outerHeight()||0)-("auto"===e.bottom?0:parseInt(e.bottom,10))-("auto"===e.top?0:parseInt(e.top,10)),this.$viewport.outerHeight(e)):this.$canvas.removeClass("scrolling"),n.resize&&n.resize.call(this,{height:this.$element.outerHeight(),width:this.$element.outerWidth()}),s.forEach(function(t,e){t.style.display=a[e]})},renderItems:function(t,e,i){if(t.render)t.render.call(this,{container:this.$canvas,data:e},i);else{t.before&&(n=t.before.call(this,{container:this.$canvas,data:e}),Ot(this.$canvas,n));var n=this.$canvas.find('[data-container="true"]:last'),s=0<n.length?n:this.$canvas;if(t.renderItem){var a,o=(t.repeat||"data.items").split("."),n=o[0];if("data"===n||"this"===n){a="this"===n?this:e;for(var r=o.slice(1),l=0;l<r.length;l++){if(void 0===a[r[l]]){a=[],It("WARNING: Repeater unable to find property to iterate renderItem on.");break}a=a[r[l]]}for(var h=0;h<a.length;h++){var d=t.renderItem.call(this,{container:s,data:e,index:h,subset:a});Ot(s,d)}}else It('WARNING: Repeater plugin "repeat" value must start with either "data" or "this"')}t.after&&(o=t.after.call(this,{container:this.$canvas,data:e}),Ot(this.$canvas,o)),i(e)}},setViewOptions:function(t){var e={},i=t.split(".")[1],e=this.options.views&&(this.options.views[i]||this.options.views[t])||{};this.viewOptions=J.extend({},this.options,e)},viewChanged:function(t){var e=J(t.target),t=e.val();this.syncingViewButtonState||(this.isDisabled||e.parents("label:first").hasClass("disabled")?this.syncViewButtonState():this.render({changeView:t,pageIncrement:null}))},syncViewButtonState:function(){var t=this.$views.find('input[value="'+this.currentView+'"]');this.syncingViewButtonState=!0,this.$views.find("input").prop("checked",!1),this.$views.find("label.active").removeClass("active"),0<t.length&&(t.prop("checked",!0),t.parents("label:first").addClass("active")),this.syncingViewButtonState=!1}}).runRenderer=Dt.prototype.renderItems,J.fn.repeater=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=J(this),e=t.data("fu.repeater"),i="object"==typeof n&&n;e||t.data("fu.repeater",e=new Dt(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},J.fn.repeater.defaults={dataSource:function(t,e){e({count:0,end:0,items:[],page:0,pages:1,start:0})},defaultView:-1,defaultPageSize:25,dropPagingCap:10,staticHeight:-1,views:null,searchOnKeyPress:!1,allowCancel:!0},J.fn.repeater.viewTypes={},J.fn.repeater.Constructor=Dt,J.fn.repeater.noConflict=function(){return J.fn.repeater=X,this},function(m){function d(t,e,i,n,s){var a=n[s].className,o=e[i][n[s].property],r=m("<td></td>"),l=n[s]._auto_width,e=n[s].property;return!1!==this.viewOptions.list_actions&&"@_ACTIONS_@"===e&&(o='<div class="repeater-list-actions-placeholder" style="width: '+this.list_actions_width+'px"></div>'),o=void 0!==o?o:"",r.addClass(void 0!==a?a:"").append(o),void 0!==l&&r.outerWidth(l),t.append(r),"multi"===this.viewOptions.list_selectable&&"@_CHECKBOX_@"===n[s].property&&(i='<label data-row="'+i+'" class="checkbox-custom checkbox-inline body-checkbox repeater-select-checkbox"><input class="sr-only" type="checkbox"></label>',r.html(i)),r}function r(t,e,i){var n,s,a,o,r,l="glyphicon-chevron-down",h=".glyphicon.rlc:first",d="glyphicon-chevron-up",c=m('<div class="repeater-list-heading"><span class="glyphicon rlc"></span></div>'),p='<div class="repeater-list-heading header-checkbox"><label id="'+((this.$element.attr("id")+"_"||"")+"checkall")+'" class="checkbox-custom checkbox-inline"><input class="sr-only" type="checkbox" value=""><span class="checkbox-label">&nbsp;</span></label></div>',u=m("<th></th>"),f=this;c.data("fu_item_index",i),c.prepend(e[i].label),u.html(c.html()).find("[id]").removeAttr("id"),"@_CHECKBOX_@"!==e[i].property?u.append(c):u.append(p),n=u.add(c),a=c.find(h),o=a.add(u.find(h)),this.viewOptions.list_actions&&"@_ACTIONS_@"===e[i].property&&(r=this.list_actions_width,u.css("width",r),c.css("width",r)),void 0!==(r=e[i].className)&&n.addClass(r),(s=e[i].sortable)&&(n.addClass("sortable"),c.on("click.fu.repeaterList",function(){f.isDisabled||(f.list_sortProperty="string"==typeof s?s:e[i].property,c.hasClass("sorted")?a.hasClass(d)?(o.removeClass(d).addClass(l),f.list_sortDirection="desc"):f.viewOptions.list_sortClearing?(n.removeClass("sorted"),o.removeClass(l),f.list_sortDirection=null,f.list_sortProperty=null):(o.removeClass(l).addClass(d),f.list_sortDirection="asc"):(t.find("th, .repeater-list-heading").removeClass("sorted"),o.removeClass(l).addClass(d),f.list_sortDirection="asc",n.addClass("sorted")),f.render({clearInfinite:!0,pageIncrement:null}))})),"asc"!==e[i].sortDirection&&"desc"!==e[i].sortDirection||(t.find("th, .repeater-list-heading").removeClass("sorted"),n.addClass("sortable sorted"),"asc"===e[i].sortDirection?(o.addClass(d),this.list_sortDirection="asc"):(o.addClass(l),this.list_sortDirection="desc"),this.list_sortProperty="string"==typeof s?s:e[i].property),t.append(u)}m.fn.repeater&&(m.fn.repeater.Constructor.prototype.list_clearSelectedItems=function(){this.$canvas.find(".repeater-list-check").remove(),this.$canvas.find(".repeater-list table tbody tr.selected").removeClass("selected")},m.fn.repeater.Constructor.prototype.list_highlightColumn=function(t,e){var i=this.$canvas.find(".repeater-list-wrapper > table tbody");(this.viewOptions.list_highlightSortedColumn||e)&&(i.find("td.sorted").removeClass("sorted"),i.find("tr").each(function(){m(this).find("td:nth-child("+(t+1)+")").filter(function(){return!m(this).parent().hasClass("empty")}).addClass("sorted")}))},m.fn.repeater.Constructor.prototype.list_getSelectedItems=function(){var e=[];return this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr.selected").each(function(){var t=m(this);e.push({data:t.data("item_data"),element:t})}),e},m.fn.repeater.Constructor.prototype.getValue=m.fn.repeater.Constructor.prototype.list_getSelectedItems,m.fn.repeater.Constructor.prototype.list_positionHeadings=function(){var t=this.$element.find(".repeater-list-wrapper"),i=t.offset().left;0<t.scrollLeft()?t.find(".repeater-list-heading").each(function(){var t=m(this),e=t.parents("th:first").offset().left-i+"px";t.addClass("shifted").css("left",e)}):t.find(".repeater-list-heading").each(function(){m(this).removeClass("shifted").css("left","")})},m.fn.repeater.Constructor.prototype.list_setSelectedItems=function(t,s){var e,a=this.viewOptions.list_selectable,o=this,i=t;m.isArray(i)||(i=[i]);function n(t){((e=m(this)).data("item_data")||{})[i[h].property]===i[h].value&&r(e,i[h].selected,t)}for(var r=function(t,e,i){var n;void 0===e||e?(s||"multi"===a||o.list_clearSelectedItems(),t.hasClass("selected")||(t.addClass("selected"),!o.viewOptions.list_frozenColumns&&"multi"!==o.viewOptions.list_selectable||((n=o.$element.find(".frozen-column-wrapper tr:nth-child("+(i+1)+")")).addClass("selected"),n.find(".repeater-select-checkbox").addClass("checked")),o.viewOptions.list_actions&&o.$element.find(".actions-column-wrapper tr:nth-child("+(i+1)+")").addClass("selected"),t.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'))):(o.viewOptions.list_frozenColumns&&((n=o.$element.find(".frozen-column-wrapper tr:nth-child("+(i+1)+")")).addClass("selected"),n.find(".repeater-select-checkbox").removeClass("checked")),o.viewOptions.list_actions&&o.$element.find(".actions-column-wrapper tr:nth-child("+(i+1)+")").removeClass("selected"),t.find(".repeater-list-check").remove(),t.removeClass("selected"))},l=!0===s||"multi"===a?i.length:a&&0<i.length?1:0,h=0;h<l;h++)void 0!==i[h].index?0<(e=this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr:nth-child("+(i[h].index+1)+")")).length&&r(e,i[h].selected,i[h].index):void 0!==i[h].property&&void 0!==i[h].value&&this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr").each(n)},m.fn.repeater.Constructor.prototype.list_sizeHeadings=function(){this.$element.find(".repeater-list table").find("thead th").each(function(){var t=m(this),e=t.find(".repeater-list-heading");e.css({height:t.outerHeight()}),e.outerWidth(e.data("forced-width")||t.outerWidth())})},m.fn.repeater.Constructor.prototype.list_setFrozenColumns=function(){var t=this.$canvas.find(".table-frozen"),e=this.$element.find(".repeater-canvas"),i=this.$element.find(".repeater-list .repeater-list-wrapper > table"),n=this.$element.find(".repeater-list"),s=this.viewOptions.list_frozenColumns,a=this;"multi"===this.viewOptions.list_selectable&&(s+=1,e.addClass("multi-select-enabled")),t.length<1&&(e=m('<div class="frozen-column-wrapper"></div>').insertBefore(i),(t=i.clone().addClass("table-frozen")).find("th:not(:lt("+s+"))").remove(),t.find("td:not(:nth-child(n+0):nth-child(-n+"+s+"))").remove(),(i=t.clone().removeClass("table-frozen")).find("tbody").remove(),(i=(s=m('<div class="frozen-thead-wrapper"></div>').append(i)).find("th label.checkbox-custom.checkbox-inline")).attr("id",i.attr("id")+"_cloned"),e.append(t),n.append(s),this.$canvas.addClass("frozen-enabled")),this.list_sizeFrozenColumns(),m(".frozen-thead-wrapper .repeater-list-heading").on("click",function(){var t=m(this).parent("th").index();t+=1,a.$element.find(".repeater-list-wrapper > table thead th:nth-child("+t+") .repeater-list-heading")[0].click()})},m.fn.repeater.Constructor.prototype.list_positionColumns=function(){var t=this.$element.find(".repeater-canvas"),e=t.scrollTop(),i=t.scrollLeft(),n=this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable,s=this.viewOptions.list_actions,a="ltr"===this.viewOptions.list_direction,o=this.$element.find(".repeater-canvas").outerWidth(),o=i<=this.$element.find(".repeater-list .repeater-list-wrapper > table").outerWidth()-(o-(this.$element.find(".table-actions")?this.$element.find(".table-actions").outerWidth():0));0<e?t.find(".repeater-list-heading").css("top",e):t.find(".repeater-list-heading").css("top","0"),a?(n&&(t.find(".frozen-thead-wrapper").css("left",i),t.find(".frozen-column-wrapper").css("left",i)),s&&o&&(t.find(".actions-thead-wrapper").css("right",-i),t.find(".actions-column-wrapper").css("right",-i))):(n&&(t.find(".frozen-thead-wrapper").css("right",i),t.find(".frozen-column-wrapper").css("right",i)),s&&o&&(t.find(".actions-thead-wrapper").css("left",-i),t.find(".actions-column-wrapper").css("left",-i)))},m.fn.repeater.Constructor.prototype.list_createItemActions=function(){var s,a,n=this,i=this.$element.find(".repeater-list .repeater-list-wrapper > table"),t=this.$canvas.find(".table-actions");Array.isArray(this.viewOptions.list_actions.items)&&(this.viewOptions.list_actions.items={common:this.viewOptions.list_actions.items,default:this.viewOptions.list_actions.items});var e,o,r={};m.each(this.viewOptions.list_actions.items,function(t,e){var i="";for(s=0,a=e.length;s<a;s++){var n=e[s];n.html;i+='<li><a href="#" data-action-list="'+t+'" data-action="'+n.name+'" class="action-item"> '+n.html+"</a></li>"}r[t]='<div class="btn-group"><button type="button" class="btn btn-xs btn-default dropdown-toggle repeater-actions-button"data-toggle="dropdown" data-flip="auto" aria-expanded="false"><span class="caret"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu">'+i+"</ul></div>"}),t.length<1&&(e=m('<div class="actions-column-wrapper" style="width: '+this.list_actions_width+'px"></div>').insertBefore(i),(o=i.clone().addClass("table-actions")).find("th:not(:last-child)").remove(),o.find("tr td:not(:last-child)").remove(),"multi"===this.viewOptions.list_selectable||"action"===this.viewOptions.list_selectable?(o.find("thead tr").html('<th><div class="repeater-list-heading">'+r.common+"</div></th>"),"action"!==this.viewOptions.list_selectable&&o.find("thead .btn").attr("disabled","disabled")):(t=this.viewOptions.list_actions.label||'<span class="actions-hidden">a</span>',o.find("thead tr").addClass("empty-heading").html("<th>"+t+'<div class="repeater-list-heading">'+t+"</div></th>")),o.find("td").each(function(t){let e=i.find("tbody tr").eq(t).data("action-list");e&&r.hasOwnProperty(e)||(e="default"),m(this).html(r[e]),m(this).find("a").attr("data-row",t+1),i.find("tbody tr").eq(t).data("action-list",e)}),e.append(o),this.$canvas.addClass("actions-enabled")),this.list_sizeActionsTable(),this.$element.find(".table-actions tbody .action-item").on("click",function(t){var e;n.isDisabled||(e={actionList:m(this).data("action-list"),actionName:m(this).data("action"),rows:[m(this).data("row")]},n.list_getActionItems(e,t))}),this.$element.find(".table-actions thead .action-item").on("click",function(t){var e,i;n.isDisabled||(e={actionList:"common",actionName:m(this).data("action"),rows:[]},i=".repeater-list-wrapper > table .selected","action"===n.viewOptions.list_selectable&&(i=".repeater-list-wrapper > table tr"),n.$element.find(i).each(function(t){e.rows.push(m(this).index()+1)}),n.list_getActionItems(e,t))})},m.fn.repeater.Constructor.prototype.list_getActionItems=function(e,t){for(var i=[],n=m.grep(this.viewOptions.list_actions.items[e.actionList],function(t){return t.name===e.actionName})[0],s=0,a=e.rows.length;s<a;s++){var o=this.$canvas.find(".repeater-list-wrapper > table tbody tr:nth-child("+e.rows[s]+")");i.push({item:o,rowData:o.data("item_data")})}1===i.length&&(i=i[0]),n.clickAction&&n.clickAction(i,function(){},t)},m.fn.repeater.Constructor.prototype.list_sizeActionsTable=function(){var t=this.$element.find(".repeater-list table.table-actions"),e=t.find("thead tr th"),i=this.$element.find(".repeater-list-wrapper > table");e.outerHeight(i.find("thead tr th").outerHeight()),e.find(".repeater-list-heading").outerHeight(e.outerHeight()),t.find("tbody tr td:first-child").each(function(t){m(this).outerHeight(i.find("tbody tr:eq("+t+") td").outerHeight())})},m.fn.repeater.Constructor.prototype.list_sizeFrozenColumns=function(){var e=this.$element.find(".repeater-list .repeater-list-wrapper > table");this.$element.find(".repeater-list table.table-frozen tr").each(function(t){m(this).height(e.find("tr:eq("+t+")").height())});var t=e.find("td:eq(0)").outerWidth();this.$element.find(".frozen-column-wrapper, .frozen-thead-wrapper").width(t)},m.fn.repeater.Constructor.prototype.list_frozenOptionsInitialize=function(){var e=this.$element.find(".frozen-column-wrapper .checkbox-inline"),t=this.$element.find(".header-checkbox .checkbox-custom"),i=this.$element.find(".repeater-list table"),n=this;this.$element.find("tr.selectable").on("mouseover mouseleave",function(t){var e=m(this).index();e+=1,"mouseover"===t.type?i.find("tbody tr:nth-child("+e+")").addClass("hovered"):i.find("tbody tr:nth-child("+e+")").removeClass("hovered")}),t.checkbox(),e.checkbox();var s=this.$element.find(".table-frozen tbody .checkbox-inline"),a=this.$element.find(".frozen-thead-wrapper thead .checkbox-inline input");function o(t){n.list_revertingCheckbox=!0,t.checkbox("toggle"),delete n.list_revertingCheckbox}s.on("change",function(t){t.preventDefault(),n.list_revertingCheckbox||(n.isDisabled?o(m(t.currentTarget)):(t=m(this).attr("data-row"),t=parseInt(t,10)+1,n.$element.find(".repeater-list-wrapper > table tbody tr:nth-child("+t+")").click(),0===(t=n.$element.find(".table-frozen tbody .checkbox-inline.checked").length)?(a.prop("checked",!1),a.prop("indeterminate",!1)):t===s.length?(a.prop("checked",!0),a.prop("indeterminate",!1)):(a.prop("checked",!1),a.prop("indeterminate",!0))))}),a.on("change",function(t){n.list_revertingCheckbox||(n.isDisabled?o(m(t.currentTarget)):m(this).is(":checked")?(n.$element.find(".repeater-list-wrapper > table tbody tr:not(.selected)").click(),n.$element.trigger("selected.fu.repeaterList",e)):(n.$element.find(".repeater-list-wrapper > table tbody tr.selected").click(),n.$element.trigger("deselected.fu.repeaterList",e)))})},m.fn.repeater.defaults=m.extend({},m.fn.repeater.defaults,{list_direction:"ltr",list_columnRendered:null,list_columnSizing:!0,list_columnSyncing:!0,list_highlightSortedColumn:!0,list_infiniteScroll:!1,list_noItemsHTML:"no items found",list_selectable:!1,list_sortClearing:!1,list_rowRendered:null,list_frozenColumns:0,list_actions:!1}),m.fn.repeater.viewTypes.list={cleared:function(){this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},dataOptions:function(t){return this.list_sortDirection&&(t.sortDirection=this.list_sortDirection),this.list_sortProperty&&(t.sortProperty=this.list_sortProperty),t},enabled:function(t){this.viewOptions.list_actions&&(t.status?(this.$canvas.find(".repeater-actions-button").removeAttr("disabled"),c.call(this)):this.$canvas.find(".repeater-actions-button").attr("disabled","disabled"))},initialize:function(t,e){this.list_sortDirection=null,this.list_sortProperty=null,this.list_specialBrowserClass=i(),this.list_actions_width=void 0!==this.viewOptions.list_actions.width?this.viewOptions.list_actions.width:37,this.list_noItems=!1,e()},resize:function(){l.call(this,this.$element.find(".repeater-list-wrapper > table thead tr")),this.viewOptions.list_actions&&this.list_sizeActionsTable(),!this.viewOptions.list_frozenColumns&&"multi"!==this.viewOptions.list_selectable||this.list_sizeFrozenColumns(),this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},selected:function(){var t=this.viewOptions.list_infiniteScroll;this.list_firstRender=!0,this.$loader.addClass("noHeader"),t&&(t="object"==typeof t?t:{},this.infiniteScrolling(!0,t))},before:function(t){var e=t.container.find(".repeater-list"),i=this;return 0<t.data.count?this.list_noItems=!1:this.list_noItems=!0,e.length<1&&((e=m('<div class="repeater-list '+this.list_specialBrowserClass+'" data-preserve="shallow"><div class="repeater-list-wrapper" data-infinite="true" data-preserve="shallow"><table aria-readonly="true" class="table" data-preserve="shallow" role="grid"></table></div></div>')).find(".repeater-list-wrapper").on("scroll.fu.repeaterList",function(){i.viewOptions.list_columnSyncing&&i.list_positionHeadings()}),(i.viewOptions.list_frozenColumns||i.viewOptions.list_actions||"multi"===i.viewOptions.list_selectable)&&t.container.on("scroll.fu.repeaterList",function(){i.list_positionColumns()}),t.container.append(e)),t.container.removeClass("actions-enabled actions-enabled multi-select-enabled"),e.find(".frozen-thead-wrapper").remove(),e.find(".frozen-column-wrapper").remove(),e.find(".actions-column-wrapper").remove(),e=e.find("table"),s.call(this,e,t.data),n.call(this,e,t.data),!1},renderItem:function(t){return e.call(this,t.container,t.subset,t.index),!1},after:function(){var t;return!this.viewOptions.list_frozenColumns&&"multi"!==this.viewOptions.list_selectable||this.list_noItems||this.list_setFrozenColumns(),this.viewOptions.list_actions&&!this.list_noItems&&(this.list_createItemActions(),this.list_sizeActionsTable()),!this.viewOptions.list_frozenColumns&&!this.viewOptions.list_actions&&"multi"!==this.viewOptions.list_selectable||this.list_noItems||(this.list_positionColumns(),this.list_frozenOptionsInitialize()),this.viewOptions.list_columnSyncing&&(this.list_sizeHeadings(),this.list_positionHeadings()),0<(t=this.$canvas.find(".repeater-list-wrapper > table .repeater-list-heading.sorted")).length&&this.list_highlightColumn(t.data("fu_item_index")),!1}});var e=function(t,e,i){var n,s=m("<tr></tr>");this.viewOptions.list_selectable&&(s.data("item_data",e[i]),"action"!==this.viewOptions.list_selectable&&(s.addClass("selectable"),s.attr("tabindex",0),n=this,s.on("click.fu.repeaterList",function(){(function(t){var e,i,n,s,a="multi"===t.viewOptions.list_selectable,o=t.viewOptions.list_actions,r=t.$element;t.isDisabled||(e=m(this),s=m(this).index()+1,i=r.find(".frozen-column-wrapper tr:nth-child("+s+")"),n=r.find(".actions-column-wrapper tr:nth-child("+s+")"),s=r.find(".frozen-column-wrapper tr:nth-child("+s+") .checkbox-inline"),e.is(".selected")?(e.removeClass("selected"),a?(s.click(),i.removeClass("selected"),o&&n.removeClass("selected")):e.find(".repeater-list-check").remove(),r.trigger("deselected.fu.repeaterList",e)):(a?(s.click(),e.addClass("selected"),i.addClass("selected"),o&&n.addClass("selected")):(t.$canvas.find(".repeater-list-check").remove(),t.$canvas.find(".repeater-list tbody tr.selected").each(function(){m(this).removeClass("selected"),r.trigger("deselected.fu.repeaterList",m(this))}),e.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'),e.addClass("selected"),i.addClass("selected")),r.trigger("selected.fu.repeaterList",e)),c.call(t))}).call(this,n)}),s.keyup(function(t){13===t.keyCode&&s.trigger("click.fu.repeaterList")}))),this.viewOptions.list_actions&&!this.viewOptions.list_selectable&&s.data("item_data",e[i]);for(var a=[],o=0,r=this.list_columns.length;o<r;o++)a.push(d.call(this,s,e,i,this.list_columns,o));if(t.append(s),this.viewOptions.list_columnRendered)for(var l=0,h=a.length;l<h;l++)"@_CHECKBOX_@"!==this.list_columns[l].property&&"@_ACTIONS_@"!==this.list_columns[l].property&&this.viewOptions.list_columnRendered({container:s,columnAttr:this.list_columns[l].property,item:a[l],rowData:e[i]},function(){});this.viewOptions.list_rowRendered&&this.viewOptions.list_rowRendered({container:t,item:s,rowData:e[i]},function(){})},n=function(t,e){var i,n=t.find("tbody");n.length<1&&(n=m('<tbody data-container="true"></tbody>'),t.append(n)),"string"==typeof e.error&&0<e.error.length?((i=m('<tr class="empty text-danger"><td colspan="'+this.list_columns.length+'"></td></tr>')).find("td").append(e.error),n.append(i)):e.items&&e.items.length<1&&((i=m('<tr class="empty"><td colspan="'+this.list_columns.length+'"></td></tr>')).find("td").append(this.viewOptions.list_noItemsHTML),n.append(i))},s=function(t,e){var i,n,s,a=e.columns||[],o=t.find("thead");if(this.list_firstRender||function(t,e){if(!e)return!1;if(!t||e.length!==t.length)return!0;for(var i=0,n=e.length;i<n;i++){if(!t[i])return!0;for(var s in e[i])if(e[i].hasOwnProperty(s)&&t[i][s]!==e[i][s])return!0}return!1}(this.list_columns,a)||0===o.length){for(o.remove(),"multi"===this.viewOptions.list_selectable&&a.splice(0,0,{label:"c",property:"@_CHECKBOX_@",sortable:!1}),this.list_columns=a,this.list_firstRender=!1,this.$loader.removeClass("noHeader"),this.viewOptions.list_actions&&(e={label:this.viewOptions.list_actions.label||'<span class="actions-hidden">a</span>',property:"@_ACTIONS_@",sortable:!1,width:this.list_actions_width},a.push(e)),s=(o=m('<thead data-preserve="deep"><tr></tr></thead>')).find("tr"),i=0,n=a.length;i<n;i++)r.call(this,s,a,i);t.prepend(o),"multi"===this.viewOptions.list_selectable&&(o=this.$element.find(".repeater-list-wrapper .header-checkbox").outerWidth(),m.grep(a,function(t){return"@_CHECKBOX_@"===t.property})[0].width=o),l.call(this,s)}},l=function(t){var e,i,n=[],s=this;if(this.viewOptions.list_columnSizing&&(i=o=0,t.find("th").each(function(){var t,e=m(this);void 0!==s.list_columns[o].width?(t=s.list_columns[o].width,e.outerWidth(t),i+=e.outerWidth(),s.list_columns[o]._auto_width=t):(t=e.find(".repeater-list-heading").outerWidth(),n.push({col:e,index:o,minWidth:t})),o++}),0<(e=n.length)))for(var t=this.$canvas.find(".repeater-list-wrapper").outerWidth(),a=Math.floor((t-i)/e),o=0;o<e;o++)n[o].minWidth>a&&(a=n[o].minWidth),n[o].col.outerWidth(a),this.list_columns[n[o].index]._auto_width=a},i=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE "),i=t.indexOf("Firefox");return 0<e?"ie-"+parseInt(t.substring(e+5,t.indexOf(".",e)),10):0<i?"firefox":""},c=function(){var t=".repeater-list-wrapper > table .selected",e=this.$element.find(".table-actions");"action"===this.viewOptions.list_selectable&&(t=".repeater-list-wrapper > table tr"),0<this.$canvas.find(t).length?e.find("thead .btn").removeAttr("disabled"):e.find("thead .btn").attr("disabled","disabled")}}(t),(et=t).fn.repeater&&(et.fn.repeater.Constructor.prototype.thumbnail_clearSelectedItems=function(){this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").removeClass("selected")},et.fn.repeater.Constructor.prototype.thumbnail_getSelectedItems=function(){var t=[];return this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){t.push(et(this))}),t},et.fn.repeater.Constructor.prototype.thumbnail_setSelectedItems=function(t,i){var e,n,s,a,o=this.viewOptions.thumbnail_selectable,r=this;function l(){if(a===t[e].index)return n=et(this),!1;a++}function h(){(n=et(this)).is(t[e].selector)&&d(n,t[e].selected)}function d(t,e){(e=void 0===e||e)?(i||"multi"===o||r.thumbnail_clearSelectedItems(),t.addClass("selected")):t.removeClass("selected")}for(et.isArray(t)||(t=[t]),s=!0===i||"multi"===o?t.length:o&&0<t.length?1:0,e=0;e<s;e++)void 0!==t[e].index?(n=et(),a=0,this.$canvas.find(".repeater-thumbnail-cont .selectable").each(l),0<n.length&&d(n,t[e].selected)):t[e].selector&&this.$canvas.find(".repeater-thumbnail-cont .selectable").each(h)},et.fn.repeater.defaults=et.extend({},et.fn.repeater.defaults,{thumbnail_alignment:"left",thumbnail_infiniteScroll:!1,thumbnail_itemRendered:null,thumbnail_noItemsHTML:"no items found",thumbnail_endItemsHTML:"---------",thumbnail_selectable:!1,thumbnail_template:'<img height="75" src="{{src}}" width="65"><span>{{name}}</span>'}),et.fn.repeater.viewTypes.thumbnail={selected:function(){var t=this.viewOptions.thumbnail_infiniteScroll;t&&(t="object"==typeof t?t:{},this.infiniteScrolling(!0,t))},before:function(t){var e=this.viewOptions.thumbnail_alignment,i=this.$canvas.find(".repeater-thumbnail-cont"),n=t.data,t={};return i.length<1?(i=et('<div class="clearfix repeater-thumbnail-cont" data-container="true" data-infinite="true" data-preserve="shallow"></div>'),e&&"none"!==e?(e={center:1,justify:1,left:1,right:1}[e]?e:"justify",i.addClass("align-"+e),this.thumbnail_injectSpacers=!0):this.thumbnail_injectSpacers=!1,t.item=i):t.action="none",n.items&&n.items.length<1?((n=et('<div class="empty"></div>')).append(this.viewOptions.thumbnail_noItemsHTML),i.append(n)):i.find(".empty:first").remove(),t},renderItem:function(t){var e=this.viewOptions.thumbnail_selectable,n="selected",s=this,a=et(function(n,s){var a=!1;for(;!a&&0<=s.search("{{");)!function(){var t,e=s.indexOf("{{"),i=s.indexOf("}}",e+2);-1<e&&-1<i?(t=et.trim(s.substring(e+2,i)),t=void 0!==n[t]?n[t]:"",s=s.substring(0,e)+t+s.substring(i+2)):a=!0}();return s}(t.subset[t.index],'<div class="thumbnail repeater-thumbnail">'+this.viewOptions.thumbnail_template+"</div>"));if(this.viewOptions.thumbnail_itemRendered&&this.viewOptions.thumbnail_itemRendered({container:t.container,item:a,itemData:t.subset[t.index]},function(){}),a.data("item_data",t.data.items[t.index]),this.viewOptions.list_actions){Array.isArray(this.viewOptions.list_actions.items)&&(this.viewOptions.list_actions.items={common:this.viewOptions.list_actions.items,default:this.viewOptions.list_actions.items});let t=a.data("action-list");t&&this.viewOptions.list_actions.items.hasOwnProperty(t)||(t="default"),a.data("action-list",t);var o="",r=this.viewOptions.list_actions.items[t];for(i=0,length=r.length;i<length;i++){var l=r[i];o+='<li><a href="#" data-action-list="'+t+'" data-action="'+l.name+'" class="action-item"> '+l.html+"</a></li>"}var h='<div class="btn-group"><button type="button" class="btn btn-xs btn-default dropdown-toggle repeater-actions-button"data-toggle="dropdown" data-flip="auto" aria-expanded="false"><span class="caret"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu">'+o+"</ul></div>";a.append(h)}return a.find(".action-item").on("click",function(t){var e,i,n;t.preventDefault(),s.isDisabled||(e=et(this).data("action"),n=et(this).data("action-list"),i=et.grep(s.viewOptions.list_actions.items[n],function(t){return t.name===e})[0],n={item:a,rowData:a.data("item_data")},i.clickAction&&i.clickAction(n,function(){},t))}),e&&(a.addClass("selectable"),a.on("click",function(){s.isDisabled||(a.hasClass(n)?(a.removeClass(n),s.$element.trigger("deselected.fu.repeaterThumbnail",a)):("multi"!==e&&s.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){var t=et(this);t.removeClass(n),s.$element.trigger("deselected.fu.repeaterThumbnail",t)}),a.addClass(n),s.$element.trigger("selected.fu.repeaterThumbnail",a)))})),t.container.append(a),this.thumbnail_injectSpacers&&a.after('<span class="spacer">&nbsp;</span>'),!1}}),nt=(it=t).fn.scheduler,st={secondly:1e3,minutely:6e4,hourly:36e5,daily:864e5,weekly:6048e5,monthly:3024e6,yearly:314496e5},At.prototype={constructor:At,destroy:function(){var t;return this.$element.find("input").each(function(){it(this).attr("value",it(this).val())}),this.$element.find(".datepicker .calendar").empty(),t=this.$element[0].outerHTML,this.$element.find(".combobox").combobox("destroy"),this.$element.find(".datepicker").datepicker("destroy"),this.$element.find(".selectlist").selectlist("destroy"),this.$element.find(".spinbox").spinbox("destroy"),this.$element.find(".radio-custom").radio("destroy"),this.$element.remove(),t},changed:function(t,e,i){i||t.stopPropagation(),this.$element.trigger("changed.fu.scheduler",{data:void 0!==e?e:it(t.currentTarget).data(),originalEvent:t,value:this.getValue()})},disable:function(){this.toggleState("disable")},enable:function(){this.toggleState("enable")},setUtcTime:function(t,e,i){t=t.split("-"),e=e.split(":");t=new Date(Date.UTC(t[0],t[1]-1,t[2],e[0],e[1],e[2]||0));"Z"===i?t.setUTCHours(t.getUTCHours()+0):((e=[])[0]="(.)",e[1]=".*?",e[2]="\\d",e[3]=".*?",e[4]="(\\d)",null!==(e=new RegExp(e.join(""),["i"]).exec(i))&&(i=e[1],n=e[2],i="+"===i?1:-1,t.setUTCHours(t.getUTCHours()+i*parseInt(n,10))));var n=t.getTimezoneOffset();return t.setMinutes(n),t},endSelectChanged:function(t,e){e=(e||this.$endSelect.selectlist("selectedItem")).value;this.$endAfter.parent().addClass("hidden"),this.$endAfter.parent().attr("aria-hidden","true"),this.$endDate.parent().addClass("hidden"),this.$endDate.parent().attr("aria-hidden","true"),"after"===e?(this.$endAfter.parent().removeClass("hide hidden"),this.$endAfter.parent().attr("aria-hidden","false")):"date"===e&&(this.$endDate.parent().removeClass("hide hidden"),this.$endDate.parent().attr("aria-hidden","false"))},_guessEndDate:function(){var t=this.$repeatIntervalSelect.selectlist("selectedItem").value,e=new Date(this.$endDate.datepicker("getDate")),i=new Date(this.$startDate.datepicker("getDate")),n=this.$repeatIntervalSpinbox.find("input").val();"none"!==t&&e<=i&&(this.$repeatIntervalSpinbox.is(":visible")||(n=1),"weekdays"===t&&(n=1,t="weekly"),t=t,n=n,e=new Date(i.getTime()+st[t]*n),this.$endDate.datepicker("setDate",e))},getValue:function(){var t,e,i,n,s=this.$repeatIntervalSpinbox.spinbox("value"),a="",o=this.$repeatIntervalSelect.selectlist("selectedItem").value,r=(this.$startTime.combobox("selectedItem").value?r=this.$startTime.combobox("selectedItem").value:this.$startTime.combobox("selectedItem").text).toLowerCase(),l=this.$timeZone.selectlist("selectedItem"),h=""+Mt(this.$startDate.datepicker("getDate"),"-");h+="T",e=0<=r.search("am"),i=0<=r.search("pm"),(r=it.trim(r.replace(/am/g,"").replace(/pm/g,"")).split(":"))[0]=parseInt(r[0],10),r[1]=parseInt(r[1],10),e&&11<r[0]?r[0]=0:i&&r[0]<12&&(r[0]+=12),h+=r[0]<10?"0"+r[0]:r[0],h+=":",h+=r[1]<10?"0"+r[1]:r[1],h+="+00:00"===l.offset?"Z":l.offset,"none"===o?a="FREQ=DAILY;INTERVAL=1;COUNT=1;":"secondly"===o?(a="FREQ=SECONDLY;",a+="INTERVAL="+s+";"):"minutely"===o?(a="FREQ=MINUTELY;",a+="INTERVAL="+s+";"):"hourly"===o?(a="FREQ=HOURLY;",a+="INTERVAL="+s+";"):"daily"===o?(a+="FREQ=DAILY;",a+="INTERVAL="+s+";"):"weekdays"===o?(a+="FREQ=WEEKLY;",a+="BYDAY=MO,TU,WE,TH,FR;",a+="INTERVAL=1;"):"weekly"===o?(t=[],this.$element.find(".repeat-days-of-the-week .btn-group input:checked").each(function(){t.push(it(this).data().value)}),a+="FREQ=WEEKLY;",a+="BYDAY="+t.join(",")+";",a+="INTERVAL="+s+";"):"monthly"===o?(a+="FREQ=MONTHLY;",a+="INTERVAL="+s+";","bymonthday"===(n=this.$element.find("input[name=repeat-monthly]:checked").val())?a+="BYMONTHDAY="+parseInt(this.$element.find(".repeat-monthly-date .selectlist").selectlist("selectedItem").text,10)+";":"bysetpos"===n&&(t=this.$element.find(".repeat-monthly-day .month-days").selectlist("selectedItem").value,d=this.$element.find(".repeat-monthly-day .month-day-pos").selectlist("selectedItem").value,a+="BYDAY="+t+";",a+="BYSETPOS="+d+";")):"yearly"===o&&(a+="FREQ=YEARLY;","bymonthday"===(n=this.$element.find("input[name=repeat-yearly]:checked").val())?(a+="BYMONTH="+(c=this.$element.find(".repeat-yearly-date .year-month").selectlist("selectedItem").value)+";",a+="BYMONTHDAY="+this.$element.find(".repeat-yearly-date .year-month-day").selectlist("selectedItem").text+";"):"bysetpos"===n&&(t=this.$element.find(".repeat-yearly-day .year-month-days").selectlist("selectedItem").value,d=this.$element.find(".repeat-yearly-day .year-month-day-pos").selectlist("selectedItem").value,c=this.$element.find(".repeat-yearly-day .year-month").selectlist("selectedItem").value,a+="BYDAY="+t+";",a+="BYSETPOS="+d+";",a+="BYMONTH="+c+";"));var d=this.$endSelect.selectlist("selectedItem").value,c="";return"none"!==o&&("after"===d?c="COUNT="+this.$endAfter.spinbox("value")+";":"date"===d&&(c="UNTIL="+Mt(this.$endDate.datepicker("getDate"),"")+";")),{startDateTime:h,timeZone:l,recurrencePattern:a=";"===(a+=c).substring(a.length-1)?a.substring(0,a.length-1):a}},repeatIntervalSelectChanged:function(t,e){var i,n=e?(i=e.value,e.text):(i=(n=this.$repeatIntervalSelect.selectlist("selectedItem")).value||"",n.text||"");switch(this.$repeatIntervalTxt.text(n),i.toLowerCase()){case"hourly":case"daily":case"weekly":case"monthly":this.$repeatIntervalPanel.removeClass("hide hidden"),this.$repeatIntervalPanel.attr("aria-hidden","false");break;default:this.$repeatIntervalPanel.addClass("hidden"),this.$repeatIntervalPanel.attr("aria-hidden","true")}this.$recurrencePanels.addClass("hidden"),this.$recurrencePanels.attr("aria-hidden","true"),this.$element.find(".repeat-"+i).removeClass("hide hidden"),this.$element.find(".repeat-"+i).attr("aria-hidden","false"),"none"===i?(this.$end.addClass("hidden"),this.$end.attr("aria-hidden","true")):(this.$end.removeClass("hide hidden"),this.$end.attr("aria-hidden","false")),this._guessEndDate()},_parseAndSetRecurrencePattern:function(t,e){for(var i,n,s,a,o,r={},l=0,h="",d=t.toUpperCase().split(";"),l=0;l<d.length;l++)""!==d[l]&&(r[(h=d[l].split("="))[0]]=h[1]);if("DAILY"===r.FREQ)h="MO,TU,WE,TH,FR"===r.BYDAY?"weekdays":"1"===r.INTERVAL&&"1"===r.COUNT?"none":"daily";else if("SECONDLY"===r.FREQ)h="secondly";else if("MINUTELY"===r.FREQ)h="minutely";else if("HOURLY"===r.FREQ)h="hourly";else if("WEEKLY"===r.FREQ){if(h="weekly",r.BYDAY)if("MO,TU,WE,TH,FR"===r.BYDAY)h="weekdays";else{var c=this.$element.find(".repeat-days-of-the-week .btn-group");for(c.find("label").removeClass("active"),i=r.BYDAY.split(","),l=0;l<i.length;l++)c.find('input[data-value="'+i[l]+'"]').prop("checked",!0).parent().addClass("active")}}else h="MONTHLY"===r.FREQ?(this.$element.find(".repeat-monthly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-monthly label.radio-custom").removeClass("checked"),r.BYMONTHDAY?((s=this.$element.find(".repeat-monthly-date")).find("input").addClass("checked").prop("checked",!0),s.find("label.radio-custom").addClass("checked"),s.find(".selectlist").selectlist("selectByValue",r.BYMONTHDAY)):r.BYDAY&&((s=this.$element.find(".repeat-monthly-day")).find("input").addClass("checked").prop("checked",!0),s.find("label.radio-custom").addClass("checked"),r.BYSETPOS&&s.find(".month-day-pos").selectlist("selectByValue",r.BYSETPOS),s.find(".month-days").selectlist("selectByValue",r.BYDAY)),"monthly"):"YEARLY"===r.FREQ?(this.$element.find(".repeat-yearly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-yearly label.radio-custom").removeClass("checked"),r.BYMONTHDAY?((n=this.$element.find(".repeat-yearly-date")).find("input").addClass("checked").prop("checked",!0),n.find("label.radio-custom").addClass("checked"),r.BYMONTH&&n.find(".year-month").selectlist("selectByValue",r.BYMONTH),n.find(".year-month-day").selectlist("selectByValue",r.BYMONTHDAY)):r.BYSETPOS&&((n=this.$element.find(".repeat-yearly-day")).find("input").addClass("checked").prop("checked",!0),n.find("label.radio-custom").addClass("checked"),n.find(".year-month-day-pos").selectlist("selectByValue",r.BYSETPOS),r.BYDAY&&n.find(".year-month-days").selectlist("selectByValue",r.BYDAY),r.BYMONTH&&n.find(".year-month").selectlist("selectByValue",r.BYMONTH)),"yearly"):"none";r.COUNT?(this.$endAfter.spinbox("value",parseInt(r.COUNT,10)),this.$endSelect.selectlist("selectByValue","after")):r.UNTIL?(8===r.UNTIL.length&&((o=r.UNTIL.split("")).splice(4,0,"-"),o.splice(7,0,"-"),a=o.join("")),o="+00:00"===(o=this.$timeZone.selectlist("selectedItem")).offset?"Z":o.offset,o=this.setUtcTime(a,e.time24HourFormat,o),this.$endDate.datepicker("setDate",o),this.$endSelect.selectlist("selectByValue","date")):this.$endSelect.selectlist("selectByValue","never"),this.endSelectChanged(),r.INTERVAL&&this.$repeatIntervalSpinbox.spinbox("value",parseInt(r.INTERVAL,10)),this.$repeatIntervalSelect.selectlist("selectByValue",h),this.repeatIntervalSelectChanged()},_parseStartDateTime:function(t){var e,i,n={};return n.time24HourFormat=t.split("+")[0].split("-")[0],-1<t.search(/\+/)?n.timeZoneOffset="+"+it.trim(t.split("+")[1]):-1<t.search(/\-/)?n.timeZoneOffset="-"+it.trim(t.split("-")[1]):n.timeZoneOffset="+00:00",n.time24HourFormatSplit=n.time24HourFormat.split(":"),i=(e=parseInt(n.time24HourFormatSplit[0],10))<12?"AM":"PM",0===e?e=12:12<e&&(e-=12),t=(t=n.time24HourFormatSplit[1]?parseInt(n.time24HourFormatSplit[1].split("+")[0].split("-")[0].split("Z")[0],10):0)<10?"0"+t:t,n.time12HourFormat=e+":"+t,n.time12HourFormatWithPeriod=e+":"+t+" "+i,n},_parseTimeZone:function(t,i){return i.timeZoneQuerySelector="",t.timeZone?("string"==typeof t.timeZone?i.timeZoneQuerySelector+='li[data-name="'+t.timeZone+'"]':it.each(t.timeZone,function(t,e){i.timeZoneQuerySelector+="li[data-"+t+'="'+e+'"]'}),i.timeZoneOffset=t.timeZone.offset):t.startDateTime?(i.timeZoneOffset="+00:00"===i.timeZoneOffset?"Z":i.timeZoneOffset,i.timeZoneQuerySelector+='li[data-offset="'+i.timeZoneOffset+'"]'):i.timeZoneOffset="Z",i.timeZoneOffset},_setTimeUI:function(t){this.$startTime.find("input").val(t),this.$startTime.combobox("selectByText",t)},_setTimeZoneUI:function(t){this.$timeZone.selectlist("selectBySelector",t)},setValue:function(t){var e,i,n={};t.startDateTime?(i=(e=t.startDateTime.split("T"))[0],(e=e[1])?(n=this._parseStartDateTime(e),this._setTimeUI(n.time12HourFormatWithPeriod)):(n.time12HourFormat="00:00",n.time24HourFormat="00:00")):(n.time12HourFormat="00:00",n.time24HourFormat="00:00",i=(e=this.$startDate.datepicker("getDate")).getFullYear()+"-"+e.getMonth()+"-"+e.getDate()),this._parseTimeZone(t,n),n.timeZoneQuerySelector&&this._setTimeZoneUI(n.timeZoneQuerySelector),t.recurrencePattern&&this._parseAndSetRecurrencePattern(t.recurrencePattern,n),n=this.setUtcTime(i,n.time24HourFormat,n.timeZoneOffset),this.$startDate.datepicker("setDate",n)},toggleState:function(t){this.$element.find(".combobox").combobox(t),this.$element.find(".datepicker").datepicker(t),this.$element.find(".selectlist").selectlist(t),this.$element.find(".spinbox").spinbox(t),this.$element.find(".radio-custom").radio(t),t="disable"===t?"addClass":"removeClass",this.$element.find(".repeat-days-of-the-week .btn-group")[t]("disabled")},value:function(t){return t?this.setValue(t):this.getValue()}},it.fn.scheduler=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=it(this),e=t.data("fu.scheduler"),i="object"==typeof n&&n;e||t.data("fu.scheduler",e=new At(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},it.fn.scheduler.defaults={},it.fn.scheduler.Constructor=At,it.fn.scheduler.noConflict=function(){return it.fn.scheduler=nt,this},it(document).on("mousedown.fu.scheduler.data-api","[data-initialize=scheduler]",function(t){t=it(t.target).closest(".scheduler");t.data("fu.scheduler")||t.scheduler(t.data())}),it(function(){it("[data-initialize=scheduler]").each(function(){var t=it(this);t.data("scheduler")||t.scheduler(t.data())})}),ot=(at=t).fn.picker,rt=function(t){t.$popup.css("top",-t.$popup.outerHeight(!0)+"px")},lt=function(t){t.$popup.css("top",t.$trigger.outerHeight(!0)+"px")},zt.prototype={constructor:zt,complete:function(t){var e=this.options[{accepted:"onAccept",cancelled:"onCancel",exited:"onExit"}[t]],i={contents:this.$body};e?(e(i),this.$element.trigger(t+".fu.picker",i)):(this.$element.trigger(t+".fu.picker",i),this.hide())},keyComplete:function(t){this.isInput&&13===t.keyCode?(this.complete("accepted"),this.$trigger.blur()):27===t.keyCode&&(this.complete("exited"),this.$trigger.blur())},destroy:function(){return this.$element.remove(),at(document).off("click.fu.picker.externalClick."+this.clickStamp),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled"),this.$trigger.attr("disabled","disabled")},enable:function(){this.$element.removeClass("disabled"),this.$trigger.removeAttr("disabled")},toggle:function(){this.$element.hasClass("showing")?this.hide():this.show()},hide:function(){this.$element.hasClass("showing")&&(this.$element.removeClass("showing"),at(document).off("click.fu.picker.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.picker"))},externalClickListener:function(t,e){!0!==e&&!this.isExternalClick(t)||this.complete("exited")},isExternalClick:function(t){var e,i,n=this.$element.get(0),s=this.options.externalClickExceptions||[],a=at(t.target);if(t.target===n||a.parents(".picker:first").get(0)===n)return!1;for(e=0,i=s.length;e<i;e++)if(a.is(s[e])||0<a.parents(s[e]).length)return!1;return!0},show:function(){var t=at(document).find(".picker.showing");if(0<t.length){if(t.data("fu.picker")&&t.data("fu.picker").options.explicit)return;t.picker("externalClickListener",{},!0)}this.$element.addClass("showing"),(t=this).$popup.css("visibility","hidden"),lt(t),Nt(t)&&(rt(t),Nt(t)&&lt(t)),t.$popup.css("visibility","visible"),this.$element.trigger("shown.fu.picker"),this.clickStamp=(new Date).getTime()+(Math.floor(100*Math.random())+1),this.options.explicit||at(document).on("click.fu.picker.externalClick."+this.clickStamp,at.proxy(this.externalClickListener,this))}},at.fn.picker=function(n){var s,a=Array.prototype.slice.call(arguments,1),t=this.each(function(){var t=at(this),e=t.data("fu.picker"),i="object"==typeof n&&n;e||t.data("fu.picker",e=new zt(this,i)),"string"==typeof n&&(s=e[n].apply(e,a))});return void 0===s?t:s},at.fn.picker.defaults={onAccept:void 0,onCancel:void 0,onExit:void 0,externalClickExceptions:[],explicit:!1},at.fn.picker.Constructor=zt,at.fn.picker.noConflict=function(){return at.fn.picker=ot,this},at(document).on("focus.fu.picker.data-api","[data-initialize=picker]",function(t){t=at(t.target).closest(".picker");t.data("fu.picker")||t.picker(t.data())}),at(function(){at("[data-initialize=picker]").each(function(){var t=at(this);t.data("fu.picker")||t.picker(t.data())})})});