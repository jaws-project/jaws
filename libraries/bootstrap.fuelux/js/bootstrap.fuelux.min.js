if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");(function($){"use strict";var a=$.fn.jquery.split(" ")[0].split(".");if(a[0]<2&&a[1]<9||1==a[0]&&9==a[1]&&a[2]<1||a[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")})(jQuery),function($){"use strict";$.fn.emulateTransitionEnd=function(a){var b=!1,c=this;return $(this).one("bsTransitionEnd",function(){b=!0}),setTimeout(function(){b||$(c).trigger($.support.transition.end)},a),this},$(function(){$.support.transition=function(){var c=document.createElement("bootstrap"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var b in a)if(void 0!==c.style[b])return{end:a[b]};return!1}(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(a){if($(a.target).is(this))return a.handleObj.handler.apply(this,arguments)}})})}(jQuery),function($){"use strict";var b='[data-dismiss="alert"]',a=function(a){$(a).on("click",b,this.close)};a.VERSION="3.4.1",a.TRANSITION_DURATION=150,a.prototype.close=function(d){var e=$(this),b=e.attr("data-target");b||(b=(b=e.attr("href"))&&b.replace(/.*(?=#[^\s]*$)/,"")),b="#"===b?[]:b;var c=$(document).find(b);function f(){c.detach().trigger("closed.bs.alert").remove()}d&&d.preventDefault(),c.length||(c=e.closest(".alert")),c.trigger(d=$.Event("close.bs.alert")),d.isDefaultPrevented()||(c.removeClass("in"),$.support.transition&&c.hasClass("fade")?c.one("bsTransitionEnd",f).emulateTransitionEnd(a.TRANSITION_DURATION):f())};var c=$.fn.alert;$.fn.alert=function(b){return this.each(function(){var c=$(this),d=c.data("bs.alert");d||c.data("bs.alert",d=new a(this)),"string"==typeof b&&d[b].call(c)})},$.fn.alert.Constructor=a,$.fn.alert.noConflict=function(){return $.fn.alert=c,this},$(document).on("click.bs.alert.data-api",b,a.prototype.close)}(jQuery),function($){"use strict";var a=function(b,c){this.$element=$(b),this.options=$.extend({},a.DEFAULTS,c),this.isLoading=!1};function b(b){return this.each(function(){var d=$(this),c=d.data("bs.button");c||d.data("bs.button",c=new a(this,"object"==typeof b&&b)),"toggle"==b?c.toggle():b&&c.setState(b)})}a.VERSION="3.4.1",a.DEFAULTS={loadingText:"loading..."},a.prototype.setState=function(b){var e="disabled",a=this.$element,c=a.is("input")?"val":"html",d=a.data();b+="Text",null==d.resetText&&a.data("resetText",a[c]()),setTimeout($.proxy(function(){a[c](null==d[b]?this.options[b]:d[b]),"loadingText"==b?(this.isLoading=!0,a.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,a.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},a.prototype.toggle=function(){var b=!0,c=this.$element.closest('[data-toggle="buttons"]');if(c.length){var a=this.$element.find("input");"radio"==a.prop("type")?(a.prop("checked")&&(b=!1),c.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==a.prop("type")&&(a.prop("checked")!==this.$element.hasClass("active")&&(b=!1),this.$element.toggleClass("active")),a.prop("checked",this.$element.hasClass("active")),b&&a.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var c=$.fn.button;$.fn.button=b,$.fn.button.Constructor=a,$.fn.button.noConflict=function(){return $.fn.button=c,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var a=$(c.target).closest(".btn");b.call(a,"toggle"),$(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),a.is("input,button")?a.trigger("focus"):a.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(a){$(a.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(a.type))})}(jQuery),function($){"use strict";var a=function(a,b){this.$element=$(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=b,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",$.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};function c(b){return this.each(function(){var d=$(this),c=d.data("bs.carousel"),e=$.extend({},a.DEFAULTS,d.data(),"object"==typeof b&&b),f="string"==typeof b?b:e.slide;c||d.data("bs.carousel",c=new a(this,e)),"number"==typeof b?c.to(b):f?c[f]():e.interval&&c.pause().cycle()})}a.VERSION="3.4.1",a.TRANSITION_DURATION=600,a.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},a.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},a.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},a.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},a.prototype.getItemForDirection=function(a,c){var b=this.getItemIndex(c);if(("prev"==a&&0===b||"next"==a&&b==this.$items.length-1)&&!this.options.wrap)return c;var d=(b+("prev"==a?-1:1))%this.$items.length;return this.$items.eq(d)},a.prototype.to=function(a){var c=this,b=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1)&&!(a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(a)}):b==a?this.pause().cycle():this.slide(a>b?"next":"prev",this.$items.eq(a))},a.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},a.prototype.next=function(){if(!this.sliding)return this.slide("next")},a.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},a.prototype.slide=function(e,j){var c=this.$element.find(".item.active"),b=j||this.getItemForDirection(e,c),f=this.interval,d="next"==e?"left":"right",l=this;if(b.hasClass("active"))return this.sliding=!1;var g=b[0],h=$.Event("slide.bs.carousel",{relatedTarget:g,direction:d});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,f&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var i=$(this.$indicators.children()[this.getItemIndex(b)]);i&&i.addClass("active")}var k=$.Event("slid.bs.carousel",{relatedTarget:g,direction:d});return $.support.transition&&this.$element.hasClass("slide")?(b.addClass(e),"object"==typeof b&&b.length&&b[0].offsetWidth,c.addClass(d),b.addClass(d),c.one("bsTransitionEnd",function(){b.removeClass([e,d].join(" ")).addClass("active"),c.removeClass(["active",d].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(k)},0)}).emulateTransitionEnd(a.TRANSITION_DURATION)):(c.removeClass("active"),b.addClass("active"),this.sliding=!1,this.$element.trigger(k)),f&&this.cycle(),this}};var d=$.fn.carousel;$.fn.carousel=c,$.fn.carousel.Constructor=a,$.fn.carousel.noConflict=function(){return $.fn.carousel=d,this};var b=function(g){var a=$(this),b=a.attr("href");b&&(b=b.replace(/.*(?=#[^\s]+$)/,""));var h=a.attr("data-target")||b,d=$(document).find(h);if(d.hasClass("carousel")){var f=$.extend({},d.data(),a.data()),e=a.attr("data-slide-to");e&&(f.interval=!1),c.call(d,f),e&&d.data("bs.carousel").to(e),g.preventDefault()}};$(document).on("click.bs.carousel.data-api","[data-slide]",b).on("click.bs.carousel.data-api","[data-slide-to]",b),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var a=$(this);c.call(a,a.data())})})}(jQuery),function($){"use strict";var a=function(b,c){this.$element=$(b),this.options=$.extend({},a.DEFAULTS,c),this.$trigger=$('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function c(a){var b,c=a.attr("data-target")||(b=a.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,"");return $(document).find(c)}function b(b){return this.each(function(){var d=$(this),c=d.data("bs.collapse"),e=$.extend({},a.DEFAULTS,d.data(),"object"==typeof b&&b);!c&&e.toggle&&/show|hide/.test(b)&&(e.toggle=!1),c||d.data("bs.collapse",c=new a(this,e)),"string"==typeof b&&c[b]()})}a.VERSION="3.4.1",a.TRANSITION_DURATION=350,a.DEFAULTS={toggle:!0},a.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},a.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass("in"))){var d,c=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(c&&c.length&&(d=c.data("bs.collapse"))&&d.transitioning)){var f=$.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){c&&c.length&&(b.call(c,"hide"),d||c.data("bs.collapse",null));var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var g=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return g.call(this);var h=$.camelCase(["scroll",e].join("-"));this.$element.one("bsTransitionEnd",$.proxy(g,this)).emulateTransitionEnd(a.TRANSITION_DURATION)[e](this.$element[0][h])}}}},a.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var c=$.Event("hide.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!$.support.transition)return d.call(this);this.$element[b](0).one("bsTransitionEnd",$.proxy(d,this)).emulateTransitionEnd(a.TRANSITION_DURATION)}}},a.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},a.prototype.getParent=function(){return $(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(d,b){var a=$(b);this.addAriaAndCollapsedClass(c(a),a)},this)).end()},a.prototype.addAriaAndCollapsedClass=function(b,c){var a=b.hasClass("in");b.attr("aria-expanded",a),c.toggleClass("collapsed",!a).attr("aria-expanded",a)};var d=$.fn.collapse;$.fn.collapse=b,$.fn.collapse.Constructor=a,$.fn.collapse.noConflict=function(){return $.fn.collapse=d,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var a=$(this);a.attr("data-target")||e.preventDefault();var d=c(a),f=d.data("bs.collapse")?"toggle":a.data();b.call(d,f)})}(jQuery),function($){"use strict";var b='[data-toggle="dropdown"]',a=function(a){$(a).on("click.bs.dropdown",this.toggle)};function d(b){var a=b.attr("data-target");a||(a=(a=b.attr("href"))&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));var c="#"!==a?$(document).find(a):null;return c&&c.length?c:b.parent()}function c(a){a&&3===a.which||($(".dropdown-backdrop").remove(),$(b).each(function(){var c=$(this),b=d(c),e={relatedTarget:this};!(!b.hasClass("open")||a&&"click"==a.type&&/input|textarea/i.test(a.target.tagName)&&$.contains(b[0],a.target))&&(b.trigger(a=$.Event("hide.bs.dropdown",e)),a.isDefaultPrevented()||(c.attr("aria-expanded","false"),b.removeClass("open").trigger($.Event("hidden.bs.dropdown",e))))}))}a.VERSION="3.4.1",a.prototype.toggle=function(e){var b=$(this);if(!b.is(".disabled, :disabled")){var a=d(b),g=a.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&$(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click",c);var f={relatedTarget:this};if(a.trigger(e=$.Event("show.bs.dropdown",f)),e.isDefaultPrevented())return;b.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger($.Event("shown.bs.dropdown",f))}return!1}},a.prototype.keydown=function(a){if(!(!/(38|40|27|32)/.test(a.which)||/input|textarea/i.test(a.target.tagName))){var f=$(this);if(a.preventDefault(),a.stopPropagation(),!f.is(".disabled, :disabled")){var g=d(f),h=g.hasClass("open");if(!h&&27!=a.which||h&&27==a.which)return 27==a.which&&g.find(b).trigger("focus"),f.trigger("click");var i=" li:not(.disabled):visible a",e=g.find(".dropdown-menu"+i);if(e.length){var c=e.index(a.target);38==a.which&&c>0&&c--,40==a.which&&c<e.length-1&&c++,~c||(c=0),e.eq(c).trigger("focus")}}}};var e=$.fn.dropdown;$.fn.dropdown=function(b){return this.each(function(){var c=$(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new a(this)),"string"==typeof b&&d[b].call(c)})},$.fn.dropdown.Constructor=a,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=e,this},$(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",b,a.prototype.toggle).on("keydown.bs.dropdown.data-api",b,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),function($){"use strict";var a=function(a,b){this.options=b,this.$body=$(document.body),this.$element=$(a),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function b(b,c){return this.each(function(){var e=$(this),d=e.data("bs.modal"),f=$.extend({},a.DEFAULTS,e.data(),"object"==typeof b&&b);d||e.data("bs.modal",d=new a(this,f)),"string"==typeof b?d[b](c):f.show&&d.show(c)})}a.VERSION="3.4.1",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},a.prototype.show=function(c){var d=this,b=$.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(b),this.isShown||b.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(a){$(a.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var b=$.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),b&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:c});b?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(a.TRANSITION_DURATION):d.$element.trigger("focus").trigger(e)}))},a.prototype.hide=function(b){b&&b.preventDefault(),b=$.Event("hide.bs.modal"),this.$element.trigger(b),!this.isShown||b.isDefaultPrevented()||(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(b){var f=this,c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=$.support.transition&&c;if(this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+c).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(a){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var e=function(){f.removeBackdrop(),b&&b()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):e()}else b&&b()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var b=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",a+b),$(this.fixedContent).each(function(e,a){var c=a.style.paddingRight,d=$(a).css("padding-right");$(a).data("padding-right",c).css("padding-right",parseFloat(d)+b+"px")}))},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),$(this.fixedContent).each(function(c,a){var b=$(a).data("padding-right");$(a).removeData("padding-right"),a.style.paddingRight=b||""})},a.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var c=$.fn.modal;$.fn.modal=b,$.fn.modal.Constructor=a,$.fn.modal.noConflict=function(){return $.fn.modal=c,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var a=$(this),c=a.attr("href"),f=a.attr("data-target")||c&&c.replace(/.*(?=#[^\s]+$)/,""),d=$(document).find(f),g=d.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(c)&&c},d.data(),a.data());a.is("a")&&e.preventDefault(),d.one("show.bs.modal",function(b){b.isDefaultPrevented()||d.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),b.call(d,g,this)})}(jQuery),function($){"use strict";var b=["sanitize","whiteList","sanitizeFn"],c=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],d=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,e=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function f(a,g){var b=a.nodeName.toLowerCase();if(-1!==$.inArray(b,g))return -1===$.inArray(b,c)||Boolean(a.nodeValue.match(d)||a.nodeValue.match(e));for(var h=$(g).filter(function(b,a){return a instanceof RegExp}),f=0,i=h.length;f<i;f++)if(b.match(h[f]))return!0;return!1}function g(a,d,e){if(0===a.length)return a;if(e&&"function"==typeof e)return e(a);if(!document.implementation||!document.implementation.createHTMLDocument)return a;var g=document.implementation.createHTMLDocument("sanitization");g.body.innerHTML=a;for(var l=$.map(d,function(b,a){return a}),j=$(g.body).find("*"),h=0,m=j.length;h<m;h++){var b=j[h],k=b.nodeName.toLowerCase();if(-1===$.inArray(k,l)){b.parentNode.removeChild(b);continue}for(var i=$.map(b.attributes,function(a){return a}),n=[].concat(d["*"]||[],d[k]||[]),c=0,o=i.length;c<o;c++)f(i[c],n)||b.removeAttribute(i[c].nodeName)}return g.body.innerHTML}var a=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};a.VERSION="3.4.1",a.TRANSITION_DURATION=150,a.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},a.prototype.init=function(d,e,f){if(this.enabled=!0,this.type=d,this.$element=$(e),this.options=this.getOptions(f),this.$viewport=this.options.viewport&&$(document).find($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var b=this.options.trigger.split(" "),c=b.length;c--;){var a=b[c];if("click"==a)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=a){var g="hover"==a?"mouseenter":"focusin",h="hover"==a?"mouseleave":"focusout";this.$element.on(g+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(h+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.getOptions=function(a){var c=this.$element.data();for(var d in c)c.hasOwnProperty(d)&& -1!==$.inArray(d,b)&&delete c[d];return(a=$.extend({},this.getDefaults(),c,a)).delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a.sanitize&&(a.template=g(a.template,a.whiteList,a.sanitizeFn)),a},a.prototype.getDelegateOptions=function(){var a={},b=this.getDefaults();return this._options&&$.each(this._options,function(c,d){b[c]!=d&&(a[c]=d)}),a},a.prototype.enter=function(b){var a=b instanceof this.constructor?b:$(b.currentTarget).data("bs."+this.type);if(a||(a=new this.constructor(b.currentTarget,this.getDelegateOptions()),$(b.currentTarget).data("bs."+this.type,a)),b instanceof $.Event&&(a.inState["focusin"==b.type?"focus":"hover"]=!0),a.tip().hasClass("in")||"in"==a.hoverState){a.hoverState="in";return}if(clearTimeout(a.timeout),a.hoverState="in",!a.options.delay||!a.options.delay.show)return a.show();a.timeout=setTimeout(function(){"in"==a.hoverState&&a.show()},a.options.delay.show)},a.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},a.prototype.leave=function(b){var a=b instanceof this.constructor?b:$(b.currentTarget).data("bs."+this.type);if(a||(a=new this.constructor(b.currentTarget,this.getDelegateOptions()),$(b.currentTarget).data("bs."+this.type,a)),b instanceof $.Event&&(a.inState["focusout"==b.type?"focus":"hover"]=!1),!a.isInStateTrue()){if(clearTimeout(a.timeout),a.hoverState="out",!a.options.delay||!a.options.delay.hide)return a.hide();a.timeout=setTimeout(function(){"out"==a.hoverState&&a.hide()},a.options.delay.hide)}},a.prototype.show=function(){var h=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(h);var m=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(h.isDefaultPrevented()||!m)return;var p=this,c=this.tip(),i=this.getUID(this.type);this.setContent(),c.attr("id",i),this.$element.attr("aria-describedby",i),this.options.animation&&c.addClass("fade");var b="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,j=/\s?auto?\s?/i,k=j.test(b);k&&(b=b.replace(j,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(b).data("bs."+this.type,this),this.options.container?c.appendTo($(document).find(this.options.container)):c.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),f=c[0].offsetWidth,g=c[0].offsetHeight;if(k){var n=b,e=this.getPosition(this.$viewport);b="bottom"==b&&d.bottom+g>e.bottom?"top":"top"==b&&d.top-g<e.top?"bottom":"right"==b&&d.right+f>e.width?"left":"left"==b&&d.left-f<e.left?"right":b,c.removeClass(n).addClass(b)}var o=this.getCalculatedOffset(b,d,f,g);this.applyPlacement(o,b);var l=function(){var a=p.hoverState;p.$element.trigger("shown.bs."+p.type),p.hoverState=null,"out"==a&&p.leave(p)};$.support.transition&&this.$tip.hasClass("fade")?c.one("bsTransitionEnd",l).emulateTransitionEnd(a.TRANSITION_DURATION):l()}},a.prototype.applyPlacement=function(b,e){var a=this.tip(),k=a[0].offsetWidth,f=a[0].offsetHeight,g=parseInt(a.css("margin-top"),10),h=parseInt(a.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,$.offset.setOffset(a[0],$.extend({using:function(b){a.css({top:Math.round(b.top),left:Math.round(b.left)})}},b),0),a.addClass("in");var j=a[0].offsetWidth,d=a[0].offsetHeight;"top"==e&&d!=f&&(b.top=b.top+f-d);var c=this.getViewportAdjustedDelta(e,b,j,d);c.left?b.left+=c.left:b.top+=c.top;var i=/top|bottom/.test(e),l=i?2*c.left-k+j:2*c.top-f+d;a.offset(b),this.replaceArrow(l,a[0][i?"offsetWidth":"offsetHeight"],i)},a.prototype.replaceArrow=function(b,c,a){this.arrow().css(a?"left":"top",50*(1-b/c)+"%").css(a?"top":"left","")},a.prototype.setContent=function(){var b=this.tip(),a=this.getTitle();this.options.html?(this.options.sanitize&&(a=g(a,this.options.whiteList,this.options.sanitizeFn)),b.find(".tooltip-inner").html(a)):b.find(".tooltip-inner").text(a),b.removeClass("fade in top bottom left right")},a.prototype.hide=function(e){var f=this,b=$(this.$tip),c=$.Event("hide.bs."+this.type);function d(){"in"!=f.hoverState&&b.detach(),f.$element&&f.$element.removeAttr("aria-describedby").trigger("hidden.bs."+f.type),e&&e()}if(this.$element.trigger(c),!c.isDefaultPrevented())return b.removeClass("in"),$.support.transition&&b.hasClass("fade")?b.one("bsTransitionEnd",d).emulateTransitionEnd(a.TRANSITION_DURATION):d(),this.hoverState=null,this},a.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},a.prototype.hasContent=function(){return this.getTitle()},a.prototype.getPosition=function(b){var c=(b=b||this.$element)[0],d="BODY"==c.tagName,a=c.getBoundingClientRect();null==a.width&&(a=$.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));var e=window.SVGElement&&c instanceof window.SVGElement,f=d?{top:0,left:0}:e?null:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},a,g,h,f)},a.prototype.getCalculatedOffset=function(b,a,c,d){return"bottom"==b?{top:a.top+a.height,left:a.left+a.width/2-c/2}:"top"==b?{top:a.top-d,left:a.left+a.width/2-c/2}:"left"==b?{top:a.top+a.height/2-d/2,left:a.left-c}:{top:a.top+a.height/2-d/2,left:a.left+a.width}},a.prototype.getViewportAdjustedDelta=function(i,c,j,k){var b={top:0,left:0};if(!this.$viewport)return b;var d=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(i)){var e=c.top-d-a.scroll,f=c.top+d-a.scroll+k;e<a.top?b.top=a.top-e:f>a.top+a.height&&(b.top=a.top+a.height-f)}else{var g=c.left-d,h=c.left+d+j;g<a.left?b.left=a.left-g:h>a.right&&(b.left=a.left+a.width-h)}return b},a.prototype.getTitle=function(){var b=this.$element,a=this.options;return b.attr("data-original-title")||("function"==typeof a.title?a.title.call(b[0]):a.title)},a.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a))return a},a.prototype.tip=function(){if(!this.$tip&&(this.$tip=$(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},a.prototype.enable=function(){this.enabled=!0},a.prototype.disable=function(){this.enabled=!1},a.prototype.toggleEnabled=function(){this.enabled=!this.enabled},a.prototype.toggle=function(b){var a=this;!b||(a=$(b.currentTarget).data("bs."+this.type))||(a=new this.constructor(b.currentTarget,this.getDelegateOptions()),$(b.currentTarget).data("bs."+this.type,a)),b?(a.inState.click=!a.inState.click,a.isInStateTrue()?a.enter(a):a.leave(a)):a.tip().hasClass("in")?a.leave(a):a.enter(a)},a.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})},a.prototype.sanitizeHtml=function(a){return g(a,this.options.whiteList,this.options.sanitizeFn)};var h=$.fn.tooltip;$.fn.tooltip=function(b){return this.each(function(){var d=$(this),c=d.data("bs.tooltip");!c&&/destroy|hide/.test(b)||(c||d.data("bs.tooltip",c=new a(this,"object"==typeof b&&b)),"string"==typeof b&&c[b]())})},$.fn.tooltip.Constructor=a,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=h,this}}(jQuery),function($){"use strict";var a=function(a,b){this.init("popover",a,b)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.4.1",a.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),a.prototype.constructor=a,a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var a=this.tip(),c=this.getTitle(),b=this.getContent();if(this.options.html){var d=typeof b;this.options.sanitize&&(c=this.sanitizeHtml(c),"string"===d&&(b=this.sanitizeHtml(b))),a.find(".popover-title").html(c),a.find(".popover-content").children().detach().end()["string"===d?"html":"append"](b)}else a.find(".popover-title").text(c),a.find(".popover-content").children().detach().end().text(b);a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var b=this.$element,a=this.options;return b.attr("data-content")||("function"==typeof a.content?a.content.call(b[0]):a.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var b=$.fn.popover;$.fn.popover=function(b){return this.each(function(){var d=$(this),c=d.data("bs.popover");!c&&/destroy|hide/.test(b)||(c||d.data("bs.popover",c=new a(this,"object"==typeof b&&b)),"string"==typeof b&&c[b]())})},$.fn.popover.Constructor=a,$.fn.popover.noConflict=function(){return $.fn.popover=b,this}}(jQuery),function($){"use strict";function a(b,c){this.$body=$(document.body),this.$scrollElement=$(b).is(document.body)?$(window):$(b),this.options=$.extend({},a.DEFAULTS,c),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",$.proxy(this.process,this)),this.refresh(),this.process()}function b(b){return this.each(function(){var d=$(this),c=d.data("bs.scrollspy");c||d.data("bs.scrollspy",c=new a(this,"object"==typeof b&&b)),"string"==typeof b&&c[b]()})}a.VERSION="3.4.1",a.DEFAULTS={offset:10},a.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},a.prototype.refresh=function(){var c=this,a="offset",b=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),$.isWindow(this.$scrollElement[0])||(a="position",b=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=$(this),d=e.data("target")||e.attr("href"),c=/^#./.test(d)&&$(d);return c&&c.length&&c.is(":visible")&&[[c[a]().top+b,d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},a.prototype.process=function(){var a,c=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),g=this.options.offset+f-this.$scrollElement.height(),b=this.offsets,d=this.targets,e=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),c>=g)return e!=(a=d[d.length-1])&&this.activate(a);if(e&&c<b[0])return this.activeTarget=null,this.clear();for(a=b.length;a--;)e!=d[a]&&c>=b[a]&&(void 0===b[a+1]||c<b[a+1])&&this.activate(d[a])},a.prototype.activate=function(b){this.activeTarget=b,this.clear();var a=$(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")},a.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var c=$.fn.scrollspy;$.fn.scrollspy=b,$.fn.scrollspy.Constructor=a,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=c,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var a=$(this);b.call(a,a.data())})})}(jQuery),function($){"use strict";var a=function(a){this.element=$(a)};function c(b){return this.each(function(){var d=$(this),c=d.data("bs.tab");c||d.data("bs.tab",c=new a(this)),"string"==typeof b&&c[b]()})}a.VERSION="3.4.1",a.TRANSITION_DURATION=150,a.prototype.show=function(){var a=this.element,c=a.closest("ul:not(.dropdown-menu)"),b=a.data("target");if(b||(b=(b=a.attr("href"))&&b.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var d=c.find(".active:last a"),e=$.Event("hide.bs.tab",{relatedTarget:a[0]}),f=$.Event("show.bs.tab",{relatedTarget:d[0]});if(d.trigger(e),a.trigger(f),!(f.isDefaultPrevented()||e.isDefaultPrevented())){var g=$(document).find(b);this.activate(a.closest("li"),c),this.activate(g,g.parent(),function(){d.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:d[0]})})}}},a.prototype.activate=function(g,c,e){var b=c.find("> .active"),f=e&&$.support.transition&&(b.length&&b.hasClass("fade")||!!c.find("> .fade").length);function d(){b.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),g.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),f?(g[0].offsetWidth,g.addClass("in")):g.removeClass("fade"),g.parent(".dropdown-menu").length&&g.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}b.length&&f?b.one("bsTransitionEnd",d).emulateTransitionEnd(a.TRANSITION_DURATION):d(),b.removeClass("in")};var d=$.fn.tab;$.fn.tab=c,$.fn.tab.Constructor=a,$.fn.tab.noConflict=function(){return $.fn.tab=d,this};var b=function(a){a.preventDefault(),c.call($(this),"show")};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',b).on("click.bs.tab.data-api",'[data-toggle="pill"]',b)}(jQuery),function($){"use strict";var a=function(b,c){this.options=$.extend({},a.DEFAULTS,c);var d=this.options.target===a.DEFAULTS.target?$(this.options.target):$(document).find(this.options.target);this.$target=d.on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function b(b){return this.each(function(){var d=$(this),c=d.data("bs.affix");c||d.data("bs.affix",c=new a(this,"object"==typeof b&&b)),"string"==typeof b&&c[b]()})}a.VERSION="3.4.1",a.RESET="affix affix-top affix-bottom",a.DEFAULTS={offset:0,target:window},a.prototype.getState=function(d,h,a,c){var b=this.$target.scrollTop(),e=this.$element.offset(),f=this.$target.height();if(null!=a&&"top"==this.affixed)return b<a&&"top";if("bottom"==this.affixed)return null!=a?!(b+this.unpin<=e.top)&&"bottom":!(b+f<=d-c)&&"bottom";var g=null==this.affixed,i=g?b:e.top,j=g?f:h;return null!=a&&b<=a?"top":null!=c&&i+j>=d-c&&"bottom"},a.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(a.RESET).addClass("affix");var b=this.$target.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-b},a.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},a.prototype.checkPosition=function(){if(this.$element.is(":visible")){var g=this.$element.height(),b=this.options.offset,e=b.top,d=b.bottom,h=Math.max($(document).height(),$(document.body).height());"object"!=typeof b&&(d=e=b),"function"==typeof e&&(e=b.top(this.$element)),"function"==typeof d&&(d=b.bottom(this.$element));var c=this.getState(h,g,e,d);if(this.affixed!=c){null!=this.unpin&&this.$element.css("top","");var f="affix"+(c?"-"+c:""),i=$.Event(f+".bs.affix");if(this.$element.trigger(i),i.isDefaultPrevented())return;this.affixed=c,this.unpin="bottom"==c?this.getPinnedOffset():null,this.$element.removeClass(a.RESET).addClass(f).trigger(f.replace("affix","affixed")+".bs.affix")}"bottom"==c&&this.$element.offset({top:h-g-d})}};var c=$.fn.affix;$.fn.affix=b,$.fn.affix.Constructor=a,$.fn.affix.noConflict=function(){return $.fn.affix=c,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var c=$(this),a=c.data();a.offset=a.offset||{},null!=a.offsetBottom&&(a.offset.bottom=a.offsetBottom),null!=a.offsetTop&&(a.offset.top=a.offsetTop),b.call(c,a)})})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery","bootstrap"],a):a(jQuery)}(function(a){var $,H,I,f,$,J,g,$,K,L,M,N,O,P,y,h,$,Q,s,$,R,S,l,T,U,$,V,W,i,$,X,t,$,Y,j,$,Z,m,_,aa,$,c,k,z,A,B,C,D,ab,$,ac,n,$,ad,o,$,ae,b,u,E,F,af,ag,ah,ai,aj,G,ak,d,$,al,e,am,an,ao,ap,aq,ar,as,$,at,au,av,aw,ax,ay,az,aA,aB,aC,$,aD,p,aE,v,w,x,q,aF,$,aG,r,aH,aI,aJ,aK;if(void 0===a)throw new Error("Fuel UX's JavaScript requires jQuery");if(void 0===a.fn.dropdown|| void 0===a.fn.collapse)throw new Error("Fuel UX's JavaScript requires Bootstrap");H=($=a).fn.checkbox,I=function(a){window&&window.console&&window.console.error&&window.console.error(a)},(f=function(a,c){this.options=$.extend({},$.fn.checkbox.defaults,c);var b=$(a);if("label"!==a.tagName.toLowerCase()){I("Checkbox must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/checkbox.html for example of proper markup. Call `.checkbox()` on the `<label>` not the `<input>`");return}this.$label=b,this.$chk=this.$label.find('input[type="checkbox"]'),this.$container=b.parent(".checkbox"),!this.options.ignoreVisibilityCheck&&this.$chk.css("visibility").match(/hidden|collapse/)&&I("For accessibility reasons, in order for tab and space to function on checkbox, checkbox `<input />`'s `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details.");var d=this.$chk.attr("data-toggle");this.$toggleContainer=$(d),this.$chk.on("change",$.proxy(this.itemchecked,this)),this.setInitialState()}).prototype={constructor:f,setInitialState:function(){var a=this.$chk,b=a.prop("checked"),c=a.prop("disabled");this.setCheckedState(a,b),this.setDisabledState(a,c)},setCheckedState:function(e,b){var c=e,a=this.$label,d=this.$toggleContainer;b?(c.prop("checked",!0),a.addClass("checked"),d.removeClass("hide hidden"),a.trigger("checked.fu.checkbox")):(c.prop("checked",!1),a.removeClass("checked"),d.addClass("hidden"),a.trigger("unchecked.fu.checkbox")),a.trigger("changed.fu.checkbox",b)},setDisabledState:function(c,d){var b=$(c),a=this.$label;return d?(b.prop("disabled",!0),a.addClass("disabled"),a.trigger("disabled.fu.checkbox")):(b.prop("disabled",!1),a.removeClass("disabled"),a.trigger("enabled.fu.checkbox")),b},itemchecked:function(b){var a=$(b.target),c=a.prop("checked");this.setCheckedState(a,c)},toggle:function(){this.isChecked()?this.uncheck():this.check()},check:function(){this.setCheckedState(this.$chk,!0)},uncheck:function(){this.setCheckedState(this.$chk,!1)},isChecked:function(){return this.$chk.prop("checked")},enable:function(){this.setDisabledState(this.$chk,!1)},disable:function(){this.setDisabledState(this.$chk,!0)},destroy:function(){return this.$label.remove(),this.$label[0].outerHTML}},f.prototype.getValue=f.prototype.isChecked,$.fn.checkbox=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.checkbox");b||e.data("fu.checkbox",b=new f(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.checkbox.defaults={ignoreVisibilityCheck:!1},$.fn.checkbox.Constructor=f,$.fn.checkbox.noConflict=function(){return $.fn.checkbox=H,this},$(document).on("mouseover.fu.checkbox.data-api","[data-initialize=checkbox]",function(b){var a=$(b.target);a.data("fu.checkbox")||a.checkbox(a.data())}),$(function(){$("[data-initialize=checkbox]").each(function(){var a=$(this);a.data("fu.checkbox")||a.checkbox(a.data())})}),J=($=a).fn.combobox,(g=function(a,b){this.$element=$(a),this.options=$.extend({},$.fn.combobox.defaults,b),this.$dropMenu=this.$element.find(".dropdown-menu"),this.$input=this.$element.find("input"),this.$button=this.$element.find(".btn"),this.$inputGroupBtn=this.$element.find(".input-group-btn"),this.$element.on("click.fu.combobox","a",$.proxy(this.itemclicked,this)),this.$element.on("change.fu.combobox","input",$.proxy(this.inputchanged,this)),this.$element.on("hide.bs.dropdown",$.proxy(this.menuHide,this)),this.$element.on("shown.bs.dropdown",$.proxy(this.menuShown,this)),this.$input.on("keyup.fu.combobox",$.proxy(this.keypress,this)),this.$input.on("click.fu.combobox",$.proxy(this.inputclick,this)),this.setDefaultSelection(),0===this.$dropMenu.children("li").length&&this.$button.addClass("disabled"),this.options.filterOnKeypress&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this)}).prototype={constructor:g,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){$(this).attr("value",$(this).val())}),this.$element[0].outerHTML},doSelect:function(a){void 0!==a[0]?(this.$element.find("li.selected:first").removeClass("selected"),this.$selectedItem=a,this.$selectedItem.addClass("selected"),this.$input.val(this.$selectedItem.text().trim())):(this.$selectedItem=null,this.$element.find("li.selected:first").removeClass("selected"))},clearSelection:function(){this.$selectedItem=null,this.$input.val(""),this.$dropMenu.find("li").removeClass("selected")},menuHide:function(a){this.options.showOptionsOnKeypress&&this.$input.is(":focus")&&a.preventDefault()},menuShown:function(){this.options.autoResizeMenu&&(this.$element.trigger(e=$.Event("shown.fu.combobox",this),this.options),this.resizeMenu())},resizeMenu:function(){let a;a="input"==this.options.autoResizeTo?this.$button.outerWidth()+this.$input.outerWidth():this.$element.outerWidth(),this.$dropMenu.outerWidth(a)},selectedItem:function(){var b=this.$selectedItem,a={};if(b){var c=this.$selectedItem.text().trim();a=$.extend({text:c},this.$selectedItem.data())}else a={text:this.$input.val().trim(),notFound:!0};return a},selectByText:function(b){var a=$([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||$(this).text()||"").trim().toLowerCase()===(b||"").trim().toLowerCase())return a=$(this),!1}),this.doSelect(a)},selectByValue:function(a){this.selectBySelector('li[data-value="'+a+'"]')},selectByIndex:function(a){this.selectBySelector("li:eq("+a+")")},selectBySelector:function(a){var b=this.$element.find(a);this.doSelect(b)},setDefaultSelection:function(){var b="li[data-selected=true]:first",a=this.$element.find(b);a.length>0&&(this.selectBySelector(b),a.removeData("selected"),a.removeAttr("data-selected"))},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled",!0),this.$button.addClass("disabled")},itemclicked:function(a){this.$selectedItem=$(a.target).parent(),this.$input.val(this.$selectedItem.text().trim()).trigger("change",{synthetic:!0});var b=this.selectedItem();this.$element.trigger("changed.fu.combobox",b),a.preventDefault(),this.$element.find(".dropdown-toggle").focus()},inputclick:function(a){this.options.showOptionsOnKeypress&&!this.$inputGroupBtn.hasClass("open")&&(this.$button.dropdown("toggle"),this.$input.focus())},keypress:function(a){var d=38===a.which||40===a.which||37===a.which||39===a.which;if(this.options.showOptionsOnKeypress&&!this.$inputGroupBtn.hasClass("open")&&(this.$button.dropdown("toggle"),this.$input.focus()),13===a.which){a.preventDefault();var c=this.$dropMenu.find("li.selected").text().trim();c.length>0?this.selectByText(c):this.selectByText(this.$input.val()),this.$inputGroupBtn.removeClass("open")}else if(27===a.which)a.preventDefault(),this.clearSelection(),this.$inputGroupBtn.removeClass("open");else if(this.options.showOptionsOnKeypress&&(40===a.which||38===a.which)){a.preventDefault();var b=this.$dropMenu.find("li.selected");b.length>0&&(b=40===a.which?b.next(":not(.hidden)"):b.prev(":not(.hidden)")),0===b.length&&(b=40===a.which?this.$dropMenu.find("li:not(.hidden):first"):this.$dropMenu.find("li:not(.hidden):last")),this.doSelect(b)}this.options.filterOnKeypress&&!d&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this),this.previousKeyPress=a.which},inputchanged:function(d,c){var a=$(d.target).val();if(c&&c.synthetic){this.selectByText(a);return}this.selectByText(a);var b=this.selectedItem();0===b.text.length&&(b={text:a}),this.$element.trigger("changed.fu.combobox",b)}},g.prototype.getValue=g.prototype.selectedItem,$.fn.combobox=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.combobox");b||e.data("fu.combobox",b=new g(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.combobox.defaults={autoResizeMenu:!0,autoResizeTo:"group",filterOnKeypress:!1,showOptionsOnKeypress:!1,noMatchesMessage:"No Matches",filter:function(b,d,a){var c=0;a.$dropMenu.find(".empty-indicator").remove(),b.each(function(e){var a=$(this),b=$(this).text().trim();a.removeClass(),b===d?(a.addClass("text-success"),c++):b.toLowerCase().indexOf(d.toLowerCase())>=0?(a.addClass("text-info"),c++):a.addClass("hidden")}),0===c&&a.$dropMenu.append('<li class="empty-indicator text-muted"><em>'+a.options.noMatchesMessage+"</em></li>")}},$.fn.combobox.Constructor=g,$.fn.combobox.noConflict=function(){return $.fn.combobox=J,this},$(document).on("mousedown.fu.combobox.data-api","[data-initialize=combobox]",function(b){var a=$(b.target).closest(".combobox");a.data("fu.combobox")||a.combobox(a.data())}),$(function(){$("[data-initialize=combobox]").each(function(){var a=$(this);a.data("fu.combobox")||a.combobox(a.data())})}),function($){function a(a){this.jalaliEpoch=1948320.5,this.gregorianEpoch=1721425.5;var e=[31,31,31,31,31,31,30,30,30,30,30,29];this.leap_persian=function(a){return((a-(a>0?474:473))%2820+474+38)*682%2816<682},this.leap_gregorian=function(a){return a%4==0&&(a%100!=0||a%400==0)},this.persian_to_jd=function(b,a,d){var c=epyear=exyear=0;return b+=exyear=Math.floor((a-1)/12),d+((a-=12*exyear)<=7?(a-1)*31:(a-1)*30+6)+Math.floor((682*(epyear=474+(c=b-(b>=0?474:473))%2820)-110)/2816)+(epyear-1)*365+1029983*Math.floor(c/2820)+(this.jalaliEpoch-1)},this.jd_to_persian=function(b){var a=month=day=wday=depoch=cycle=cyear=ycycle=aux1=aux2=yday=0;return b=Math.floor(b)+.5,wday=Math.floor(b+1.5+1)%7,depoch=b-this.persian_to_jd(475,1,1),cycle=Math.floor(depoch/1029983),cyear=depoch%1029983,1029982==cyear?ycycle=2820:(aux1=Math.floor(cyear/366),aux2=cyear%366,ycycle=Math.floor((2134*aux1+2816*aux2+2815)/1028522)+aux1+1),a=ycycle+2820*cycle+474,a<=0&&a--,yday=b-this.persian_to_jd(a,1,1)+1,month=yday<=186?Math.ceil(yday/31):Math.ceil((yday-6)/30),day=b-this.persian_to_jd(a,month,1)+1,{year:a,month:month,day:day,weekDay:wday,monthDays:e[month-1]+(12==month?Number(this.leap_persian(a)):0),yearDay:yday}},this.gregorian_to_jd=function(a,b,c){return this.gregorianEpoch-1+365*(a-1)+Math.floor((a-1)/4)+ -Math.floor((a-1)/100)+Math.floor((a-1)/400)+Math.floor((367*b-362)/12+(b<=2?0:this.leap_gregorian(a)?-1:-2)+c)};var c=month=day=wday=days=hour=minute=second=0;switch($.type(a)){case"string":a=a.split(/\/|\-|\:/),a[1]--;case"array":if(a.length){c=parseInt(a[0]),month=parseInt(Number(a[1])+1),day=parseInt(a[2]),hour=parseInt(a[3])||0,minute=parseInt(a[4])||0,second=parseInt(a[5])||0,days=this.persian_to_jd(c,month,day);break}a=null;case"number":if(isNaN(a))return new Date(NaN);var b=new Date;null!=a&&b.setTime(1e3*a),c=parseInt(b.getFullYear()),month=parseInt(Number(b.getMonth())+1),day=parseInt(b.getDate()),hour=parseInt(b.getHours()),minute=parseInt(b.getMinutes()),second=parseInt(b.getSeconds()),days=this.gregorian_to_jd(c,month,day);break;default:return new Date(NaN)}var d=this.jd_to_persian(days);this.jYear=d.year,this.jMonth=d.month,this.jDay=d.day,this.jWeekDay=d.weekDay,this.jHour=hour,this.jMinute=minute,this.jSecond=second,this.isLeapYear=this.leap_persian(this.jYear),this.getFullYear=function(){return this.jYear},this.getMonth=function(){return this.jMonth-1},this.getDate=function(){return this.jDay},this.getDay=function(){return this.jWeekDay},this.getMonthDays=function(a){return this.isLeapYear&&12==a?30:e[a-1]},this.getHours=function(){return this.jHour},this.getMinutes=function(){return this.jMinute},this.getSeconds=function(){return this.jSecond},this.format=function(b){var a=0,c="";for(b=b||"YYYY-MM-DD";a<b.length;){switch(b.charAt(a)){case"H":"HH"==b.substr(a,2)&&a++,c+=this.jHour+1;break;case"m":"mm"==b.substr(a,2)&&a++,c+=this.jMinute+1;break;case"s":"ss"==b.substr(a,2)&&a++,c+=this.jSecond+1;break;case"D":"DD"==b.substr(a,2)&&a++,c+=this.jDay;break;case"M":"MM"==b.substr(a,2)&&a++,c+=this.jMonth;break;case"Y":"YYYY"==b.substr(a,4)?(a+=3,c+=this.jYear):"YYY"==b.substr(a,3)?(a+=2,c+=this.jYear):("YY"==b.substr(a,2)&&a++,c+=this.jYear);break;default:c+=b.charAt(a)}a++}return c},this.toString=function(){return this.jYear+"/"+this.jMonth+"/"+this.jDay}}function b(a){this.gdate;var b=[31,28,31,30,31,30,31,31,30,31,30,31];switch($.type(a)){case"number":if(isNaN(a))return new Date(NaN);this.gdate=new Date,this.gdate.setTime(1e3*a);break;case"string":a=a.split(/\/|\-|\:/),a[1]--;case"array":a.length?this.gdate=new Date(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]),parseInt(a[3])||0,parseInt(a[4])||0,parseInt(a[5])||0):this.gdate=new Date;break;default:return new Date(NaN)}this.gYear=parseInt(this.gdate.getFullYear()),this.gMonth=parseInt(this.gdate.getMonth()),this.gDay=parseInt(this.gdate.getDate()),this.gWeekDay=parseInt(this.gdate.getDay()),this.gHour=parseInt(this.gdate.getHours()),this.gMinute=parseInt(this.gdate.getMinutes()),this.gSecond=parseInt(this.gdate.getSeconds()),this.isLeapYear=this.gYear%4==0&&(this.gYear%100!=0||this.gYear%400==0),this.getFullYear=function(){return this.gYear},this.getMonth=function(){return this.gMonth},this.getDate=function(){return this.gDay},this.getDay=function(){return this.gWeekDay},this.getHours=function(){return this.gHour},this.getMinutes=function(){return this.gMinute},this.getSeconds=function(){return this.gSecond},this.getMonthDays=function(a){return this.isLeapYear&&2==a?29:b[a-1]},this.format=function(b){var a=0,c="";for(b=b||"YYYY-MM-DD";a<b.length;){switch(b.charAt(a)){case"H":"HH"==b.substr(a,2)&&a++,c+=this.gHour+1;break;case"m":"mm"==b.substr(a,2)&&a++,c+=this.gMinute+1;break;case"s":"ss"==b.substr(a,2)&&a++,c+=this.gSecond+1;break;case"D":"DD"==b.substr(a,2)&&a++,c+=this.gDay;break;case"M":"MM"==b.substr(a,2)&&a++,c+=this.gMonth+1;break;case"Y":"YYYY"==b.substr(a,4)?(a+=3,c+=this.gYear):"YYY"==b.substr(a,3)?(a+=2,c+=this.gYear):("YY"==b.substr(a,2)&&a++,c+=this.gYear);break;default:c+=b.charAt(a)}a++}return c}}$.dateCalendar=function(d,c){switch(d){case"jalali":case"Jalali":return new a(c);default:return new b(c)}}}(a),K="Invalid Date",L="moment.js is not available so you cannot use this function",M=[],N=!1,O=($=a).fn.datepicker,P=!1,y=function(){var a,b;for(a=0,P=!0,b=M.length;a<b;a++)M[a].init.call(M[a].scope);M=[]},"function"==typeof define&&define.amd?require(["moment"],function(a){N=a,y()},function(a){"moment"===(a.requireModules&&a.requireModules[0])&&y()}):y(),(h=function(b,c){this.$element=$(b),this.options=$.extend(!0,{},$.fn.datepicker.defaults,c),this.$calendar=this.$element.find(".datepicker-calendar"),this.$days=this.$calendar.find(".datepicker-calendar-days"),this.$header=this.$calendar.find(".datepicker-calendar-header"),this.$headerTitle=this.$header.find(".title"),this.$input=this.$element.find("input"),this.$inputGroupBtn=this.$element.find(".input-group-btn"),this.$wheels=this.$element.find(".datepicker-wheels"),this.$wheelsMonth=this.$element.find(".datepicker-wheels-month"),this.$wheelsYear=this.$element.find(".datepicker-wheels-year"),this.artificialScrolling=!1,this.options.date=this.dateCalendar(NaN),this.formatDate=this.options.formatDate||this.formatDate,this.inputValue=null,this.moment=!1,this.momentFormat=null,this.parseDate=this.options.parseDate||this.parseDate,this.preventBlurHide=!1,this.restricted=this.options.restricted||[],this.restrictedParsed=[],this.restrictedText=this.options.restrictedText,this.sameYearOnly=this.options.sameYearOnly,this.selectedDate=null,this.yearRestriction=null,this.$calendar.find(".datepicker-today").on("click.fu.datepicker",$.proxy(this.todayClicked,this)),this.$days.on("click.fu.datepicker","tr td button",$.proxy(this.dateClicked,this)),this.$header.find(".next").on("click.fu.datepicker",$.proxy(this.next,this)),this.$header.find(".prev").on("click.fu.datepicker",$.proxy(this.prev,this)),this.$headerTitle.on("click.fu.datepicker",$.proxy(this.titleClicked,this)),this.$input.on("change.fu.datepicker",$.proxy(this.inputChanged,this)),this.$input.on("mousedown.fu.datepicker",$.proxy(this.showDropdown,this)),this.$inputGroupBtn.on("hidden.bs.dropdown",$.proxy(this.hide,this)),this.$inputGroupBtn.on("shown.bs.dropdown",$.proxy(this.show,this)),this.$wheels.find(".datepicker-wheels-back").on("click.fu.datepicker",$.proxy(this.backClicked,this)),this.$wheels.find(".datepicker-wheels-select").on("click.fu.datepicker",$.proxy(this.selectClicked,this)),this.$wheelsMonth.on("click.fu.datepicker","ul button",$.proxy(this.monthClicked,this)),this.$wheelsYear.on("click.fu.datepicker","ul button",$.proxy(this.yearClicked,this)),this.$wheelsYear.find("ul").on("scroll.fu.datepicker",$.proxy(this.onYearScroll,this));var a=function(){this.checkForMomentJS()&&(N=N||window.moment,this.moment=!0,this.momentFormat=this.options.momentConfig.format,this.setCulture(this.options.momentConfig.culture),N.locale=N.locale||N.lang),this.setRestrictedDates(this.restricted),this.setDate(this.options.date)||this.setDate(this.$input.val())||(this.$input.val(""),this.inputValue=this.$input.val()),this.sameYearOnly&&(this.yearRestriction=this.selectedDate?this.selectedDate.getFullYear():this.dateCalendar().getFullYear())};P?a.call(this):M.push({init:a,scope:this})}).prototype={constructor:h,dateCalendar:function(a){return(a=1==arguments.length?a:Array.from(arguments),"date"===$.type(a))?a:$.dateCalendar(this.options.calendar,a)},backClicked:function(){this.changeView("calendar")},changeView:function(b,a){"wheels"===b?(this.$calendar.hide().attr("aria-hidden","true"),this.$wheels.show().removeAttr("aria-hidden",""),a&&this.renderWheel(a)):(this.$wheels.hide().attr("aria-hidden","true"),this.$calendar.show().removeAttr("aria-hidden",""),a&&this.renderMonth(a))},checkForMomentJS:function(){return!!(($.isFunction(window.moment)|| void 0!==N&&$.isFunction(N))&&$.isPlainObject(this.options.momentConfig))&&"string"==typeof this.options.momentConfig.culture&&"string"==typeof this.options.momentConfig.format},dateClicked:function(c){var b,a=$(c.currentTarget).parents("td:first");a.hasClass("restricted")||(this.$days.find("td.selected").removeClass("selected"),a.addClass("selected"),b=this.dateCalendar(a.attr("data-year"),a.attr("data-month"),a.attr("data-date")),this.selectedDate=b,this.$input.val(this.formatDate(b)),this.inputValue=this.$input.val(),this.hide(),this.$input.focus(),this.$element.trigger("dateClicked.fu.datepicker",b))},destroy:function(){return this.$element.remove(),this.$days.find("tbody").empty(),this.$wheelsYear.find("ul").empty(),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled"),this.$element.find("input, button").attr("disabled","disabled"),this.$inputGroupBtn.removeClass("open")},enable:function(){this.$element.removeClass("disabled"),this.$element.find("input, button").removeAttr("disabled")},formatDate:function(a){var b=function(b){var a="0"+b;return a.substr(a.length-2)};return this.moment?N(a).format(this.momentFormat):a.getFullYear()+"/"+b(a.getMonth()+1)+"/"+b(a.getDate())},getCulture:function(){if(this.moment)return N.locale();throw L},getDate:function(){return this.selectedDate?this.selectedDate:this.dateCalendar(NaN)},getFormat:function(){if(this.moment)return this.momentFormat;throw L},getFormattedDate:function(){return this.selectedDate?this.formatDate(this.selectedDate):K},getRestrictedDates:function(){return this.restricted},inputChanged:function(){var a,b=this.$input.val();b!==this.inputValue&&(null===(a=this.setDate(b))?this.$element.trigger("inputParsingFailed.fu.datepicker",b):!1===a?this.$element.trigger("inputRestrictedDate.fu.datepicker",a):this.$element.trigger("changed.fu.datepicker",a))},show:function(){var a=this.selectedDate?this.selectedDate:this.dateCalendar();this.changeView("calendar",a),this.$inputGroupBtn.addClass("open"),this.$element.trigger("shown.fu.datepicker")},showDropdown:function(a){this.$input.is(":focus")||this.$inputGroupBtn.hasClass("open")||this.show()},hide:function(){this.$inputGroupBtn.removeClass("open"),this.$element.trigger("hidden.fu.datepicker")},hideDropdown:function(){this.hide()},isInvalidDate:function(b){var a=b.toString();return a===K||"NaN"===a},isRestricted:function(g,e,a){var d,b,h,c,f=this.restrictedParsed;if(this.sameYearOnly&&null!==this.yearRestriction&&a!==this.yearRestriction)return!0;for(d=0,h=f.length;d<h;d++)if(b=f[d].from,c=f[d].to,(a>b.year||a===b.year&&e>b.month||a===b.year&&e===b.month&&g>=b.date)&&(a<c.year||a===c.year&&e<c.month||a===c.year&&e===c.month&&g<=c.date))return!0;return!1},monthClicked:function(a){this.$wheelsMonth.find(".selected").removeClass("selected"),$(a.currentTarget).parent().addClass("selected")},next:function(){var a=this.$headerTitle.attr("data-month"),b=this.$headerTitle.attr("data-year");if(++a>11){if(this.sameYearOnly)return;a=0,b++}this.renderMonth(this.dateCalendar(b,a,1))},onYearScroll:function(f){if(!this.artificialScrolling){var b,c,a=$(f.currentTarget),g="border-box"===a.css("box-sizing")?a.outerHeight():a.height(),d=a.get(0).scrollHeight,e=a.scrollTop();if(e/d*100<5){for(b=(c=parseInt(a.find("li:first").attr("data-year"),10))-1;b>c-11;b--)a.prepend('<li data-year="'+b+'"><button type="button">'+b+"</button></li>");this.artificialScrolling=!0,a.scrollTop(a.get(0).scrollHeight-d+e),this.artificialScrolling=!1}else if(g/(d-e)*100>90)for(b=(c=parseInt(a.find("li:last").attr("data-year"),10))+1;b<c+11;b++)a.append('<li data-year="'+b+'"><button type="button">'+b+"</button></li>")}},parseDate:function(a){var c,d,e,f,g,b,h=this,i=this.dateCalendar(NaN);if(a){if(this.moment)return(e=function(b){var a=N(b,h.momentFormat);return!0===a.isValid()?a.toDate():i},d=function(b){var a=N(this.dateCalendar(b));return!0===a.isValid()?a.toDate():i},f=function(b,c,d){var a=c(b);return h.isInvalidDate(a)&&(a=d(b),h.isInvalidDate(a))?i:a},"string"==typeof a)?f(a,e,d):f(a,d,e);if("string"==typeof a){if(a=a.split("T")[0],b=/^\s*(\d{4})[\-|\/](\d\d)[\-|\/](\d\d)\s*$/.exec(a))return g=parseInt(b[2],10),this.dateCalendar(b[1],g-1,b[3])}else if(c=this.dateCalendar(a),!this.isInvalidDate(c))return c}return this.dateCalendar(NaN)},prev:function(){var a=this.$headerTitle.attr("data-month"),b=this.$headerTitle.attr("data-year");if(--a<0){if(this.sameYearOnly)return;a=11,b--}this.renderMonth(this.dateCalendar(b,a,1))},renderMonth:function(e){e=e||this.dateCalendar();var b,d,f,h,i,l,c,j,m,a,n,o=this.dateCalendar(e.getFullYear(),e.getMonth(),1).getDay(),t=this.dateCalendar(e.getFullYear(),e.getMonth()+1,0).getDate(),u=this.dateCalendar(e.getFullYear(),e.getMonth(),0).getDate(),v=this.$headerTitle.find(".month"),p=e.getMonth(),q=this.dateCalendar(),w=q.getDate(),r=q.getMonth(),k=q.getFullYear(),g=this.selectedDate,x=this.$days.find("tbody"),s=e.getFullYear();for(g&&(g={date:g.getDate(),month:g.getMonth(),year:g.getFullYear()}),v.find(".current").removeClass("current"),v.find('span[data-month="'+p+'"]').addClass("current"),this.$headerTitle.find(".year").text(s),this.$headerTitle.attr({"data-month":p,"data-year":s}),x.empty(),0!==o?(b=u-o+1,c=-1):(b=1,c=0),l=t<=35-o?5:6,h=0;h<l;h++){for(i=0,n=$("<tr></tr>");i<7;i++)a=$("<td></td>"),-1===c?(a.addClass("last-month"),j!==c&&a.addClass("first")):1===c&&(a.addClass("next-month"),j!==c&&a.addClass("first")),d=p+c,f=s,d<0?(d=11,f--):d>11&&(d=0,f++),a.attr({"data-date":b,"data-month":d,"data-year":f}),f===k&&d===r&&b===w?a.addClass("current-day"):(f<k||f===k&&d<r||f===k&&d===r&&b<w)&&(a.addClass("past"),this.options.allowPastDates||a.addClass("restricted").attr("title",this.restrictedText)),this.isRestricted(b,d,f)&&a.addClass("restricted").attr("title",this.restrictedText),g&&f===g.year&&d===g.month&&b===g.date&&a.addClass("selected"),a.hasClass("restricted")?a.html('<span><b class="datepicker-date">'+b+"</b></span>"):a.html('<span><button type="button" class="datepicker-date">'+b+"</button></span>"),b++,m=j,j=c,-1===c&&b>u?(b=1,m!==(c=0)&&a.addClass("last")):0===c&&b>t&&(b=1,m!==(c=1)&&a.addClass("last")),h===l-1&&6===i&&a.addClass("last"),n.append(a);x.append(n)}},renderWheel:function(g){var b,d,e,h=g.getMonth(),c=this.$wheelsMonth.find("ul"),f=g.getFullYear(),a=this.$wheelsYear.find("ul");for(this.sameYearOnly?(this.$wheelsMonth.addClass("full"),this.$wheelsYear.addClass("hidden")):(this.$wheelsMonth.removeClass("full"),this.$wheelsYear.removeClass("hide hidden")),c.find(".selected").removeClass("selected"),(d=c.find('li[data-month="'+h+'"]')).addClass("selected"),c.scrollTop(c.scrollTop()+(d.position().top-c.outerHeight()/2-d.outerHeight(!0)/2)),a.empty(),b=f-10;b<f+11;b++)a.append('<li data-year="'+b+'"><button type="button">'+b+"</button></li>");(e=a.find('li[data-year="'+f+'"]')).addClass("selected"),this.artificialScrolling=!0,a.scrollTop(a.scrollTop()+(e.position().top-a.outerHeight()/2-e.outerHeight(!0)/2)),this.artificialScrolling=!1,d.find("button").focus()},selectClicked:function(){var a=this.$wheelsMonth.find(".selected").attr("data-month"),b=this.$wheelsYear.find(".selected").attr("data-year");this.changeView("calendar",this.dateCalendar(b,a,1))},setCulture:function(a){if(!a)return!1;if(this.moment)N.locale(a);else throw L},setDate:function(b){var a=this.parseDate(b);return this.isInvalidDate(a)?(this.selectedDate=null,this.renderMonth()):this.isRestricted(a.getDate(),a.getMonth(),a.getFullYear())?(this.selectedDate=!1,this.renderMonth()):(this.selectedDate=a,this.renderMonth(a),this.$input.val(this.formatDate(a))),this.inputValue=this.$input.val(),this.selectedDate},setFormat:function(a){if(!a)return!1;if(this.moment)this.momentFormat=a;else throw L},setRestrictedDates:function(b){var a,c,d=[],f=this,e=function(a){return a=== -1/0?{date:-1/0,month:-1/0,year:-1/0}:a===1/0?{date:1/0,month:1/0,year:1/0}:{date:(a=f.parseDate(a)).getDate(),month:a.getMonth(),year:a.getFullYear()}};for(a=0,this.restricted=b,c=b.length;a<c;a++)d.push({from:e(b[a].from),to:e(b[a].to)});this.restrictedParsed=d},titleClicked:function(a){this.changeView("wheels",this.dateCalendar(this.$headerTitle.attr("data-year"),this.$headerTitle.attr("data-month"),1))},todayClicked:function(b){var a=this.dateCalendar();(a.getMonth()+""!==this.$headerTitle.attr("data-month")||a.getFullYear()+""!==this.$headerTitle.attr("data-year"))&&this.renderMonth(a)},yearClicked:function(a){this.$wheelsYear.find(".selected").removeClass("selected"),$(a.currentTarget).parent().addClass("selected")}},h.prototype.getValue=h.prototype.getDate,$.fn.datepicker=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.datepicker");b||e.data("fu.datepicker",b=new h(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.datepicker.defaults={allowPastDates:!0,date:null,calendar:"gregorian",formatDate:null,momentConfig:{culture:"en",format:"L"},parseDate:null,restricted:[],restrictedText:"Restricted",sameYearOnly:!1},$.fn.datepicker.Constructor=h,$.fn.datepicker.noConflict=function(){return $.fn.datepicker=O,this},$(document).on("mousedown.fu.datepicker.data-api","[data-initialize=datepicker]",function(b){var a=$(b.target).closest(".datepicker");a.data("datepicker")||a.datepicker(a.data())}),$(document).on("click.fu.datepicker.data-api",".datepicker .dropdown-menu",function(a){var b=$(a.target);(!b.is(".datepicker-date")||b.closest(".restricted").length)&&a.stopPropagation()}),$(document).on("click.fu.datepicker.data-api",".datepicker input",function(a){a.stopPropagation()}),$(function(){$("[data-initialize=datepicker]").each(function(){var a=$(this);a.data("datepicker")||a.datepicker(a.data())})}),function($){function a(a){$(a).css({visibility:"hidden"}),b(a)?a.parent().addClass("dropup"):a.parent().removeClass("dropup"),$(a).css({visibility:"visible"})}function b(b){var d=c(b),a={};return a.parentHeight=b.parent().outerHeight(),a.parentOffsetTop=b.parent().offset().top,a.dropdownHeight=b.outerHeight(),a.containerHeight=d.overflowElement.outerHeight(),a.containerOffsetTop=d.isWindow?d.overflowElement.scrollTop():d.overflowElement.offset().top,a.fromTop=a.parentOffsetTop-a.containerOffsetTop,a.fromBottom=a.containerHeight-a.parentHeight-(a.parentOffsetTop-a.containerOffsetTop),!(a.dropdownHeight<a.fromBottom)&&(a.dropdownHeight<a.fromTop||(a.dropdownHeight>=a.fromTop&&a.dropdownHeight>=a.fromBottom?a.fromTop>=a.fromBottom:void 0))}function c(d){var a,b=d.attr("data-target"),c=!0;return b?"window"!==b&&(a=$(b),c=!1):$.each(d.parents(),function(d,b){if("visible"!==$(b).css("overflow"))return a=b,c=!1,!1}),c&&(a=window),{overflowElement:$(a),isWindow:c}}$(document).on("click.fu.dropdown-autoflip","[data-toggle=dropdown][data-flip]",function(b){"auto"===$(this).data().flip&&a($(this).next(".dropdown-menu"))}),$(document).on("suggested.fu.pillbox",function(c,b){a($(b)),$(b).parent().addClass("open")}),$.fn.dropdownautoflip=function(){}}(a),Q=($=a).fn.loader,(s=function(a,b){this.$element=$(a),this.options=$.extend({},$.fn.loader.defaults,b)}).prototype={constructor:s,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},ieRepaint:function(){},msieVersion:function(){},next:function(){},pause:function(){},play:function(){},previous:function(){},reset:function(){}},$.fn.loader=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.loader");b||e.data("fu.loader",b=new s(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.loader.defaults={},$.fn.loader.Constructor=s,$.fn.loader.noConflict=function(){return $.fn.loader=Q,this},$(function(){$("[data-initialize=loader]").each(function(){var a=$(this);a.data("fu.loader")||a.loader(a.data())})}),R=($=a).fn.placard,S={accepted:"onAccept",cancelled:"onCancel"},l=function(a,b){var c=this;this.$element=$(a),this.options=$.extend({},$.fn.placard.defaults,b),"true"===this.$element.attr("data-ellipsis")&&(this.options.applyEllipsis=!0),this.$accept=this.$element.find(".placard-accept"),this.$cancel=this.$element.find(".placard-cancel"),this.$field=this.$element.find(".placard-field"),this.$footer=this.$element.find(".placard-footer"),this.$header=this.$element.find(".placard-header"),this.$popup=this.$element.find(".placard-popup"),this.actualValue=null,this.clickStamp="_",this.previousValue="",-1===this.options.revertOnCancel&&(this.options.revertOnCancel=this.$accept.length>0),this.isContentEditableDiv=this.$field.is("div"),this.isInput=this.$field.is("input"),this.divInTextareaMode=this.isContentEditableDiv&&"true"===this.$field.attr("data-textarea"),this.$field.on("focus.fu.placard",$.proxy(this.show,this)),this.$field.on("keydown.fu.placard",$.proxy(this.keyComplete,this)),this.$element.on("close.fu.placard",$.proxy(this.hide,this)),this.$accept.on("click.fu.placard",$.proxy(this.complete,this,"accepted")),this.$cancel.on("click.fu.placard",function(a){a.preventDefault(),c.complete("cancelled")}),this.applyEllipsis()},T=function(a){return a.$element.hasClass("showing")},U=function(){var a;if((a=$(document).find(".placard.showing")).length>0){if(a.data("fu.placard")&&a.data("fu.placard").options.explicit)return!1;a.placard("externalClickListener",{},!0)}return!0},l.prototype={constructor:l,complete:function(a){var c=this.options[S[a]],b={previousValue:this.previousValue,value:this.getValue()};c?(c(b),this.$element.trigger(a+".fu.placard",b)):("cancelled"===a&&this.options.revertOnCancel&&this.setValue(this.previousValue,!0),this.$element.trigger(a+".fu.placard",b),this.hide())},keyComplete:function(a){(this.isContentEditableDiv&&!this.divInTextareaMode||this.isInput)&&13===a.keyCode?(this.complete("accepted"),this.$field.blur()):27===a.keyCode&&(this.complete("cancelled"),this.$field.blur())},destroy:function(){return this.$element.remove(),$(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.find("input").each(function(){$(this).attr("value",$(this).val())}),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled"),this.$field.attr("disabled","disabled"),this.isContentEditableDiv&&this.$field.removeAttr("contenteditable"),this.hide()},applyEllipsis:function(){var b,c,a;if(this.options.applyEllipsis){if(b=this.$field.get(0),this.isContentEditableDiv&&!this.divInTextareaMode||this.isInput)b.scrollLeft=0;else if(b.scrollTop=0,b.clientHeight<b.scrollHeight){for(this.actualValue=this.getValue(),this.setValue("",!0),a="",c=0;b.clientHeight>=b.scrollHeight;)a+=this.actualValue[c],this.setValue(a+"...",!0),c++;a=a.length>0?a.substring(0,a.length-1):"",this.setValue(a+"...",!0)}}},enable:function(){this.$element.removeClass("disabled"),this.$field.removeAttr("disabled"),this.isContentEditableDiv&&this.$field.attr("contenteditable","true")},externalClickListener:function(a,b){(!0===b||this.isExternalClick(a))&&this.complete(this.options.externalClickAction)},getValue:function(){return null!==this.actualValue?this.actualValue:this.isContentEditableDiv?this.$field.html():this.$field.val()},hide:function(){this.$element.hasClass("showing")&&(this.$element.removeClass("showing"),this.applyEllipsis(),$(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.placard"))},isExternalClick:function(d){var a,e,f=this.$element.get(0),b=this.options.externalClickExceptions||[],c=$(d.target);if(d.target===f||c.parents(".placard:first").get(0)===f)return!1;for(a=0,e=b.length;a<e;a++)if(c.is(b[a])||c.parents(b[a]).length>0)return!1;return!0},setValue:function(b,a){return void 0===a&&(a=!this.options.applyEllipsis),this.isContentEditableDiv?this.$field.empty().append(b):this.$field.val(b),a||T(this)||this.applyEllipsis(),this.$field},show:function(){!T(this)&&U()&&(this.previousValue=this.isContentEditableDiv?this.$field.html():this.$field.val(),null!==this.actualValue&&(this.setValue(this.actualValue,!0),this.actualValue=null),this.showPlacard())},showPlacard:function(){this.$element.addClass("showing"),this.$header.length>0&&this.$popup.css("top","-"+this.$header.outerHeight(!0)+"px"),this.$footer.length>0&&this.$popup.css("bottom","-"+this.$footer.outerHeight(!0)+"px"),this.$element.trigger("shown.fu.placard"),this.clickStamp=new Date().getTime()+(Math.floor(100*Math.random())+1),this.options.explicit||$(document).on("click.fu.placard.externalClick."+this.clickStamp,$.proxy(this.externalClickListener,this))}},$.fn.placard=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.placard");b||e.data("fu.placard",b=new l(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.placard.defaults={onAccept:void 0,onCancel:void 0,externalClickAction:"cancelled",externalClickExceptions:[],explicit:!1,revertOnCancel:-1,applyEllipsis:!1},$.fn.placard.Constructor=l,$.fn.placard.noConflict=function(){return $.fn.placard=R,this},$(document).on("focus.fu.placard.data-api","[data-initialize=placard]",function(b){var a=$(b.target).closest(".placard");a.data("fu.placard")||a.placard(a.data())}),$(function(){$("[data-initialize=placard]").each(function(){var a=$(this);a.data("fu.placard")||a.placard(a.data())})}),V=($=a).fn.radio,W=function(a){window&&window.console&&window.console.error&&window.console.error(a)},(i=function(a,b){if(this.options=$.extend({},$.fn.radio.defaults,b),"label"!==a.tagName.toLowerCase()){W("Radio must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/radio.html for example of proper markup. Call `.radio()` on the `<label>` not the `<input>`");return}this.$label=$(a),this.$radio=this.$label.find('input[type="radio"]'),this.groupName=this.$radio.attr("name"),!this.options.ignoreVisibilityCheck&&this.$radio.css("visibility").match(/hidden|collapse/)&&W("For accessibility reasons, in order for tab and space to function on radio, `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details.");var c=this.$radio.attr("data-toggle");this.$toggleContainer=$(c),this.$radio.on("change",$.proxy(this.itemchecked,this)),this.setInitialState()}).prototype={constructor:i,setInitialState:function(){var a=this.$radio,b=a.prop("checked"),c=a.prop("disabled");this.setCheckedState(a,b),this.setDisabledState(a,c)},resetGroup:function(){$('input[name="'+this.groupName+'"]').each(function(f,b){var a=$(b),c=a.parent(),d=a.attr("data-toggle"),e=$(d);c.removeClass("checked"),e.addClass("hidden")})},setCheckedState:function(e,c){var b=e,a=b.parent(),d=$(b.attr("data-toggle"));c?(this.resetGroup(),b.prop("checked",!0),a.addClass("checked"),d.removeClass("hide hidden"),a.trigger("checked.fu.radio")):(b.prop("checked",!1),a.removeClass("checked"),d.addClass("hidden"),a.trigger("unchecked.fu.radio")),a.trigger("changed.fu.radio",c)},setDisabledState:function(c,d){var b=$(c),a=this.$label;return d?(b.prop("disabled",!0),a.addClass("disabled"),a.trigger("disabled.fu.radio")):(b.prop("disabled",!1),a.removeClass("disabled"),a.trigger("enabled.fu.radio")),b},itemchecked:function(a){var b=$(a.target);this.setCheckedState(b,!0)},check:function(){this.setCheckedState(this.$radio,!0)},uncheck:function(){this.setCheckedState(this.$radio,!1)},isChecked:function(){return this.$radio.prop("checked")},enable:function(){this.setDisabledState(this.$radio,!1)},disable:function(){this.setDisabledState(this.$radio,!0)},destroy:function(){return this.$label.remove(),this.$label[0].outerHTML}},i.prototype.getValue=i.prototype.isChecked,$.fn.radio=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.radio");b||e.data("fu.radio",b=new i(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.radio.defaults={ignoreVisibilityCheck:!1},$.fn.radio.Constructor=i,$.fn.radio.noConflict=function(){return $.fn.radio=V,this},$(document).on("mouseover.fu.radio.data-api","[data-initialize=radio]",function(b){var a=$(b.target);a.data("fu.radio")||a.radio(a.data())}),$(function(){$("[data-initialize=radio]").each(function(){var a=$(this);a.data("fu.radio")||a.radio(a.data())})}),X=($=a).fn.search,(t=function(a,b){this.$element=$(a),this.$repeater=$(a).closest(".repeater"),this.options=$.extend({},$.fn.search.defaults,b),"true"===this.$element.attr("data-searchOnKeyPress")&&(this.options.searchOnKeyPress=!0),this.$button=this.$element.find("button"),this.$input=this.$element.find("input"),this.$icon=this.$element.find(".glyphicon, .fuelux-icon"),this.$button.on("click.fu.search",$.proxy(this.buttonclicked,this)),this.$input.on("keyup.fu.search",$.proxy(this.keypress,this)),this.$repeater.length>0&&this.$repeater.on("rendered.fu.repeater",$.proxy(this.clearPending,this)),this.activeSearch=""}).prototype={constructor:t,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){$(this).attr("value",$(this).val())}),this.$element[0].outerHTML},search:function(a){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-search").addClass("glyphicon-remove"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-search").addClass("fuelux-icon-remove"),this.activeSearch=a,this.$element.addClass("searched pending"),this.$element.trigger("searched.fu.search",a)},clear:function(){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-remove").addClass("glyphicon-search"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-remove").addClass("fuelux-icon-search"),this.$element.hasClass("pending")&&this.$element.trigger("canceled.fu.search"),this.activeSearch="",this.$input.val(""),this.$element.trigger("cleared.fu.search"),this.$element.removeClass("searched pending")},clearPending:function(){this.$element.removeClass("pending")},action:function(){var a=this.$input.val();a&&a.length>0?this.search(a):this.clear()},buttonclicked:function(a){a.preventDefault(),$(a.currentTarget).is(".disabled, :disabled")||(this.$element.hasClass("pending")||this.$element.hasClass("searched")?this.clear():this.action())},keypress:function(a){13===a.which?(a.preventDefault(),this.action()):9===a.which?a.preventDefault():27===a.which?(a.preventDefault(),this.clear()):this.options.searchOnKeyPress&&this.action()},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled","disabled"),this.options.allowCancel||this.$button.addClass("disabled")},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")}},$.fn.search=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.search");b||e.data("fu.search",b=new t(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.search.defaults={clearOnEmpty:!1,searchOnKeyPress:!1,allowCancel:!1},$.fn.search.Constructor=t,$.fn.search.noConflict=function(){return $.fn.search=X,this},$(document).on("mousedown.fu.search.data-api","[data-initialize=search]",function(b){var a=$(b.target).closest(".search");a.data("fu.search")||a.search(a.data())}),$(function(){$("[data-initialize=search]").each(function(){var a=$(this);a.data("fu.search")||a.search(a.data())})}),Y=($=a).fn.selectlist,(j=function(b,a){this.$element=$(b),this.options=$.extend({},$.fn.selectlist.defaults,a),this.$button=this.$element.find(".btn.dropdown-toggle"),this.$hiddenField=this.$element.find(".hidden-field"),this.$label=this.$element.find(".selected-label"),this.$dropdownMenu=this.$element.find(".dropdown-menu"),this.$element.on("click.fu.selectlist",".dropdown-menu a",$.proxy(this.itemClicked,this)),this.setDefaultSelection(),("auto"===a.resize||"auto"===this.$element.attr("data-resize"))&&this.resize(),0===this.$dropdownMenu.children("li").length&&(this.disable(),this.doSelect($(this.options.emptyLabelHTML))),this.$element.on("shown.bs.dropdown",function(){var a=$(this);$(document).on("keypress.fu.selectlist",function(b){var c=String.fromCharCode(b.which);a.find("li").each(function(b,a){if($(a).text().charAt(0).toLowerCase()===c)return $(a).children("a").focus(),!1})})}),this.$element.on("hide.bs.dropdown",function(){$(document).off("keypress.fu.selectlist")})}).prototype={constructor:j,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},doSelect:function(a){var b;this.$selectedItem=b=a,this.$hiddenField.val(this.$selectedItem.attr("data-value")),this.$label.html($(this.$selectedItem.children()[0]).html()),this.$element.find("li").each(function(){b.is($(this))?$(this).attr("data-selected",!0):$(this).removeData("selected").removeAttr("data-selected")})},itemClicked:function(a){this.$element.trigger("clicked.fu.selectlist",this.$selectedItem),a.preventDefault(),$(a.currentTarget).parent("li").is(".disabled, :disabled")||($(a.target).parent().is(this.$selectedItem)||this.itemChanged(a),this.$element.find(".dropdown-toggle").focus())},itemChanged:function(a){this.doSelect($(a.target).closest("li"));var b=this.selectedItem();this.$element.trigger("changed.fu.selectlist",b)},resize:function(){var b=0,c=0,a=$("<div/>").addClass("selectlist-sizer");Boolean($(document).find("html").hasClass("fuelux"))?$(document.body).append(a):$(".fuelux:first").append(a),a.append(this.$element.clone()),this.$element.find("a").each(function(){a.find(".selected-label").text($(this).text()),c=a.find(".selectlist").outerWidth(),(c+=a.find(".sr-only").outerWidth())>b&&(b=c)}),b<=1||(this.$button.css("width",b),this.$dropdownMenu.css("width",b),a.remove())},selectedItem:function(){var a=this.$selectedItem.text();return $.extend({text:a},this.$selectedItem.data())},selectByText:function(b){var a=$([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||$(this).text()||"").toLowerCase()===(b||"").toLowerCase())return a=$(this),!1}),this.doSelect(a)},selectByValue:function(a){this.selectBySelector('li[data-value="'+a+'"]')},selectByIndex:function(a){this.selectBySelector("li:eq("+a+")")},selectBySelector:function(a){var b=this.$element.find(a);this.doSelect(b)},setDefaultSelection:function(){var a=this.$element.find("li[data-selected=true]").eq(0);0===a.length&&(a=this.$element.find("li").has("a").eq(0)),this.doSelect(a)},enable:function(){this.$element.removeClass("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$button.addClass("disabled")}},j.prototype.getValue=j.prototype.selectedItem,$.fn.selectlist=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.selectlist");b||e.data("fu.selectlist",b=new j(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.selectlist.defaults={emptyLabelHTML:'<li data-value=""><a href="#">No items</a></li>'},$.fn.selectlist.Constructor=j,$.fn.selectlist.noConflict=function(){return $.fn.selectlist=Y,this},$(document).on("mousedown.fu.selectlist.data-api","[data-initialize=selectlist]",function(b){var a=$(b.target).closest(".selectlist");a.data("fu.selectlist")||a.selectlist(a.data())}),$(function(){$("[data-initialize=selectlist]").each(function(){var a=$(this);a.data("fu.selectlist")||a.selectlist(a.data())})}),Z=($=a).fn.spinbox,m=function(a,b){this.$element=$(a),this.$element.find(".btn").on("click",function(a){a.preventDefault()}),this.options=$.extend({},$.fn.spinbox.defaults,b),this.options.step=this.$element.data("step")||this.options.step,this.options.value<this.options.min?this.options.value=this.options.min:this.options.max<this.options.value&&(this.options.value=this.options.max),this.$input=this.$element.find(".spinbox-input"),this.$input.on("focusout.fu.spinbox",this.$input,$.proxy(this.change,this)),this.$element.on("keydown.fu.spinbox",this.$input,$.proxy(this.keydown,this)),this.$element.on("keyup.fu.spinbox",this.$input,$.proxy(this.keyup,this)),this.options.hold?(this.$element.on("mousedown.fu.spinbox",".spinbox-up",$.proxy(function(){this.startSpin(!0)},this)),this.$element.on("mouseup.fu.spinbox",".spinbox-up, .spinbox-down",$.proxy(this.stopSpin,this)),this.$element.on("mouseout.fu.spinbox",".spinbox-up, .spinbox-down",$.proxy(this.stopSpin,this)),this.$element.on("mousedown.fu.spinbox",".spinbox-down",$.proxy(function(){this.startSpin(!1)},this))):(this.$element.on("click.fu.spinbox",".spinbox-up",$.proxy(function(){this.step(!0)},this)),this.$element.on("click.fu.spinbox",".spinbox-down",$.proxy(function(){this.step(!1)},this))),this.switches={count:1,enabled:!0},"medium"===this.options.speed?this.switches.speed=300:"fast"===this.options.speed?this.switches.speed=100:this.switches.speed=500,this.options.defaultUnit=_(this.options.defaultUnit,this.options.units)?this.options.defaultUnit:"",this.unit=this.options.defaultUnit,this.lastValue=this.options.value,this.render(),this.options.disabled&&this.disable()},_=function(a,b){var c=!1,d=a.toLowerCase();return $.each(b,function(b,a){if(d===(a=a.toLowerCase()))return c=!0,!1}),c},aa=function(a){if(isNaN(parseFloat(a)))return a;if(a>this.options.max?a=this.options.cycle?this.options.min:this.options.max:a<this.options.min&&(a=this.options.cycle?this.options.max:this.options.min),this.options.limitToStep&&this.options.step){var c,b;(a=Math.round((c=a)/(b=this.options.step))*b)>this.options.max?a-=this.options.step:a<this.options.min&&(a+=this.options.step)}return a},m.prototype={constructor:m,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){$(this).attr("value",$(this).val())}),this.$element[0].outerHTML},render:function(){this._setValue(this.getDisplayValue())},change:function(){this._setValue(this.getDisplayValue()),this.triggerChangedEvent()},stopSpin:function(){void 0!==this.switches.timeout&&(clearTimeout(this.switches.timeout),this.switches.count=1,this.triggerChangedEvent())},triggerChangedEvent:function(){var a=this.getValue();a!==this.lastValue&&(this.lastValue=a,this.$element.trigger("changed.fu.spinbox",a))},startSpin:function(b){if(!this.options.disabled){var a=this.switches.count;1===a?(this.step(b),a=1):a=a<3?1.5:a<8?2.5:4,this.switches.timeout=setTimeout($.proxy(function(){this.iterate(b)},this),this.switches.speed/a),this.switches.count++}},iterate:function(a){this.step(a),this.startSpin(a)},step:function(b){var a;this._setValue(this.getDisplayValue()),a=(a=b?this.options.value+this.options.step:this.options.value-this.options.step).toFixed(5),this._setValue(a+this.unit)},getDisplayValue:function(){return this.parseInput(this.$input.val())||this.options.value},setDisplayValue:function(a){this.$input.val(a)},getValue:function(){var a=this.options.value;return"."!==this.options.decimalMark&&(a=(a+"").split(".").join(this.options.decimalMark)),a+this.unit},setValue:function(a){return this._setValue(a,!0)},_setValue:function(a,c){if("."!==this.options.decimalMark&&(a=this.parseInput(a)),"number"!=typeof a){var d=a.replace(/[0-9.-]/g,"");this.unit=_(d,this.options.units)?d:this.options.defaultUnit}var b=this.getIntValue(a);return isNaN(b)&&!isFinite(b)?this._setValue(this.options.value,c):(b=aa.call(this,b),this.options.value=b,a=b+this.unit,"."!==this.options.decimalMark&&(a=(a+"").split(".").join(this.options.decimalMark)),this.setDisplayValue(a),c&&(this.lastValue=a),this)},value:function(a){return a||0===a?this.setValue(a):this.getValue()},parseInput:function(a){return a=(a+"").split(this.options.decimalMark).join(".")},getIntValue:function(a){if(void 0!==(a=void 0===a?this.getValue():a))return"string"==typeof a&&(a=this.parseInput(a)),a=parseFloat(a,10)},disable:function(){this.options.disabled=!0,this.$element.addClass("disabled"),this.$input.attr("disabled",""),this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=!1,this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$element.find("button").removeClass("disabled")},keydown:function(b){var a=b.keyCode;38===a?this.step(!0):40===a?this.step(!1):13===a&&this.change()},keyup:function(b){var a=b.keyCode;(38===a||40===a)&&this.triggerChangedEvent()}},$.fn.spinbox=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.spinbox");b||e.data("fu.spinbox",b=new m(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.spinbox.defaults={value:0,min:0,max:999,step:1,hold:!0,speed:"medium",disabled:!1,cycle:!1,units:[],decimalMark:".",defaultUnit:"",limitToStep:!1},$.fn.spinbox.Constructor=m,$.fn.spinbox.noConflict=function(){return $.fn.spinbox=Z,this},$(document).on("mousedown.fu.spinbox.data-api","[data-initialize=spinbox]",function(b){var a=$(b.target).closest(".spinbox");a.data("fu.spinbox")||a.spinbox(a.data())}),$(function(){$("[data-initialize=spinbox]").each(function(){var a=$(this);a.data("fu.spinbox")||a.spinbox(a.data())})}),function($){var b=$.fn.tree,a=function(a,b){this.$element=$(a),this.options=$.extend({},$.fn.tree.defaults,b),this.$element.attr("tabindex","0"),this.options.itemSelect&&this.$element.on("click.fu.tree",".tree-item",$.proxy(function(a){this.selectItem(a.currentTarget)},this)),this.$element.on("click.fu.tree",".tree-branch-name",$.proxy(function(a){this.toggleFolder(a.currentTarget)},this)),this.$element.on("click.fu.tree",".tree-overflow",$.proxy(function(a){this.populate($(a.currentTarget))},this)),this.options.folderSelect&&(this.$element.addClass("tree-folder-select"),this.$element.off("click.fu.tree",".tree-branch-name"),this.$element.on("click.fu.tree",".icon-caret",$.proxy(function(a){this.toggleFolder($(a.currentTarget).parent())},this)),this.$element.on("click.fu.tree",".tree-branch-name",$.proxy(function(a){this.selectFolder($(a.currentTarget))},this))),this.$element.on("focus",function(){var a=$(this);d(a,a)}),this.$element.on("keydown",function(a){return f($(this),a)}),this.render()};a.prototype={constructor:a,deselectAll:function(b){var c=b||this.$element,a=$(c).find(".tree-selected");return a.each(function(c,b){var a=$(b);h(a),j(a,a.find(".glyphicon"))}),a},destroy:function(){return this.$element.find("li:not([data-template])").remove(),this.$element.remove(),this.$element[0].outerHTML},render:function(){this.populate(this.$element)},populate:function(a,f){var h=this,c=a.hasClass("tree-overflow"),b=a.hasClass("tree")?a:a.parent(),d=b.hasClass("tree");c&&!d&&(b=b.parent());var e=b.data();c&&(e.overflow=a.data()),c&&(d?a.replaceWith(b.find("> .tree-loader").remove()):a.remove());var g=b.find(".tree-loader:last");!1===(f||!1)&&g.removeClass("hide hidden"),this.options.dataSource(e||{},function(a){$.each(a.data,function(g,a){var e=a.type;"folder"===a.type&&(e="branch");var c=h.$element.find("[data-template=tree"+e+"]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template");c.find(".tree-"+e+"-name > .tree-label").html(a.text||a.name),c.data(a);var f=a.attr||a.dataAttributes||[];$.each(f,function(b,a){switch(b){case"cssClass":case"class":case"className":c.addClass(a);break;case"data-icon":c.find(".icon-item").removeClass().addClass("icon-item "+a),c.attr(b,a);break;case"id":c.attr(b,a),c.attr("aria-labelledby",a+"-label"),c.find(".tree-branch-name > .tree-label").attr("id",a+"-label");break;default:c.attr(b,a)}}),d?b.append(c):b.find(".tree-branch-children:eq(0)").append(c)}),b.find(".tree-loader").addClass("hidden"),h.$element.trigger("loaded.fu.tree",b)})},selectTreeNode:function(d,f,c){var a={};c=c||(this.options.toggleSelect?"toggle":"select"),a.$element=$(d);var b={};b.$elements=this.$element.find(".tree-selected"),b.dataForEvent=[],"folder"===f?(a.$element=a.$element.closest(".tree-branch"),a.$icon=a.$element.find(".icon-folder")):a.$icon=a.$element.find(".icon-item"),a.elementData=a.$element.data(),g(a.$element),b=this.options.multiSelect?k(this,a,b):l(this,a,b,c),e(this.$element,a.$element),b.eventType&&(this.$element.trigger(b.eventType+".fu.tree",{target:a.elementData,selected:b.dataForEvent}),a.$element.trigger("updated.fu.tree",{selected:b.dataForEvent,item:a.$element,eventType:b.eventType}))},discloseFolder:function(d){var a=$(d).closest(".tree-branch"),b=a.find(".tree-branch-children"),e=b.eq(0);a.addClass("tree-open"),a.attr("aria-expanded","true"),e.removeClass("hide hidden"),a.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-close").addClass("glyphicon-folder-open");var f=this.$element,c=function(){f.trigger("disclosedFolder.fu.tree",a.data())};b.children().length?c():(f.one("loaded.fu.tree",c),this.populate(b))},closeFolder:function(c){var a=$(c).closest(".tree-branch"),b=a.find(".tree-branch-children").eq(0);a.removeClass("tree-open"),a.attr("aria-expanded","false"),b.addClass("hidden"),a.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-open").addClass("glyphicon-folder-close"),this.options.cacheItems||b.empty(),this.$element.trigger("closed.fu.tree",a.data())},toggleFolder:function(a){var b=$(a);b.find(".glyphicon-folder-close").length?this.discloseFolder(a):b.find(".glyphicon-folder-open").length&&this.closeFolder(a)},selectFolder:function(a,b){this.options.folderSelect&&this.selectTreeNode(a,"folder",b)},selectItem:function(a,b){this.options.itemSelect&&this.selectTreeNode(a,"item",b)},selectedItems:function(){var a=this.$element.find(".tree-selected"),b=[];return $.each(a,function(c,a){b.push($(a).data())}),b},collapse:function(){var a=this,b=[];a.$element.on("closed.fu.tree",function c(e,d){b.push(d),0===a.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").length&&(a.$element.trigger("closedAll.fu.tree",{tree:a.$element,reportedClosed:b}),a.$element.off("loaded.fu.tree",a.$element,c))}),a.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").each(function(){a.closeFolder(this)})},discloseVisible:function(){var a=this,b=a.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')"),c=[];a.$element.on("loaded.fu.tree",function d(f,e){c.push(e),c.length===b.length&&(a.$element.trigger("disclosedVisible.fu.tree",{tree:a.$element,reportedOpened:c}),a.$element.off("loaded.fu.tree",a.$element,d))}),a.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").each(function(){a.discloseFolder($(this).find(".tree-branch-header"))})},discloseAll:function(){var a=this;void 0===a.$element.data("disclosures")&&a.$element.data("disclosures",0);var b=a.options.disclosuresUpperLimit>=1&&a.$element.data("disclosures")>=a.options.disclosuresUpperLimit,c=0===a.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").length;if(c)a.$element.trigger("disclosedAll.fu.tree",{tree:a.$element,disclosures:a.$element.data("disclosures")}),a.options.cacheItems||a.$element.one("closeAll.fu.tree",function(){a.$element.data("disclosures",0)});else{if(b&&(a.$element.trigger("exceededDisclosuresLimit.fu.tree",{tree:a.$element,disclosures:a.$element.data("disclosures")}),!a.$element.data("ignore-disclosures-limit")))return;a.$element.data("disclosures",a.$element.data("disclosures")+1),a.$element.one("disclosedVisible.fu.tree",function(){a.discloseAll()}),a.discloseVisible()}},refresh:function(){this.$element.find("li:not([data-template])").remove(),this.render()},refreshFolder:function(c){var a=c.closest(".tree-branch"),b=a.find(".tree-branch-children");b.eq(0).empty(),a.hasClass("tree-open")?this.populate(b,!1):this.populate(b,!0),this.$element.trigger("refreshedFolder.fu.tree",a.data())}},a.prototype.closeAll=a.prototype.collapse,a.prototype.openFolder=a.prototype.discloseFolder,a.prototype.getValue=a.prototype.selectedItems;var c=function(b,a){b.attr("tabindex",-1),b.find("li").attr("tabindex",-1),a&&a.length>0&&a.attr("tabindex",0)},d=function(c,b){var a=b.find(".tree-selected:first");a.length<=0&&(a=b.find('li:not(".hidden"):first')),e(c,a)},e=function(b,a){c(b,a),b.attr("aria-activedescendant",a.attr("id")),a.focus(),b.trigger("setFocus.fu.tree",a)},f=function(a,f){if(f.isDefaultPrevented()||f.isPropagationStopped())return!1;var k=f.originalEvent.target,b=$(k),l=b.hasClass("tree-open"),c=!1,j=!0,g=function(){a.trigger("keyboardNavigated.fu.tree",f,b)};switch(f.which){case 13:case 32:var n=a.hasClass("tree-folder-select"),o=b.hasClass("tree-branch"),p=b.hasClass("tree-item");j=!1,o?n?(a.one("selected.fu.tree deselected.fu.tree",g),a.tree("selectFolder",b.find(".tree-branch-header")[0])):(a.one("loaded.fu.tree closed.fu.tree",g),a.tree("toggleFolder",b.find(".tree-branch-header")[0])):p?(a.one("selected.fu.tree",g),a.tree("selectItem",b)):(h=$(b.prevAll().not(".hidden")[0]),b.click(),a.one("loaded.fu.tree",function(){i=$(h.nextAll().not(".hidden")[0]),e(a,i),g()})),c=!0;break;case 35:e(a,a.find('li:not(".hidden"):last')),c=!0;break;case 36:e(a,a.find('li:not(".hidden"):first')),c=!0;break;case 37:l?(j=!1,a.one("closed.fu.tree",g),a.tree("closeFolder",k)):e(a,$(b.parents("li")[0])),c=!0;break;case 38:var h=[];if((h=$(b.prevAll().not(".hidden")[0])).hasClass("tree-open")){var m=h.find('li:not(".hidden"):last');m.length>0&&(h=$(m[0]))}h.length<1&&(h=$(b.parents("li")[0])),e(a,h),c=!0;break;case 39:l?d(a,b):(j=!1,a.one("disclosed.fu.tree",g),a.tree("discloseFolder",k)),c=!0;break;case 40:var i=$(b.find('li:not(".hidden"):first')[0]);(!l||i.length<=0)&&(i=$(b.nextAll().not(".hidden")[0])),i.length<1&&(i=$($(b.parents("li")[0]).nextAll().not(".hidden")[0])),e(a,i),c=!0;break;default:return!0}return c&&(f.preventDefault(),f.stopPropagation(),j&&g()),!0},g=function(a){a.attr("aria-selected",!0)},h=function(a){a.attr("aria-selected",!1)};function i(a,b){a.addClass("tree-selected"),"item"===a.data("type")&&b.hasClass("fueluxicon-bullet")&&b.removeClass("fueluxicon-bullet").addClass("glyphicon-ok")}function j(a,b){a.removeClass("tree-selected"),"item"===a.data("type")&&b.hasClass("glyphicon-ok")&&b.removeClass("glyphicon-ok").addClass("fueluxicon-bullet")}function k(c,a,b){return $.each(b.$elements,function(e,d){var c=$(d);c[0]!==a.$element[0]&&b.dataForEvent.push($(c).data())}),a.$element.hasClass("tree-selected")?(j(a.$element,a.$icon),b.eventType="deselected"):(i(a.$element,a.$icon),b.eventType="selected",b.dataForEvent.push(a.elementData)),b}function l(c,a,b,d){if(b.$elements[0]!==a.$element[0])switch(d){case"toggle":case"select":c.deselectAll(c.$element),i(a.$element,a.$icon),b.eventType="selected",b.dataForEvent=[a.elementData]}else switch(d){case"toggle":case"deselect":j(a.$element,a.$icon),b.eventType="deselected",b.dataForEvent=[]}return b}$.fn.tree=function(d){var b,e=Array.prototype.slice.call(arguments,1),c=this.each(function(){var f=$(this),c=f.data("fu.tree");c||(f.data("fu.tree",c=new a(this,"object"==typeof d&&d)),f.trigger("initialized.fu.tree")),"string"==typeof d&&(b=c[d].apply(c,e))});return void 0===b?c:b};var m=function f(b,c){if($.isEmptyObject(b))return c;if(void 0===c)return!1;for(var d=0;d<c.length;d++){var a=c[d];if(a.attr&&b.attr&&a.attr.id===b.attr.id)return a.children;if(a.children){var e=f(b,a.children);if(e)return e}}return!1};$.fn.tree.defaults={staticData:[],dataSource:function(a,b){if(this.staticData.length>0){var c=m(a,this.staticData);b({data:c})}},multiSelect:!1,cacheItems:!0,folderSelect:!0,itemSelect:!0,toggleSelect:!0,disclosuresUpperLimit:0},$.fn.tree.Constructor=a,$.fn.tree.noConflict=function(){return $.fn.tree=b,this}}(a),$=a,c={BACKSPACE_KEYCODE:8,COMMA_KEYCODE:188,DELETE_KEYCODE:46,DOWN_ARROW_KEYCODE:40,ENTER_KEYCODE:13,TAB_KEYCODE:9,UP_ARROW_KEYCODE:38},z=(k=function(a){return function(b){return b.keyCode===a}})(c.BACKSPACE_KEYCODE),A=k(c.DELETE_KEYCODE),B=k(c.TAB_KEYCODE),C=k(c.UP_ARROW_KEYCODE),D=k(c.DOWN_ARROW_KEYCODE),ab=/&[^\s]*;/,$.fn.utilities={CONST:c,cleanInput:function(a){for(;ab.test(a);)a=$("<i>").html(a).text();return $("<i>").text(a).html()},isBackspaceKey:z,isDeleteKey:A,isShiftHeld:function(a){return!0===a.shiftKey},isTabKey:B,isUpArrow:C,isDownArrow:D},$=a,ac=$.fn.wizard,n=function(b,c){this.$element=$(b),this.options=$.extend({},$.fn.wizard.defaults,c),this.options.disablePreviousStep="previous"===this.$element.attr("data-restrict")||this.options.disablePreviousStep,this.currentStep=this.options.selectedItem.step,this.numSteps=this.$element.find(".steps li").length,this.$prevBtn=this.$element.find("button.btn-prev"),this.$nextBtn=this.$element.find("button.btn-next");var d=this.$nextBtn.children().detach();this.nextText=$.trim(this.$nextBtn.text()),this.$nextBtn.append(d);var a=this.$element.children(".steps-container");0===a.length&&(a=this.$element,this.$element.addClass("no-steps-container"),window&&window.console&&window.console.warn&&window.console.warn('please update your wizard markup to include ".steps-container" as seen in http://getfuelux.com/javascript.html#wizard-usage-markup')),a=a.find(".steps"),this.$prevBtn.on("click.fu.wizard",$.proxy(this.previous,this)),this.$nextBtn.on("click.fu.wizard",$.proxy(this.next,this)),a.on("click.fu.wizard","li.complete",$.proxy(this.stepclicked,this)),this.selectedItem(this.options.selectedItem),this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))},n.prototype={constructor:n,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},addSteps:function(a){var c,h,f,i,d,e,b=[].slice.call(arguments).slice(1),g=this.$element.find(".steps"),j=this.$element.find(".step-content");for(a=-1===a||a>this.numSteps+1?this.numSteps+1:a,b[0]instanceof Array&&(b=b[0]),d=g.find("li:nth-child("+a+")"),i=j.find(".step-pane:nth-child("+a+")"),d.length<1&&(d=null),c=0,h=b.length;c<h;c++)(e=$('<li data-step="'+a+'"><span class="badge badge-info"></span></li>')).append(b[c].label||"").append('<span class="chevron"></span>'),e.find(".badge").append(b[c].badge||a),(f=$('<div class="step-pane" data-step="'+a+'"></div>')).append(b[c].pane||""),d?(d.before(e),i.before(f)):(g.append(e),j.append(f)),a++;this.syncSteps(),this.numSteps=g.find("li").length,this.setState()},removeSteps:function(d,c){var b,e="nextAll",f=0,a=this.$element.find(".steps"),g=this.$element.find(".step-content");c=void 0!==c?c:1,d>a.find("li").length?b=a.find("li:last"):(b=a.find("li:nth-child("+d+")").prev()).length<1&&(e="children",b=a),b[e]().each(function(){var a=$(this),b=a.attr("data-step");if(!(f<c))return!1;a.remove(),g.find('.step-pane[data-step="'+b+'"]:first').remove(),f++}),this.syncSteps(),this.numSteps=a.find("li").length,this.setState()},setState:function(){var j=this.currentStep>1,k=1===this.currentStep,l=this.currentStep===this.numSteps;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",!0===k|| !1===j);var c=this.$nextBtn.attr("data-last");if(c){this.lastText=c;var d=this.nextText;!0===l?(d=this.lastText,this.$element.addClass("complete")):this.$element.removeClass("complete");var m=this.$nextBtn.children().detach();this.$nextBtn.text(d).append(m)}var e=this.$element.find(".steps li");e.removeClass("active").removeClass("complete"),e.find("span.badge").removeClass("badge-info").removeClass("badge-success");var n=".steps li:lt("+(this.currentStep-1)+")",f=this.$element.find(n);f.addClass("complete"),f.find("span.badge").addClass("badge-success");var o=".steps li:eq("+(this.currentStep-1)+")",a=this.$element.find(o);a.addClass("active"),a.find("span.badge").addClass("badge-info");var g=this.$element.find(".step-content"),p=a.attr("data-step");g.find(".step-pane").removeClass("active"),g.find('.step-pane[data-step="'+p+'"]:first').addClass("active"),this.$element.find(".steps").first().attr("style","margin-left: 0");var h=0;this.$element.find(".steps > li").each(function(){h+=$(this).outerWidth()});var i=0;if(h>(i=this.$element.find(".actions").length?this.$element.width()-this.$element.find(".actions").first().outerWidth():this.$element.width())){var b=h-i;this.$element.find(".steps").first().attr("style","margin-left: -"+b+"px"),this.$element.find("li.active").first().position().left<200&&((b+=this.$element.find("li.active").first().position().left-200)<1?this.$element.find(".steps").first().attr("style","margin-left: 0"):this.$element.find(".steps").first().attr("style","margin-left: -"+b+"px"))}if(void 0!==this.initialized){var q=$.Event("changed.fu.wizard");this.$element.trigger(q,{step:this.currentStep})}this.initialized=!0},stepclicked:function(c){var d=$(c.currentTarget),a=this.$element.find(".steps li").index(d);if(!(a<this.currentStep)||!this.options.disablePreviousStep){var b=$.Event("stepclicked.fu.wizard");this.$element.trigger(b,{step:a+1}),b.isDefaultPrevented()||(this.currentStep=a+1,this.setState())}},syncSteps:function(){var b=1,a=this.$element.find(".steps"),c=this.$element.find(".step-content");a.children().each(function(){var a=$(this),d=a.find(".badge"),e=a.attr("data-step");isNaN(parseInt(d.html(),10))||d.html(b),a.attr("data-step",b),c.find('.step-pane[data-step="'+e+'"]:last').attr("data-step",b),b++})},previous:function(){if(!this.options.disablePreviousStep&&1!==this.currentStep){var a=$.Event("actionclicked.fu.wizard");if(this.$element.trigger(a,{step:this.currentStep,direction:"previous"}),!a.isDefaultPrevented()&&(this.currentStep-=1,this.setState(),this.$prevBtn.is(":focus"))){var b=this.$element.find(".active").find("input, select, textarea")[0];void 0!==b?$(b).focus():0===this.$element.find(".active input:first").length&&this.$prevBtn.is(":disabled")&&this.$nextBtn.focus()}}},next:function(){var a=$.Event("actionclicked.fu.wizard");if(this.$element.trigger(a,{step:this.currentStep,direction:"next"}),!a.isDefaultPrevented()&&(this.currentStep<this.numSteps?(this.currentStep+=1,this.setState()):this.$element.trigger("finished.fu.wizard"),this.$nextBtn.is(":focus"))){var b=this.$element.find(".active").find("input, select, textarea")[0];void 0!==b?$(b).focus():0===this.$element.find(".active input:first").length&&this.$nextBtn.is(":disabled")&&this.$prevBtn.focus()}},selectedItem:function(c){var b,a;return c?(a=c.step|| -1,1<=(a=Number(this.$element.find('.steps li[data-name="'+a+'"]').first().attr("data-step"))||Number(a))&&a<=this.numSteps?(this.currentStep=a,this.setState()):isNaN(a=this.$element.find(".steps li.active:first").attr("data-step"))||(this.currentStep=parseInt(a,10),this.setState()),b=this):(b={step:this.currentStep},this.$element.find(".steps li.active:first[data-name]").length&&(b.stepname=this.$element.find(".steps li.active:first").attr("data-name"))),b}},$.fn.wizard=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.wizard");b||e.data("fu.wizard",b=new n(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.wizard.defaults={disablePreviousStep:!1,selectedItem:{step:-1}},$.fn.wizard.Constructor=n,$.fn.wizard.noConflict=function(){return $.fn.wizard=ac,this},$(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(b){var a=$(b.target).closest(".wizard");a.data("fu.wizard")||a.wizard(a.data())}),$(function(){$("[data-initialize=wizard]").each(function(){var a=$(this);a.data("fu.wizard")||a.wizard(a.data())})}),$=a,ad=$.fn.infinitescroll,o=function(a,b){this.$element=$(a),this.$element.addClass("infinitescroll"),this.options=$.extend({},$.fn.infinitescroll.defaults,b),this.curScrollTop=this.$element.scrollTop(),this.curPercentage=this.getPercentage(),this.fetchingData=!1,this.$element.on("scroll.fu.infinitescroll",$.proxy(this.onScroll,this))},o.prototype={constructor:o,destroy:function(){return this.$element.remove(),this.$element.empty(),this.$element[0].outerHTML},disable:function(){this.$element.off("scroll.fu.infinitescroll")},enable:function(){this.$element.on("scroll.fu.infinitescroll",$.proxy(this.onScroll,this))},end:function(b){var a=$('<div class="infinitescroll-end"></div>');b?a.append(b):a.append("---------"),this.$element.append(a),this.disable()},getPercentage:function(){var b="border-box"===this.$element.css("box-sizing")?this.$element.outerHeight():this.$element.height(),a=this.$element.get(0).scrollHeight;return 0===a||a-this.curScrollTop==0?0:b/(a-this.curScrollTop)*100},fetchData:function(c){var a,b=$('<div class="infinitescroll-load"></div>'),e=this,d=function(){var c={percentage:e.curPercentage,scrollTop:e.curScrollTop},a=$('<div class="loader"></div>');b.append(a),a.loader(),e.options.dataSource&&e.options.dataSource(c,function(a){var c;b.remove(),a.content&&e.$element.append(a.content),a.end&&(c=!0!==a.end?a.end:void 0,e.end(c)),e.fetchingData=!1})};this.fetchingData=!0,this.$element.append(b),this.options.hybrid&& !0!==c?(a=$('<button type="button" class="btn btn-primary"></button>'),"object"==typeof this.options.hybrid?a.append(this.options.hybrid.label):a.append('<span class="glyphicon glyphicon-repeat"></span>'),a.on("click.fu.infinitescroll",function(){a.remove(),d()}),b.append(a)):d()},onScroll:function(a){this.curScrollTop=this.$element.scrollTop(),this.curPercentage=this.getPercentage(),!this.fetchingData&&this.curPercentage>=this.options.percentage&&this.fetchData()}},$.fn.infinitescroll=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.infinitescroll");b||e.data("fu.infinitescroll",b=new o(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.infinitescroll.defaults={dataSource:null,hybrid:!1,percentage:95},$.fn.infinitescroll.Constructor=o,$.fn.infinitescroll.noConflict=function(){return $.fn.infinitescroll=ad,this},$=a,ae=$.fn.pillbox,b=$.fn.utilities,u=$.fn.utilities.CONST,E=u.COMMA_KEYCODE,F=u.ENTER_KEYCODE,af=b.isBackspaceKey,ag=b.isDeleteKey,ah=b.isTabKey,ai=b.isUpArrow,aj=b.isDownArrow,G=b.cleanInput,ak=b.isShiftHeld,d=function(a,b){this.$element=$(a),this.$moreCount=this.$element.find(".pillbox-more-count"),this.$pillGroup=this.$element.find(".pill-group"),this.$addItem=this.$element.find(".pillbox-add-item"),this.$addItemWrap=this.$addItem.parent(),this.$suggest=this.$element.find(".suggest"),this.$pillHTML='<li class="btn btn-default pill">	<span></span>	<span class="glyphicon glyphicon-close">		<span class="sr-only">Remove</span>	</span></li>',this.options=$.extend({},$.fn.pillbox.defaults,b),-1===this.options.readonly?void 0!==this.$element.attr("data-readonly")&&this.readonly(!0):this.options.readonly&&this.readonly(!0),this.acceptKeyCodes=this._generateObject(this.options.acceptKeyCodes),this.$element.on("click.fu.pillbox",".pill-group > .pill",$.proxy(this.itemClicked,this)),this.$element.on("click.fu.pillbox",$.proxy(this.inputFocus,this)),this.$element.on("keydown.fu.pillbox",".pillbox-add-item",$.proxy(this.inputEvent,this)),this.options.onKeyDown&&this.$element.on("mousedown.fu.pillbox",".suggest > li",$.proxy(this.suggestionClick,this)),this.options.edit&&(this.$element.addClass("pills-editable"),this.$element.on("blur.fu.pillbox",".pillbox-add-item",$.proxy(this.cancelEdit,this))),this.$element.on("blur.fu.pillbox",".pillbox-add-item",$.proxy(this.inputEvent,this))},d.prototype={constructor:d,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},items:function(){var a=this;return this.$pillGroup.children(".pill").map(function(){return a.getItemData($(this))}).get()},itemClicked:function(c){var a,b=$(c.target);if(c.preventDefault(),c.stopPropagation(),this._closeSuggestions(),b.hasClass("pill"))a=b;else if(a=b.parent(),void 0===this.$element.attr("data-readonly")){if(b.hasClass("glyphicon-close"))return this.options.onRemove?this.options.onRemove(this.getItemData(a,{el:a}),$.proxy(this._removeElement,this)):this._removeElement(this.getItemData(a,{el:a})),!1;if(this.options.edit){if(a.find(".pillbox-list-edit").length)return!1;this.openEdit(a)}}return this.$element.trigger("clicked.fu.pillbox",this.getItemData(a)),!0},readonly:function(a){a?this.$element.attr("data-readonly","readonly"):this.$element.removeAttr("data-readonly"),this.options.truncate&&this.truncate(a)},suggestionClick:function(c){var a=$(c.currentTarget),b={text:a.html(),value:a.data("value")};c.preventDefault(),this.$addItem.val(""),a.data("attr")&&(b.attr=JSON.parse(a.data("attr"))),b.data=a.data("data"),this.addItems(b,!0),this._closeSuggestions()},itemCount:function(){return this.$pillGroup.children(".pill").length},addItems:function(){var a,d,c,b=this;!isFinite(String(arguments[0]))||arguments[0]instanceof Array?(a=[].slice.call(arguments).slice(0),c=a[1]&&!a[1].text):(a=[].slice.call(arguments).slice(1),d=arguments[0]),a[0]instanceof Array&&(a=a[0]),a.length&&($.each(a,function(e,c){var d={text:c.text,value:c.value?c.value:c.text,el:b.$pillHTML};c.attr&&(d.attr=c.attr),c.data&&(d.data=c.data),a[e]=d}),this.options.edit&&this.currentEdit&&(a[0].el=this.currentEdit.wrap("<div></div>").parent().html()),c&&a.pop(1),b.options.onAdd&&c?this.options.edit&&this.currentEdit?b.options.onAdd(a[0],$.proxy(b.saveEdit,this)):b.options.onAdd(a[0],$.proxy(b.placeItems,this)):this.options.edit&&this.currentEdit?b.saveEdit(a):d?b.placeItems(d,a):b.placeItems(a,c))},removeItems:function(a,d){if(a)for(var e=d||1,b=0;b<e;b++){var c=this.$pillGroup.find("> .pill:nth-child("+a+")");if(c)c.remove();else break}else this.$pillGroup.find(".pill").remove(),this._removePillTrigger({method:"removeAll"})},placeItems:function(){if(!isFinite(String(arguments[0]))||arguments[0]instanceof Array?(a=[].slice.call(arguments).slice(0),e=a[1]&&!a[1].text):(a=[].slice.call(arguments).slice(1),c=arguments[0]),a[0]instanceof Array&&(a=a[0]),a.length){var a,c,d,e,b=[];$.each(a,function(d,a){var c=$(a.el);c.attr("data-value",a.value),c.find("span:first").html(a.text),a.attr&&$.each(a.attr,function(a,b){"cssClass"===a||"class"===a?c.addClass(b):c.attr(a,b)}),a.data&&c.data("data",a.data),b.push(c)}),this.$pillGroup.children(".pill").length>0?c&&(d=this.$pillGroup.find(".pill:nth-child("+c+")")).length?d.before(b):this.$pillGroup.children(".pill:last").after(b):this.$pillGroup.prepend(b),e&&this.$element.trigger("added.fu.pillbox",{text:a[0].text,value:a[0].value})}},inputEvent:function(a){var e=this,b=e.options.cleanInput(this.$addItem.val()),h="focusout"===a.type,i=h&&b.length>0;if(this.acceptKeyCodes[a.keyCode]&&!ak(a)||i){if(this.options.onKeyDown&&this._isSuggestionsOpen()){var f,g,c=this.$suggest.find(".pillbox-suggest-sel");c.length&&(b=e.options.cleanInput(c.html()),g=e.options.cleanInput(c.data("value")),f=c.data("attr"))}return(b.replace(/[ ]*\,[ ]*/,"").match(/\S/)||this.options.allowEmptyPills&&b.length)&&(this._closeSuggestions(),this.$addItem.val("").hide(),f?this.addItems({text:b,value:g,attr:JSON.parse(f)},!0):this.addItems({text:b,value:g},!0),setTimeout(function(){e.$addItem.show().attr({size:10}).focus()},0)),a.preventDefault(),!0}if(af(a)||ag(a)){if(!b.length){if(a.preventDefault(),this.options.edit&&this.currentEdit)return this.cancelEdit(),!0;this._closeSuggestions();var d=this.$pillGroup.children(".pill:last");return d.hasClass("pillbox-highlight")?this._removeElement(this.getItemData(d,{el:d})):d.addClass("pillbox-highlight"),!0}}else b.length>10&&this.$addItem.width()<this.$pillGroup.width()-6&&this.$addItem.attr({size:b.length+3});if(this.$pillGroup.find(".pill").removeClass("pillbox-highlight"),this.options.onKeyDown&&!h){if(ah(a)||ai(a)||aj(a))return this._isSuggestionsOpen()&&this._keySuggestions(a),!0;this.callbackId=a.timeStamp,this.options.onKeyDown({event:a,value:b},function(b){e._openSuggestions(a,b)})}return!0},openEdit:function(a){var c=a.index()+1,b=this.$addItemWrap.detach().hide();this.$pillGroup.find(".pill:nth-child("+c+")").before(b),this.currentEdit=a.detach(),b.addClass("editing"),this.$addItem.val(a.find("span:first").html()),b.show(),this.$addItem.focus().select()},cancelEdit:function(b){var a;return!!this.currentEdit&&(this._closeSuggestions(),b&&this.$addItemWrap.before(this.currentEdit),this.currentEdit=!1,(a=this.$addItemWrap.detach()).removeClass("editing"),this.$addItem.val(""),this.$pillGroup.append(a),!0)},saveEdit:function(){var a=arguments[0][0]?arguments[0][0]:arguments[0];this.currentEdit=$(a.el),this.currentEdit.data("value",a.value),this.currentEdit.find("span:first").html(a.text),this.$addItemWrap.hide(),this.$addItemWrap.before(this.currentEdit),this.currentEdit=!1,this.$addItem.val(""),this.$addItemWrap.removeClass("editing"),this.$pillGroup.append(this.$addItemWrap.detach().show()),this.$element.trigger("edited.fu.pillbox",{value:a.value,text:a.text})},removeBySelector:function(){var a=[].slice.call(arguments).slice(0),b=this;$.each(a,function(c,a){b.$pillGroup.find(a).remove()}),this._removePillTrigger({method:"removeBySelector",removedSelectors:a})},removeByValue:function(){var a=[].slice.call(arguments).slice(0),b=this;$.each(a,function(c,a){b.$pillGroup.find('> .pill[data-value="'+a+'"]').remove()}),this._removePillTrigger({method:"removeByValue",removedValues:a})},removeByText:function(){var a=[].slice.call(arguments).slice(0),b=this;$.each(a,function(c,a){b.$pillGroup.find('> .pill:contains("'+a+'")').remove()}),this._removePillTrigger({method:"removeByText",removedText:a})},truncate:function(a){var d=this;if(this.$element.removeClass("truncate"),this.$addItemWrap.removeClass("truncated"),this.$pillGroup.find(".pill").removeClass("truncated"),a){this.$element.addClass("truncate");var e=this.$element.width(),f=!1,b=0,c=this.$pillGroup.find(".pill").length,g=0;this.$pillGroup.find(".pill").each(function(){var a=$(this);f?a.addClass("truncated"):(b++,d.$moreCount.text(c-b),g+a.outerWidth(!0)+d.$addItemWrap.outerWidth(!0)<=e?g+=a.outerWidth(!0):(d.$moreCount.text(c-b+1),a.addClass("truncated"),f=!0))}),b===c&&this.$addItemWrap.addClass("truncated")}},inputFocus:function(){this.$element.find(".pillbox-add-item").focus()},getItemData:function(a,b){return $.extend({text:a.find("span:first").html()},a.data(),b)},_removeElement:function(a){a.el.remove(),delete a.el,this.$element.trigger("removed.fu.pillbox",a)},_removePillTrigger:function(a){this.$element.trigger("removed.fu.pillbox",a)},_generateObject:function(a){var b={};return $.each(a,function(c,a){b[a]=!0}),b},_openSuggestions:function(b,a){var c=$("<ul>");return this.callbackId===b.timeStamp&&(a.data&&a.data.length&&($.each(a.data,function(d,a){var b=$('<li data-value="'+(a.value?a.value:a.text)+'">'+a.text+"</li>");a.attr&&b.data("attr",JSON.stringify(a.attr)),a.data&&b.data("data",a.data),c.append(b)}),this.$suggest.html("").append(c.children()),$(document).trigger("suggested.fu.pillbox",this.$suggest)),!0)},_closeSuggestions:function(){this.$suggest.html("").parent().removeClass("open")},_isSuggestionsOpen:function(){return this.$suggest.parent().hasClass("open")},_keySuggestions:function(c){var a=this.$suggest.find("li.pillbox-suggest-sel"),d=ai(c);if(c.preventDefault(),a.length){var b=d?a.prev():a.next();b.length||(b=d?this.$suggest.find("li:last"):this.$suggest.find("li:first")),b&&(b.addClass("pillbox-suggest-sel"),a.removeClass("pillbox-suggest-sel"))}else(a=this.$suggest.find("li:first")).addClass("pillbox-suggest-sel")}},d.prototype.getValue=d.prototype.items,$.fn.pillbox=function(c){var a,e=Array.prototype.slice.call(arguments,1),b=this.each(function(){var f=$(this),b=f.data("fu.pillbox");b||f.data("fu.pillbox",b=new d(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,e))});return void 0===a?b:a},$.fn.pillbox.defaults={edit:!1,readonly:-1,truncate:!1,acceptKeyCodes:[F,E],allowEmptyPills:!1,cleanInput:G},$.fn.pillbox.Constructor=d,$.fn.pillbox.noConflict=function(){return $.fn.pillbox=ae,this},$(document).on("mousedown.fu.pillbox.data-api","[data-initialize=pillbox]",function(b){var a=$(b.target).closest(".pillbox");a.data("fu.pillbox")||a.pillbox(a.data())}),$(function(){$("[data-initialize=pillbox]").each(function(){var a=$(this);a.data("fu.pillbox")||a.pillbox(a.data())})}),$=a,al=$.fn.repeater,e=function(c,d){var a,b,e=this;this.$element=$(c),this.$canvas=this.$element.find(".repeater-canvas"),this.$count=this.$element.find(".repeater-count"),this.$end=this.$element.find(".repeater-end"),this.$filters=this.$element.find(".repeater-filters"),this.$loader=this.$element.find(".repeater-loader"),this.$pageSize=this.$element.find(".repeater-itemization .selectlist"),this.$nextBtn=this.$element.find(".repeater-next"),this.$pages=this.$element.find(".repeater-pages"),this.$prevBtn=this.$element.find(".repeater-prev"),this.$primaryPaging=this.$element.find(".repeater-primaryPaging"),this.$search=this.$element.find(".repeater-search").find(".search"),this.$secondaryPaging=this.$element.find(".repeater-secondaryPaging"),this.$start=this.$element.find(".repeater-start"),this.$viewport=this.$element.find(".repeater-viewport"),this.$views=this.$element.find(".repeater-views"),this.currentPage=0,this.currentView=null,this.isDisabled=!1,this.infiniteScrollingCallback=function(){},this.infiniteScrollingCont=null,this.infiniteScrollingEnabled=!1,this.infiniteScrollingEnd=null,this.infiniteScrollingOptions={},this.lastPageInput=0,this.options=$.extend({},$.fn.repeater.defaults,d),this.pageIncrement=0,this.resizeTimeout={},this.stamp=new Date().getTime()+(Math.floor(100*Math.random())+1),this.storedDataSourceOpts=null,this.syncingViewButtonState=!1,this.viewOptions={},this.viewType=null,this.$filters.selectlist(),this.$pageSize.selectlist(),this.$primaryPaging.find(".combobox").combobox(),this.$search.search({searchOnKeyPress:this.options.searchOnKeyPress,allowCancel:this.options.allowCancel}),this.$filters.on("changed.fu.selectlist",function(b,a){e.$element.trigger("filtered.fu.repeater",a),e.render({clearInfinite:!0,pageIncrement:null})}),this.$nextBtn.on("click.fu.repeater",$.proxy(this.next,this)),this.$pageSize.on("changed.fu.selectlist",function(b,a){e.$element.trigger("pageSizeChanged.fu.repeater",a),e.render({pageIncrement:null})}),this.$prevBtn.on("click.fu.repeater",$.proxy(this.previous,this)),this.$primaryPaging.find(".combobox").on("changed.fu.combobox",function(b,a){e.pageInputChange(a.text,a)}),this.$search.on("searched.fu.search cleared.fu.search",function(b,a){e.$element.trigger("searchChanged.fu.repeater",a),e.render({clearInfinite:!0,pageIncrement:null})}),this.$search.on("canceled.fu.search",function(b,a){e.$element.trigger("canceled.fu.repeater",a),e.render({clearInfinite:!0,pageIncrement:null})}),this.$secondaryPaging.on("blur.fu.repeater",function(){e.pageInputChange(e.$secondaryPaging.val())}),this.$secondaryPaging.on("keyup",function(a){13===a.keyCode&&e.pageInputChange(e.$secondaryPaging.val())}),this.$views.find("input").on("change.fu.repeater",$.proxy(this.viewChanged,this)),$(window).on("resize.fu.repeater."+this.stamp,function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout(function(){e.resize(),e.$element.trigger("resized.fu.repeater")},75)}),this.$loader.loader(),this.$loader.loader("pause"),b=-1!==this.options.defaultView?this.options.defaultView:(a=this.$views.find("label.active input")).length>0?a.val():"list",this.setViewOptions(b),this.initViewTypes(function(){e.resize(),e.$element.trigger("resized.fu.repeater"),e.render({changeView:b})})},am=function(a){window.console&&window.console.warn&&window.console.warn(a)},an=function c(a){var b=[];a.children().each(function(){var a=$(this),d=a.attr("data-preserve");"deep"===d?(a.detach(),b.push(a)):"shallow"===d&&(c(a),a.detach(),b.push(a))}),a.empty(),a.append(b)},ao=function(c,a){var b;a&&"none"!==(b=a.action?a.action:"append")&& void 0!==a.item&&(void 0!==a.container?$(a.container):c)[b](a.item)},ap=function(d,a,b){var c=d+1;c<a.length?aq.call(this,c,a,b):b()},aq=function(a,b,c){b[a].initialize?b[a].initialize.call(this,{},function(){ap.call(this,a,b,c)}):ap.call(this,a,b,c)},ar=function(a){var b=a.data||{};this.infiniteScrollingEnabled&&((a.viewChanged||a.options.clearInfinite)&&this.initInfiniteScrolling(),this.infiniteScrollPaging(b,a.options)),this.$loader.hide().loader("pause"),this.enable(),this.$search.trigger("rendered.fu.repeater",{data:b,options:a.dataOptions,renderOptions:a.options}),this.$element.trigger("rendered.fu.repeater",{data:b,options:a.dataOptions,renderOptions:a.options}),this.$element.trigger("loaded.fu.repeater",a.dataOptions)},as=function(b){var a=b.data||{};this.infiniteScrollingEnabled?this.infiniteScrollingCallback({}):(this.itemization(a),this.pagination(a));var c=this;this.renderItems(b.viewTypeObj,a,function(a){b.data=a,ar.call(c,b)})},e.prototype={constructor:e,clear:function(c){var a=c||{};a.preserve?(!this.infiniteScrollingEnabled||a.clearInfinite)&&an(this.$canvas):this.$canvas.empty();var d=void 0!==a.viewChanged&&a.viewChanged,b=$.fn.repeater.viewTypes[this.viewType]||{};!d&&b.cleared&&b.cleared.call(this,{options:a})},clearPreservedDataSourceOptions:function(){this.storedDataSourceOpts=null},destroy:function(){var a;return this.$element.find("input").each(function(){$(this).attr("value",$(this).val())}),this.$canvas.empty(),a=this.$element[0].outerHTML,this.$element.find(".combobox").combobox("destroy"),this.$element.find(".selectlist").selectlist("destroy"),this.$element.find(".search").search("destroy"),this.infiniteScrollingEnabled&&$(this.infiniteScrollingCont).infinitescroll("destroy"),this.$element.remove(),$(window).off("resize.fu.repeater."+this.stamp),a},disable:function(){var a=$.fn.repeater.viewTypes[this.viewType]||{};this.$search.search("disable"),this.$filters.selectlist("disable"),this.$views.find("label, input").addClass("disabled").attr("disabled","disabled"),this.$pageSize.selectlist("disable"),this.$primaryPaging.find(".combobox").combobox("disable"),this.$secondaryPaging.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.$nextBtn.attr("disabled","disabled"),a.enabled&&a.enabled.call(this,{status:!1}),this.isDisabled=!0,this.$element.addClass("disabled"),this.$element.trigger("disabled.fu.repeater")},enable:function(){var a=$.fn.repeater.viewTypes[this.viewType]||{};this.$search.search("enable"),this.$filters.selectlist("enable"),this.$views.find("label, input").removeClass("disabled").removeAttr("disabled"),this.$pageSize.selectlist("enable"),this.$primaryPaging.find(".combobox").combobox("enable"),this.$secondaryPaging.removeAttr("disabled"),this.$prevBtn.hasClass("page-end")||this.$prevBtn.removeAttr("disabled"),this.$nextBtn.hasClass("page-end")||this.$nextBtn.removeAttr("disabled"),this.$prevBtn.hasClass("page-end")&&this.$nextBtn.hasClass("page-end")&&this.$primaryPaging.combobox("disable"),0!==parseInt(this.$count.html(),10)?this.$pageSize.selectlist("enable"):this.$pageSize.selectlist("disable"),a.enabled&&a.enabled.call(this,{status:!0}),this.isDisabled=!1,this.$element.removeClass("disabled"),this.$element.trigger("enabled.fu.repeater")},getDataOptions:function(f){var b=f||{};void 0!==b.pageIncrement&&(null===b.pageIncrement?this.currentPage=0:this.currentPage+=b.pageIncrement);var c={};b.dataSourceOptions&&(c=b.dataSourceOptions,b.preserveDataSourceOptions&&(this.storedDataSourceOpts?this.storedDataSourceOpts=$.extend(this.storedDataSourceOpts,c):this.storedDataSourceOpts=c)),this.storedDataSourceOpts&&(c=$.extend(this.storedDataSourceOpts,c));var a={view:this.currentView,pageIndex:this.currentPage,filter:{text:"All",value:"all"}};this.$filters.length>0&&(a.filter=this.$filters.selectlist("selectedItem")),a.pageSize=this.options.defaultPageSize,!this.infiniteScrollingEnabled&&this.$pageSize.length>0&&(a.pageSize=parseInt(this.$pageSize.selectlist("selectedItem").value,10));var d=this.$search&&this.$search.find("input")&&this.$search.find("input").val();""!==d&&(a.search=d);var e=($.fn.repeater.viewTypes[this.viewType]||{}).dataOptions;return e&&(a=e.call(this,a)),a=$.extend(a,c)},infiniteScrolling:function(e,f){var a=this.$element.find(".repeater-footer"),b=this.$element.find(".repeater-viewport"),c=f||{};if(e)this.infiniteScrollingEnabled=!0,this.infiniteScrollingEnd=c.end,delete c.dataSource,delete c.end,this.infiniteScrollingOptions=c,b.css({height:b.height()+a.outerHeight()}),a.hide();else{var d=this.infiniteScrollingCont;delete d.data().infinitescroll,d.off("scroll"),d.removeClass("infinitescroll"),this.infiniteScrollingCont=null,this.infiniteScrollingEnabled=!1,this.infiniteScrollingEnd=null,this.infiniteScrollingOptions={},b.css({height:b.height()-a.outerHeight()}),a.show()}},infiniteScrollPaging:function(a){!0!==this.infiniteScrollingEnd&&this.infiniteScrollingEnd;var b=a.page,c=a.pages;this.currentPage=void 0!==b?b:NaN,this.infiniteScrollingCont&&(!0===a.end||this.currentPage+1>=c?this.infiniteScrollingCont.infinitescroll("end",this.viewOptions.thumbnail_endItemsHTML):this.infiniteScrollingCont.infinitescroll("onScroll"))},initInfiniteScrolling:function(){var a=this.$canvas.find('[data-infinite="true"]:first');if((a=a.length<1?this.$canvas:a).data("fu.infinitescroll"))a.infinitescroll("enable");else{var c=this,b=$.extend({},this.infiniteScrollingOptions);b.dataSource=function(b,a){c.infiniteScrollingCallback=a,c.render({pageIncrement:1})},a.infinitescroll(b),this.infiniteScrollingCont=a}},initViewTypes:function(b){var a=[];for(var c in $.fn.repeater.viewTypes)({}).hasOwnProperty.call($.fn.repeater.viewTypes,c)&&a.push($.fn.repeater.viewTypes[c]);a.length>0?aq.call(this,0,a,b):b()},itemization:function(a){this.$count.html(void 0!==a.count?a.count:"?"),this.$end.html(void 0!==a.end?a.end:"?"),this.$start.html(void 0!==a.start?a.start:"?")},next:function(){this.$nextBtn.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.pageIncrement=1,this.$element.trigger("nextClicked.fu.repeater"),this.render({pageIncrement:this.pageIncrement})},pageInputChange:function(a,d){var b;if(a!==this.lastPageInput){this.lastPageInput=a;var c=parseInt(a,10)-1;b=c-this.currentPage,this.$element.trigger("pageChanged.fu.repeater",[c,d]),this.render({pageIncrement:b})}},pagination:function(b){this.$primaryPaging.removeClass("active"),this.$secondaryPaging.removeClass("active");var a=b.pages;this.currentPage=void 0!==b.page?b.page:NaN;var d=0===a?0:this.currentPage+1;if(a<=this.viewOptions.dropPagingCap){this.$primaryPaging.addClass("active");var e=this.$primaryPaging.find(".dropdown-menu");e.empty();for(var c=0;c<a;c++){var f=c+1;e.append('<li data-value="'+f+'"><a href="#">'+f+"</a></li>")}this.$primaryPaging.find("input.form-control").val(d)}else this.$secondaryPaging.addClass("active"),this.$secondaryPaging.val(d);this.lastPageInput=this.currentPage+1+"",this.$pages.html(""+a),this.currentPage+1<a?(this.$nextBtn.removeAttr("disabled"),this.$nextBtn.removeClass("page-end")):(this.$nextBtn.attr("disabled","disabled"),this.$nextBtn.addClass("page-end")),this.currentPage-1>=0?(this.$prevBtn.removeAttr("disabled"),this.$prevBtn.removeClass("page-end")):(this.$prevBtn.attr("disabled","disabled"),this.$prevBtn.addClass("page-end")),0!==this.pageIncrement&&(this.pageIncrement>0?this.$nextBtn.is(":disabled")?this.$prevBtn.focus():this.$nextBtn.focus():this.$prevBtn.is(":disabled")?this.$nextBtn.focus():this.$prevBtn.focus())},previous:function(){this.$nextBtn.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.pageIncrement=-1,this.$element.trigger("previousClicked.fu.repeater"),this.render({pageIncrement:this.pageIncrement})},render:function(d){this.disable();var b=!1,c=$.fn.repeater.viewTypes[this.viewType]||{},a=d||{};if(a.changeView&&this.currentView!==a.changeView){var e=this.currentView;this.currentView=a.changeView,this.viewType=this.currentView.split(".")[0],this.setViewOptions(this.currentView),this.$element.attr("data-currentview",this.currentView),this.$element.attr("data-viewtype",this.viewType),b=!0,a.viewChanged=b,this.$element.trigger("viewChanged.fu.repeater",this.currentView),this.infiniteScrollingEnabled&&this.infiniteScrolling(!1),(c=$.fn.repeater.viewTypes[this.viewType]||{}).selected&&c.selected.call(this,{prevView:e})}this.syncViewButtonState(),a.preserve=void 0!==a.preserve?a.preserve:!b,this.clear(a),(!this.infiniteScrollingEnabled||this.infiniteScrollingEnabled&&b)&&this.$loader.show().loader("play");var f=this.getDataOptions(a),g=this.viewOptions.dataSource,h=this;g(f,function(d){as.call(h,{data:d,dataOptions:f,options:a,viewChanged:b,viewTypeObj:c})})},resize:function(){for(var f,b,c,a=-1===this.viewOptions.staticHeight?this.$element.attr("data-staticheight"):this.viewOptions.staticHeight,d={},g=[],i=[],h=this.$element.parentsUntil(":visible").addBack(),e=0;e<h.length&&this.$element.is(":hidden");)$(c=h[e]).is(":hidden")&&(i.push(c.style.display),c.style.display="block",g.push(c)),e++;if(this.viewType&&(d=$.fn.repeater.viewTypes[this.viewType]||{}),void 0!==a&& !1!==a&&"false"!==a){this.$canvas.addClass("scrolling"),b={bottom:this.$viewport.css("margin-bottom"),top:this.$viewport.css("margin-top")};var j="true"===a|| !0===a?this.$element.height():parseInt(a,10),k=this.$element.find(".repeater-header").outerHeight()||0,l=this.$element.find(".repeater-footer").outerHeight()||0,m="auto"===b.bottom?0:parseInt(b.bottom,10),n="auto"===b.top?0:parseInt(b.top,10);f=j-k-l-m-n,this.$viewport.outerHeight(f)}else this.$canvas.removeClass("scrolling");d.resize&&d.resize.call(this,{height:this.$element.outerHeight(),width:this.$element.outerWidth()}),g.forEach(function(a,b){a.style.display=i[b]})},renderItems:function(a,c,h){if(a.render)a.render.call(this,{container:this.$canvas,data:c},h);else{if(a.before){var l=a.before.call(this,{container:this.$canvas,data:c});ao(this.$canvas,l)}var i=this.$canvas.find('[data-container="true"]:last'),j=i.length>0?i:this.$canvas;if(a.renderItem){var b,k=(a.repeat||"data.items").split("."),e=k[0];if("data"===e||"this"===e){b="this"===e?this:c;for(var f=k.slice(1),d=0;d<f.length;d++)if(void 0!==b[f[d]])b=b[f[d]];else{b=[],am("WARNING: Repeater unable to find property to iterate renderItem on.");break}for(var g=0;g<b.length;g++){var m=a.renderItem.call(this,{container:j,data:c,index:g,subset:b});ao(j,m)}}else am('WARNING: Repeater plugin "repeat" value must start with either "data" or "this"')}if(a.after){var n=a.after.call(this,{container:this.$canvas,data:c});ao(this.$canvas,n)}h(c)}},setViewOptions:function(a){var b={},c=a.split(".")[1];b=this.options.views&&(this.options.views[c]||this.options.views[a])||{},this.viewOptions=$.extend({},this.options,b)},viewChanged:function(b){var a=$(b.target),c=a.val();this.syncingViewButtonState||(this.isDisabled||a.parents("label:first").hasClass("disabled")?this.syncViewButtonState():this.render({changeView:c,pageIncrement:null}))},syncViewButtonState:function(){var a=this.$views.find('input[value="'+this.currentView+'"]');this.syncingViewButtonState=!0,this.$views.find("input").prop("checked",!1),this.$views.find("label.active").removeClass("active"),a.length>0&&(a.prop("checked",!0),a.parents("label:first").addClass("active")),this.syncingViewButtonState=!1}},e.prototype.runRenderer=e.prototype.renderItems,$.fn.repeater=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var f=$(this),b=f.data("fu.repeater");b||f.data("fu.repeater",b=new e(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.repeater.defaults={dataSource:function(b,a){a({count:0,end:0,items:[],page:0,pages:1,start:0})},defaultView:-1,defaultPageSize:25,dropPagingCap:10,staticHeight:-1,views:null,searchOnKeyPress:!1,allowCancel:!0},$.fn.repeater.viewTypes={},$.fn.repeater.Constructor=e,$.fn.repeater.noConflict=function(){return $.fn.repeater=al,this},$=a,$.fn.repeater&&($.fn.repeater.Constructor.prototype.list_clearSelectedItems=function(){this.$canvas.find(".repeater-list-check").remove(),this.$canvas.find(".repeater-list table tbody tr.selected").removeClass("selected")},$.fn.repeater.Constructor.prototype.list_highlightColumn=function(c,b){var a=this.$canvas.find(".repeater-list-wrapper > table tbody");(this.viewOptions.list_highlightSortedColumn||b)&&(a.find("td.sorted").removeClass("sorted"),a.find("tr").each(function(){$(this).find("td:nth-child("+(c+1)+")").filter(function(){return!$(this).parent().hasClass("empty")}).addClass("sorted")}))},$.fn.repeater.Constructor.prototype.list_getSelectedItems=function(){var a=[];return this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr.selected").each(function(){var b=$(this);a.push({data:b.data("item_data"),element:b})}),a},$.fn.repeater.Constructor.prototype.getValue=$.fn.repeater.Constructor.prototype.list_getSelectedItems,$.fn.repeater.Constructor.prototype.list_positionHeadings=function(){var a=this.$element.find(".repeater-list-wrapper"),b=a.offset().left;a.scrollLeft()>0?a.find(".repeater-list-heading").each(function(){var a=$(this),c=a.parents("th:first").offset().left-b+"px";a.addClass("shifted").css("left",c)}):a.find(".repeater-list-heading").each(function(){$(this).removeClass("shifted").css("left","")})},$.fn.repeater.Constructor.prototype.list_setSelectedItems=function(f,g){var j,b,c,d,e=this.viewOptions.list_selectable,k=this,a=f;$.isArray(a)||(a=[a]);var h=function(d){(j=(c=$(this)).data("item_data")||{})[a[b].property]===a[b].value&&i(c,a[b].selected,d)},i=function(a,d,b){var c;void 0===d||d?(g||"multi"===e||k.list_clearSelectedItems(),a.hasClass("selected")||(a.addClass("selected"),(k.viewOptions.list_frozenColumns||"multi"===k.viewOptions.list_selectable)&&((c=k.$element.find(".frozen-column-wrapper tr:nth-child("+(b+1)+")")).addClass("selected"),c.find(".repeater-select-checkbox").addClass("checked")),k.viewOptions.list_actions&&k.$element.find(".actions-column-wrapper tr:nth-child("+(b+1)+")").addClass("selected"),a.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'))):(k.viewOptions.list_frozenColumns&&((c=k.$element.find(".frozen-column-wrapper tr:nth-child("+(b+1)+")")).addClass("selected"),c.find(".repeater-select-checkbox").removeClass("checked")),k.viewOptions.list_actions&&k.$element.find(".actions-column-wrapper tr:nth-child("+(b+1)+")").removeClass("selected"),a.find(".repeater-list-check").remove(),a.removeClass("selected"))};for(b=0,d=!0===g||"multi"===e?a.length:e&&a.length>0?1:0;b<d;b++)void 0!==a[b].index?(c=this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr:nth-child("+(a[b].index+1)+")")).length>0&&i(c,a[b].selected,a[b].index):void 0!==a[b].property&& void 0!==a[b].value&&this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr").each(h)},$.fn.repeater.Constructor.prototype.list_sizeHeadings=function(){this.$element.find(".repeater-list table").find("thead th").each(function(){var a=$(this),b=a.find(".repeater-list-heading");b.css({height:a.outerHeight()}),b.outerWidth(b.data("forced-width")||a.outerWidth())})},$.fn.repeater.Constructor.prototype.list_setFrozenColumns=function(){var g=this.$canvas.find(".table-frozen"),h=this.$element.find(".repeater-canvas"),c=this.$element.find(".repeater-list .repeater-list-wrapper > table"),i=this.$element.find(".repeater-list"),b=this.viewOptions.list_frozenColumns,k=this;if("multi"===this.viewOptions.list_selectable&&(b+=1,h.addClass("multi-select-enabled")),g.length<1){var j=$('<div class="frozen-column-wrapper"></div>').insertBefore(c),a=c.clone().addClass("table-frozen");a.find("th:not(:lt("+b+"))").remove(),a.find("td:not(:nth-child(n+0):nth-child(-n+"+b+"))").remove();var d=a.clone().removeClass("table-frozen");d.find("tbody").remove();var e=$('<div class="frozen-thead-wrapper"></div>').append(d),f=e.find("th label.checkbox-custom.checkbox-inline");f.attr("id",f.attr("id")+"_cloned"),j.append(a),i.append(e),this.$canvas.addClass("frozen-enabled")}this.list_sizeFrozenColumns(),$(".frozen-thead-wrapper .repeater-list-heading").on("click",function(){var a=$(this).parent("th").index();a+=1,k.$element.find(".repeater-list-wrapper > table thead th:nth-child("+a+") .repeater-list-heading")[0].click()})},$.fn.repeater.Constructor.prototype.list_positionColumns=function(){var a=this.$element.find(".repeater-canvas"),c=a.scrollTop(),b=a.scrollLeft(),d=this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable,e=this.viewOptions.list_actions,g="ltr"===this.viewOptions.list_direction,h=this.$element.find(".repeater-canvas").outerWidth(),f=this.$element.find(".repeater-list .repeater-list-wrapper > table").outerWidth()-(h-(this.$element.find(".table-actions")?this.$element.find(".table-actions").outerWidth():0))>=b;c>0?a.find(".repeater-list-heading").css("top",c):a.find(".repeater-list-heading").css("top","0"),g?(d&&(a.find(".frozen-thead-wrapper").css("left",b),a.find(".frozen-column-wrapper").css("left",b)),e&&f&&(a.find(".actions-thead-wrapper").css("right",-b),a.find(".actions-column-wrapper").css("right",-b))):(d&&(a.find(".frozen-thead-wrapper").css("right",b),a.find(".frozen-column-wrapper").css("right",b)),e&&f&&(a.find(".actions-thead-wrapper").css("left",-b),a.find(".actions-column-wrapper").css("left",-b)))},$.fn.repeater.Constructor.prototype.list_createItemActions=function(){var g,h,i=this,b=this.$element.find(".repeater-list .repeater-list-wrapper > table"),d=this.$canvas.find(".table-actions");Array.isArray(this.viewOptions.list_actions.items)&&(this.viewOptions.list_actions.items={common:this.viewOptions.list_actions.items,default:this.viewOptions.list_actions.items});var e={};if($.each(this.viewOptions.list_actions.items,function(b,c){var d="";for(g=0,h=c.length;g<h;g++){var a=c[g];a.html,d+='<li><a href="#" data-action-list="'+b+'" data-action="'+a.name+'" class="action-item"> '+a.html+"</a></li>"}e[b]='<div class="btn-group"><button type="button" class="btn btn-xs btn-default dropdown-toggle repeater-actions-button"data-toggle="dropdown" data-flip="auto" aria-expanded="false"><span class="caret"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu">'+d+"</ul></div>"}),d.length<1){var f=$('<div class="actions-column-wrapper" style="width: '+this.list_actions_width+'px"></div>').insertBefore(b),a=b.clone().addClass("table-actions");if(a.find("th:not(:last-child)").remove(),a.find("tr td:not(:last-child)").remove(),"multi"===this.viewOptions.list_selectable||"action"===this.viewOptions.list_selectable)a.find("thead tr").html('<th><div class="repeater-list-heading">'+e.common+"</div></th>"),"action"!==this.viewOptions.list_selectable&&a.find("thead .btn").attr("disabled","disabled");else{var c=this.viewOptions.list_actions.label||'<span class="actions-hidden">a</span>';a.find("thead tr").addClass("empty-heading").html("<th>"+c+'<div class="repeater-list-heading">'+c+"</div></th>")}a.find("td").each(function(c){let a=b.find("tbody tr").eq(c).data("action-list");a&&e.hasOwnProperty(a)||(a="default"),$(this).html(e[a]),$(this).find("a").attr("data-row",c+1),b.find("tbody tr").eq(c).data("action-list",a)}),f.append(a),this.$canvas.addClass("actions-enabled")}this.list_sizeActionsTable(),this.$element.find(".table-actions tbody .action-item").on("click",function(a){if(!i.isDisabled){var b=$(this).data("action-list"),c=$(this).data("action"),d=$(this).data("row"),e={actionList:b,actionName:c,rows:[d]};i.list_getActionItems(e,a)}}),this.$element.find(".table-actions thead .action-item").on("click",function(b){if(!i.isDisabled){var c={actionList:"common",actionName:$(this).data("action"),rows:[]},a=".repeater-list-wrapper > table .selected";"action"===i.viewOptions.list_selectable&&(a=".repeater-list-wrapper > table tr"),i.$element.find(a).each(function(a){c.rows.push($(this).index()+1)}),i.list_getActionItems(c,b)}})},$.fn.repeater.Constructor.prototype.list_getActionItems=function(b,f){for(var a=[],d=$.grep(this.viewOptions.list_actions.items[b.actionList],function(a){return a.name===b.actionName})[0],c=0,g=b.rows.length;c<g;c++){var e=this.$canvas.find(".repeater-list-wrapper > table tbody tr:nth-child("+b.rows[c]+")");a.push({item:e,rowData:e.data("item_data")})}if(1===a.length&&(a=a[0]),d.clickAction){var h=function(){};d.clickAction(a,h,f)}},$.fn.repeater.Constructor.prototype.list_sizeActionsTable=function(){var b=this.$element.find(".repeater-list table.table-actions"),a=b.find("thead tr th"),c=this.$element.find(".repeater-list-wrapper > table");a.outerHeight(c.find("thead tr th").outerHeight()),a.find(".repeater-list-heading").outerHeight(a.outerHeight()),b.find("tbody tr td:first-child").each(function(a){$(this).outerHeight(c.find("tbody tr:eq("+a+") td").outerHeight())})},$.fn.repeater.Constructor.prototype.list_sizeFrozenColumns=function(){var a=this.$element.find(".repeater-list .repeater-list-wrapper > table");this.$element.find(".repeater-list table.table-frozen tr").each(function(b){$(this).height(a.find("tr:eq("+b+")").height())});var b=a.find("td:eq(0)").outerWidth();this.$element.find(".frozen-column-wrapper, .frozen-thead-wrapper").width(b)},$.fn.repeater.Constructor.prototype.list_frozenOptionsInitialize=function(){var a=this.$element.find(".frozen-column-wrapper .checkbox-inline"),b=this.$element.find(".header-checkbox .checkbox-custom"),e=this.$element.find(".repeater-list table"),f=this;this.$element.find("tr.selectable").on("mouseover mouseleave",function(b){var a=$(this).index();a+=1,"mouseover"===b.type?e.find("tbody tr:nth-child("+a+")").addClass("hovered"):e.find("tbody tr:nth-child("+a+")").removeClass("hovered")}),b.checkbox(),a.checkbox();var c=this.$element.find(".table-frozen tbody .checkbox-inline"),d=this.$element.find(".frozen-thead-wrapper thead .checkbox-inline input");function g(a){f.list_revertingCheckbox=!0,a.checkbox("toggle"),delete f.list_revertingCheckbox}c.on("change",function(b){if(b.preventDefault(),!f.list_revertingCheckbox){if(f.isDisabled)g($(b.currentTarget));else{var a=$(this).attr("data-row");a=parseInt(a,10)+1,f.$element.find(".repeater-list-wrapper > table tbody tr:nth-child("+a+")").click();var e=f.$element.find(".table-frozen tbody .checkbox-inline.checked").length;0===e?(d.prop("checked",!1),d.prop("indeterminate",!1)):e===c.length?(d.prop("checked",!0),d.prop("indeterminate",!1)):(d.prop("checked",!1),d.prop("indeterminate",!0))}}}),d.on("change",function(b){f.list_revertingCheckbox||(f.isDisabled?g($(b.currentTarget)):$(this).is(":checked")?(f.$element.find(".repeater-list-wrapper > table tbody tr:not(.selected)").click(),f.$element.trigger("selected.fu.repeaterList",a)):(f.$element.find(".repeater-list-wrapper > table tbody tr.selected").click(),f.$element.trigger("deselected.fu.repeaterList",a)))})},$.fn.repeater.defaults=$.extend({},$.fn.repeater.defaults,{list_direction:"ltr",list_columnRendered:null,list_columnSizing:!0,list_columnSyncing:!0,list_highlightSortedColumn:!0,list_infiniteScroll:!1,list_noItemsHTML:"no items found",list_selectable:!1,list_sortClearing:!1,list_rowRendered:null,list_frozenColumns:0,list_actions:!1}),$.fn.repeater.viewTypes.list={cleared:function(){this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},dataOptions:function(a){return this.list_sortDirection&&(a.sortDirection=this.list_sortDirection),this.list_sortProperty&&(a.sortProperty=this.list_sortProperty),a},enabled:function(a){this.viewOptions.list_actions&&(a.status?(this.$canvas.find(".repeater-actions-button").removeAttr("disabled"),aC.call(this)):this.$canvas.find(".repeater-actions-button").attr("disabled","disabled"))},initialize:function(b,a){this.list_sortDirection=null,this.list_sortProperty=null,this.list_specialBrowserClass=aB(),this.list_actions_width=void 0!==this.viewOptions.list_actions.width?this.viewOptions.list_actions.width:37,this.list_noItems=!1,a()},resize:function(){aA.call(this,this.$element.find(".repeater-list-wrapper > table thead tr")),this.viewOptions.list_actions&&this.list_sizeActionsTable(),(this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable)&&this.list_sizeFrozenColumns(),this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},selected:function(){var b,a=this.viewOptions.list_infiniteScroll;this.list_firstRender=!0,this.$loader.addClass("noHeader"),a&&(b="object"==typeof a?a:{},this.infiniteScrolling(!0,b))},before:function(a){var c,b=a.container.find(".repeater-list"),d=this;return a.data.count>0?this.list_noItems=!1:this.list_noItems=!0,b.length<1&&((b=$('<div class="repeater-list '+this.list_specialBrowserClass+'" data-preserve="shallow"><div class="repeater-list-wrapper" data-infinite="true" data-preserve="shallow"><table aria-readonly="true" class="table" data-preserve="shallow" role="grid"></table></div></div>')).find(".repeater-list-wrapper").on("scroll.fu.repeaterList",function(){d.viewOptions.list_columnSyncing&&d.list_positionHeadings()}),(d.viewOptions.list_frozenColumns||d.viewOptions.list_actions||"multi"===d.viewOptions.list_selectable)&&a.container.on("scroll.fu.repeaterList",function(){d.list_positionColumns()}),a.container.append(b)),a.container.removeClass("actions-enabled actions-enabled multi-select-enabled"),b.find(".frozen-thead-wrapper").remove(),b.find(".frozen-column-wrapper").remove(),b.find(".actions-column-wrapper").remove(),c=b.find("table"),az.call(this,c,a.data),ay.call(this,c,a.data),!1},renderItem:function(a){return ax.call(this,a.container,a.subset,a.index),!1},after:function(){var a;return(this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable)&&!this.list_noItems&&this.list_setFrozenColumns(),this.viewOptions.list_actions&&!this.list_noItems&&(this.list_createItemActions(),this.list_sizeActionsTable()),(this.viewOptions.list_frozenColumns||this.viewOptions.list_actions||"multi"===this.viewOptions.list_selectable)&&!this.list_noItems&&(this.list_positionColumns(),this.list_frozenOptionsInitialize()),this.viewOptions.list_columnSyncing&&(this.list_sizeHeadings(),this.list_positionHeadings()),(a=this.$canvas.find(".repeater-list-wrapper > table .repeater-list-heading.sorted")).length>0&&this.list_highlightColumn(a.data("fu_item_index")),!1}}),at=function(c,b){if(!b)return!1;if(!c||b.length!==c.length)return!0;for(var a=0,e=b.length;a<e;a++){if(!c[a])return!0;for(var d in b[a])if(b[a].hasOwnProperty(d)&&c[a][d]!==b[a][d])return!0}return!1},au=function(h,i,e,a,b){var f=a[b].className,c=i[e][a[b].property],d=$("<td></td>"),g=a[b]._auto_width,j=a[b].property;if(!1!==this.viewOptions.list_actions&&"@_ACTIONS_@"===j&&(c='<div class="repeater-list-actions-placeholder" style="width: '+this.list_actions_width+'px"></div>'),c=void 0!==c?c:"",d.addClass(void 0!==f?f:"").append(c),void 0!==g&&d.outerWidth(g),h.append(d),"multi"===this.viewOptions.list_selectable&&"@_CHECKBOX_@"===a[b].property){var k='<label data-row="'+e+'" class="checkbox-custom checkbox-inline body-checkbox repeater-select-checkbox"><input class="sr-only" type="checkbox"></label>';d.html(k)}return d},av=function(h,b,a){var e,i,f,j,g,m="glyphicon-chevron-down",k=".glyphicon.rlc:first",n="glyphicon-chevron-up",c=$('<div class="repeater-list-heading"><span class="glyphicon rlc"></span></div>'),o=this.$element.attr("id")+"_checkall",d=$("<th></th>"),p=this;if(c.data("fu_item_index",a),c.prepend(b[a].label),d.html(c.html()).find("[id]").removeAttr("id"),"@_CHECKBOX_@"!==b[a].property?d.append(c):d.append('<div class="repeater-list-heading header-checkbox"><label id="'+o+'" class="checkbox-custom checkbox-inline"><input class="sr-only" type="checkbox" value=""><span class="checkbox-label">&nbsp;</span></label></div>'),e=d.add(c),j=c.find(k),g=j.add(d.find(k)),this.viewOptions.list_actions&&"@_ACTIONS_@"===b[a].property){var l=this.list_actions_width;d.css("width",l),c.css("width",l)}void 0!==(i=b[a].className)&&e.addClass(i),(f=b[a].sortable)&&(e.addClass("sortable"),c.on("click.fu.repeaterList",function(){p.isDisabled||(p.list_sortProperty="string"==typeof f?f:b[a].property,c.hasClass("sorted")?j.hasClass(n)?(g.removeClass(n).addClass(m),p.list_sortDirection="desc"):p.viewOptions.list_sortClearing?(e.removeClass("sorted"),g.removeClass(m),p.list_sortDirection=null,p.list_sortProperty=null):(g.removeClass(m).addClass(n),p.list_sortDirection="asc"):(h.find("th, .repeater-list-heading").removeClass("sorted"),g.removeClass(m).addClass(n),p.list_sortDirection="asc",e.addClass("sorted")),p.render({clearInfinite:!0,pageIncrement:null}))})),("asc"===b[a].sortDirection||"desc"===b[a].sortDirection)&&(h.find("th, .repeater-list-heading").removeClass("sorted"),e.addClass("sortable sorted"),"asc"===b[a].sortDirection?(g.addClass(n),this.list_sortDirection="asc"):(g.addClass(m),this.list_sortDirection="desc"),this.list_sortProperty="string"==typeof f?f:b[a].property),h.append(d)},aw=function(b){var f="multi"===b.viewOptions.list_selectable,g=b.viewOptions.list_actions,c=b.$element;if(!b.isDisabled){var a=$(this),d=$(this).index()+1,e=c.find(".frozen-column-wrapper tr:nth-child("+d+")"),h=c.find(".actions-column-wrapper tr:nth-child("+d+")"),i=c.find(".frozen-column-wrapper tr:nth-child("+d+") .checkbox-inline");a.is(".selected")?(a.removeClass("selected"),f?(i.click(),e.removeClass("selected"),g&&h.removeClass("selected")):a.find(".repeater-list-check").remove(),c.trigger("deselected.fu.repeaterList",a)):(f?(i.click(),a.addClass("selected"),e.addClass("selected"),g&&h.addClass("selected")):(b.$canvas.find(".repeater-list-check").remove(),b.$canvas.find(".repeater-list tbody tr.selected").each(function(){$(this).removeClass("selected"),c.trigger("deselected.fu.repeaterList",$(this))}),a.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'),a.addClass("selected"),e.addClass("selected")),c.trigger("selected.fu.repeaterList",a)),aC.call(b)}},ax=function(g,c,d){var a=$("<tr></tr>");if(this.viewOptions.list_selectable&&(a.data("item_data",c[d]),"action"!==this.viewOptions.list_selectable)){a.addClass("selectable"),a.attr("tabindex",0);var j=this;a.on("click.fu.repeaterList",function(){aw.call(this,j)}),a.keyup(function(b){13===b.keyCode&&a.trigger("click.fu.repeaterList")})}this.viewOptions.list_actions&&!this.viewOptions.list_selectable&&a.data("item_data",c[d]);for(var e=[],f=0,h=this.list_columns.length;f<h;f++)e.push(au.call(this,a,c,d,this.list_columns,f));if(g.append(a),this.viewOptions.list_columnRendered)for(var b=0,i=e.length;b<i;b++)"@_CHECKBOX_@"===this.list_columns[b].property||"@_ACTIONS_@"===this.list_columns[b].property||this.viewOptions.list_columnRendered({container:a,columnAttr:this.list_columns[b].property,item:e[b],rowData:c[d]},function(){});this.viewOptions.list_rowRendered&&this.viewOptions.list_rowRendered({container:g,item:a,rowData:c[d]},function(){})},ay=function(d,a){var c,b=d.find("tbody");b.length<1&&(b=$('<tbody data-container="true"></tbody>'),d.append(b)),"string"==typeof a.error&&a.error.length>0?((c=$('<tr class="empty text-danger"><td colspan="'+this.list_columns.length+'"></td></tr>')).find("td").append(a.error),b.append(c)):a.items&&a.items.length<1&&((c=$('<tr class="empty"><td colspan="'+this.list_columns.length+'"></td></tr>')).find("td").append(this.viewOptions.list_noItemsHTML),b.append(c))},az=function(e,g){var b,f,d,a=g.columns||[],c=e.find("thead");if(this.list_firstRender||at(this.list_columns,a)||0===c.length){if(c.remove(),"multi"===this.viewOptions.list_selectable){var h={label:"c",property:"@_CHECKBOX_@",sortable:!1};a.splice(0,0,h)}if(this.list_columns=a,this.list_firstRender=!1,this.$loader.removeClass("noHeader"),this.viewOptions.list_actions){var i={label:this.viewOptions.list_actions.label||'<span class="actions-hidden">a</span>',property:"@_ACTIONS_@",sortable:!1,width:this.list_actions_width};a.push(i)}for(b=0,d=(c=$('<thead data-preserve="deep"><tr></tr></thead>')).find("tr"),f=a.length;b<f;b++)av.call(this,d,a,b);if(e.prepend(c),"multi"===this.viewOptions.list_selectable){var j=this.$element.find(".repeater-list-wrapper .header-checkbox").outerWidth();$.grep(a,function(a){return"@_CHECKBOX_@"===a.property})[0].width=j}aA.call(this,d)}},aA=function(f){var a,d,b,e,c=[],g=this;if(this.viewOptions.list_columnSizing&&(a=0,e=0,f.find("th").each(function(){var d,b=$(this);if(void 0!==g.list_columns[a].width)d=g.list_columns[a].width,b.outerWidth(d),e+=b.outerWidth(),g.list_columns[a]._auto_width=d;else{var f=b.find(".repeater-list-heading").outerWidth();c.push({col:b,index:a,minWidth:f})}a++}),(d=c.length)>0))for(a=0,b=Math.floor((this.$canvas.find(".repeater-list-wrapper").outerWidth()-e)/d);a<d;a++)c[a].minWidth>b&&(b=c[a].minWidth),c[a].col.outerWidth(b),this.list_columns[c[a].index]._auto_width=b},aB=function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE "),c=a.indexOf("Firefox");return b>0?"ie-"+parseInt(a.substring(b+5,a.indexOf(".",b)),10):c>0?"firefox":""},aC=function(){var a=".repeater-list-wrapper > table .selected",b=this.$element.find(".table-actions");"action"===this.viewOptions.list_selectable&&(a=".repeater-list-wrapper > table tr"),this.$canvas.find(a).length>0?b.find("thead .btn").removeAttr("disabled"):b.find("thead .btn").attr("disabled","disabled")},function($){$.fn.repeater&&($.fn.repeater.Constructor.prototype.thumbnail_clearSelectedItems=function(){this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").removeClass("selected")},$.fn.repeater.Constructor.prototype.thumbnail_getSelectedItems=function(){var a=[];return this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){a.push($(this))}),a},$.fn.repeater.Constructor.prototype.thumbnail_setSelectedItems=function(a,f){var b,c,d,g,e=this.viewOptions.thumbnail_selectable,k=this;function h(){if(g===a[b].index)return c=$(this),!1;g++}function i(){(c=$(this)).is(a[b].selector)&&j(c,a[b].selected)}function j(b,a){(a=void 0===a||a)?(f||"multi"===e||k.thumbnail_clearSelectedItems(),b.addClass("selected")):b.removeClass("selected")}for($.isArray(a)||(a=[a]),d=!0===f||"multi"===e?a.length:e&&a.length>0?1:0,b=0;b<d;b++)void 0!==a[b].index?(c=$(),g=0,this.$canvas.find(".repeater-thumbnail-cont .selectable").each(h),c.length>0&&j(c,a[b].selected)):a[b].selector&&this.$canvas.find(".repeater-thumbnail-cont .selectable").each(i)},$.fn.repeater.defaults=$.extend({},$.fn.repeater.defaults,{thumbnail_alignment:"left",thumbnail_infiniteScroll:!1,thumbnail_itemRendered:null,thumbnail_noItemsHTML:"no items found",thumbnail_endItemsHTML:"---------",thumbnail_selectable:!1,thumbnail_template:'<img height="75" src="{{src}}" width="65"><span>{{name}}</span>'}),$.fn.repeater.viewTypes.thumbnail={selected:function(){var b,a=this.viewOptions.thumbnail_infiniteScroll;a&&(b="object"==typeof a?a:{},this.infiniteScrolling(!0,b))},before:function(f){var d,a=this.viewOptions.thumbnail_alignment,b=this.$canvas.find(".repeater-thumbnail-cont"),e=f.data,c={};return b.length<1?(b=$('<div class="clearfix repeater-thumbnail-cont" data-container="true" data-infinite="true" data-preserve="shallow"></div>'),a&&"none"!==a?(a=({center:1,justify:1,left:1,right:1})[a]?a:"justify",b.addClass("align-"+a),this.thumbnail_injectSpacers=!0):this.thumbnail_injectSpacers=!1,c.item=b):c.action="none",e.items&&e.items.length<1?((d=$('<div class="empty"></div>')).append(this.viewOptions.thumbnail_noItemsHTML),b.append(d)):b.find(".empty:first").remove(),c},renderItem:function(c){var h=this.viewOptions.thumbnail_selectable,j="selected",k=this,b=$(a(c.subset[c.index],'<div class="thumbnail repeater-thumbnail">'+this.viewOptions.thumbnail_template+"</div>"));if(this.viewOptions.thumbnail_itemRendered&&this.viewOptions.thumbnail_itemRendered({container:c.container,item:b,itemData:c.subset[c.index]},function(){}),b.data("item_data",c.data.items[c.index]),this.viewOptions.list_actions){Array.isArray(this.viewOptions.list_actions.items)&&(this.viewOptions.list_actions.items={common:this.viewOptions.list_actions.items,default:this.viewOptions.list_actions.items});let d=b.data("action-list");d&&this.viewOptions.list_actions.items.hasOwnProperty(d)||(d="default"),b.data("action-list",d);var e="";let f=this.viewOptions.list_actions.items[d];for(i=0,length=f.length;i<length;i++){var g=f[i];e+='<li><a href="#" data-action-list="'+d+'" data-action="'+g.name+'" class="action-item"> '+g.html+"</a></li>"}let i='<div class="btn-group"><button type="button" class="btn btn-xs btn-default dropdown-toggle repeater-actions-button"data-toggle="dropdown" data-flip="auto" aria-expanded="false"><span class="caret"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu">'+e+"</ul></div>";b.append(i)}return b.find(".action-item").on("click",function(a){if(a.preventDefault(),!k.isDisabled){var g=$(this).data("action"),d=$(this).data("action-list"),c=$.grep(k.viewOptions.list_actions.items[d],function(a){return a.name===g})[0],e={item:b,rowData:b.data("item_data")};if(c.clickAction){var f=function(){};c.clickAction(e,f,a)}}}),h&&(b.addClass("selectable"),b.on("click",function(){k.isDisabled||(b.hasClass(j)?(b.removeClass(j),k.$element.trigger("deselected.fu.repeaterThumbnail",b)):("multi"!==h&&k.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){var a=$(this);a.removeClass(j),k.$element.trigger("deselected.fu.repeaterThumbnail",a)}),b.addClass(j),k.$element.trigger("selected.fu.repeaterThumbnail",b)))})),c.container.append(b),this.thumbnail_injectSpacers&&b.after('<span class="spacer">&nbsp;</span>'),!1}});function a(d,a){var b=!1;function c(){var e,c,f;c=a.indexOf("{{"),e=a.indexOf("}}",c+2),c> -1&&e> -1?(f=void 0!==d[f=$.trim(a.substring(c+2,e))]?d[f]:"",a=a.substring(0,c)+f+a.substring(e+2)):b=!0}for(;!b&&a.search("{{")>=0;)c(a);return a}}(a),$=a,aD=$.fn.scheduler,p=function(a,b){var d=this;this.$element=$(a),this.options=$.extend({},$.fn.scheduler.defaults,b),this.$startDate=this.$element.find(".start-datetime .start-date"),this.$startTime=this.$element.find(".start-datetime .start-time"),this.$timeZone=this.$element.find(".timezone-container .timezone"),this.$repeatIntervalPanel=this.$element.find(".repeat-every-panel"),this.$repeatIntervalSelect=this.$element.find(".repeat-options"),this.$repeatIntervalSpinbox=this.$element.find(".repeat-every"),this.$repeatIntervalTxt=this.$element.find(".repeat-every-text"),this.$end=this.$element.find(".repeat-end"),this.$endSelect=this.$end.find(".end-options"),this.$endAfter=this.$end.find(".end-after"),this.$endDate=this.$end.find(".end-on-date"),this.$recurrencePanels=this.$element.find(".repeat-panel"),this.$repeatIntervalSelect.selectlist(),this.$element.find(".selectlist").selectlist(),this.$startDate.datepicker(this.options.startDateOptions);var c="function"==typeof this.options.startDateChanged?this.options.startDateChanged:this._guessEndDate;this.$startDate.on("change changed.fu.datepicker dateClicked.fu.datepicker",$.proxy(c,this)),this.$startTime.combobox(),""===this.$startTime.find("input").val()&&this.$startTime.combobox("selectByIndex",0),"0"===this.$repeatIntervalSpinbox.find("input").val()?this.$repeatIntervalSpinbox.spinbox({value:1,min:1,limitToStep:!0}):this.$repeatIntervalSpinbox.spinbox({min:1,limitToStep:!0}),this.$endAfter.spinbox({value:1,min:1,limitToStep:!0}),this.$endDate.datepicker(this.options.endDateOptions),this.$element.find(".radio-custom").radio(),this.$repeatIntervalSelect.on("changed.fu.selectlist",$.proxy(this.repeatIntervalSelectChanged,this)),this.$endSelect.on("changed.fu.selectlist",$.proxy(this.endSelectChanged,this)),this.$element.find(".repeat-days-of-the-week .btn-group .btn").on("change.fu.scheduler",function(a,b){d.changed(a,b,!0)}),this.$element.find(".combobox").on("changed.fu.combobox",$.proxy(this.changed,this)),this.$element.find(".datepicker").on("changed.fu.datepicker",$.proxy(this.changed,this)),this.$element.find(".datepicker").on("dateClicked.fu.datepicker",$.proxy(this.changed,this)),this.$element.find(".selectlist").on("changed.fu.selectlist",$.proxy(this.changed,this)),this.$element.find(".spinbox").on("changed.fu.spinbox",$.proxy(this.changed,this)),this.$element.find(".repeat-monthly .radio-custom, .repeat-yearly .radio-custom").on("change.fu.scheduler",$.proxy(this.changed,this))},aE=function(c,d){var a,b="";return b+=c.getFullYear(),b+=d,b+=(a=c.getMonth()+1)<10?"0"+a:a,b+=d,b+=(a=c.getDate())<10?"0"+a:a},v=6e4,w=60*v,x=24*w,q=7*x,aF={secondly:1e3,minutely:v,hourly:w,daily:x,weekly:q,monthly:5*q,yearly:52*q},p.prototype={constructor:p,destroy:function(){var a;return this.$element.find("input").each(function(){$(this).attr("value",$(this).val())}),this.$element.find(".datepicker .calendar").empty(),a=this.$element[0].outerHTML,this.$element.find(".combobox").combobox("destroy"),this.$element.find(".datepicker").datepicker("destroy"),this.$element.find(".selectlist").selectlist("destroy"),this.$element.find(".spinbox").spinbox("destroy"),this.$element.find(".radio-custom").radio("destroy"),this.$element.remove(),a},changed:function(a,b,c){c||a.stopPropagation(),this.$element.trigger("changed.fu.scheduler",{data:void 0!==b?b:$(a.currentTarget).data(),originalEvent:a,value:this.getValue()})},disable:function(){this.toggleState("disable")},enable:function(){this.toggleState("enable")},setUtcTime:function(g,h,f){var d=g.split("-"),c=h.split(":"),a=new Date(Date.UTC(d[0],d[1]-1,d[2],c[0],c[1],c[2]?c[2]:0));if("Z"===f)a.setUTCHours(a.getUTCHours()+0);else{var b=[];b[0]="(.)",b[1]=".*?",b[2]="\\d",b[3]=".*?",b[4]="(\\d)";var e=new RegExp(b.join(""),["i"]).exec(f);if(null!==e){var i=e[1],j=e[2],k="+"===i?1:-1;a.setUTCHours(a.getUTCHours()+k*parseInt(j,10))}}var l=a.getTimezoneOffset();return a.setMinutes(l),a},endSelectChanged:function(c,b){var a;a=b?b.value:this.$endSelect.selectlist("selectedItem").value,this.$endAfter.parent().addClass("hidden"),this.$endAfter.parent().attr("aria-hidden","true"),this.$endDate.parent().addClass("hidden"),this.$endDate.parent().attr("aria-hidden","true"),"after"===a?(this.$endAfter.parent().removeClass("hide hidden"),this.$endAfter.parent().attr("aria-hidden","false")):"date"===a&&(this.$endDate.parent().removeClass("hide hidden"),this.$endDate.parent().attr("aria-hidden","false"))},_guessEndDate:function(){var d,e,f,a=this.$repeatIntervalSelect.selectlist("selectedItem").value,b=new Date(this.$endDate.datepicker("getDate")),g=new Date(this.$startDate.datepicker("getDate")),c=this.$repeatIntervalSpinbox.find("input").val();"none"!==a&&b<=g&&(this.$repeatIntervalSpinbox.is(":visible")||(c=1),"weekdays"===a&&(c=1,a="weekly"),b=(d=g,e=a,f=c,new Date(d.getTime()+aF[e]*f)),this.$endDate.datepicker("setDate",b))},getValue:function(){var b,j,e,m,n,g,h,d,i,f=this.$repeatIntervalSpinbox.spinbox("value"),a="",c=this.$repeatIntervalSelect.selectlist("selectedItem").value;b=this.$startTime.combobox("selectedItem").value?(b=this.$startTime.combobox("selectedItem").value).toLowerCase():this.$startTime.combobox("selectedItem").text.toLowerCase();var k=this.$timeZone.selectlist("selectedItem");d=""+aE(this.$startDate.datepicker("getDate"),"-"),d+="T",m=b.search("am")>=0,n=b.search("pm")>=0,b=$.trim(b.replace(/am/g,"").replace(/pm/g,"")).split(":"),b[0]=parseInt(b[0],10),b[1]=parseInt(b[1],10),m&&b[0]>11?b[0]=0:n&&b[0]<12&&(b[0]+=12),d+=b[0]<10?"0"+b[0]:b[0],d+=":",d+=b[1]<10?"0"+b[1]:b[1],d+="+00:00"===k.offset?"Z":k.offset,"none"===c?a="FREQ=DAILY;INTERVAL=1;COUNT=1;":"secondly"===c?(a="FREQ=SECONDLY;",a+="INTERVAL="+f+";"):"minutely"===c?(a="FREQ=MINUTELY;",a+="INTERVAL="+f+";"):"hourly"===c?(a="FREQ=HOURLY;",a+="INTERVAL="+f+";"):"daily"===c?(a+="FREQ=DAILY;",a+="INTERVAL="+f+";"):"weekdays"===c?(a+="FREQ=WEEKLY;",a+="BYDAY=MO,TU,WE,TH,FR;",a+="INTERVAL=1;"):"weekly"===c?(e=[],this.$element.find(".repeat-days-of-the-week .btn-group input:checked").each(function(){e.push($(this).data().value)}),a+="FREQ=WEEKLY;",a+="BYDAY="+e.join(",")+";",a+="INTERVAL="+f+";"):"monthly"===c?(a+="FREQ=MONTHLY;",a+="INTERVAL="+f+";","bymonthday"===(i=this.$element.find("input[name=repeat-monthly]:checked").val())?a+="BYMONTHDAY="+(j=parseInt(this.$element.find(".repeat-monthly-date .selectlist").selectlist("selectedItem").text,10))+";":"bysetpos"===i&&(e=this.$element.find(".repeat-monthly-day .month-days").selectlist("selectedItem").value,h=this.$element.find(".repeat-monthly-day .month-day-pos").selectlist("selectedItem").value,a+="BYDAY="+e+";",a+="BYSETPOS="+h+";")):"yearly"===c&&(a+="FREQ=YEARLY;","bymonthday"===(i=this.$element.find("input[name=repeat-yearly]:checked").val())?(g=this.$element.find(".repeat-yearly-date .year-month").selectlist("selectedItem").value,j=this.$element.find(".repeat-yearly-date .year-month-day").selectlist("selectedItem").text,a+="BYMONTH="+g+";",a+="BYMONTHDAY="+j+";"):"bysetpos"===i&&(e=this.$element.find(".repeat-yearly-day .year-month-days").selectlist("selectedItem").value,h=this.$element.find(".repeat-yearly-day .year-month-day-pos").selectlist("selectedItem").value,g=this.$element.find(".repeat-yearly-day .year-month").selectlist("selectedItem").value,a+="BYDAY="+e+";",a+="BYSETPOS="+h+";",a+="BYMONTH="+g+";"));var o=this.$endSelect.selectlist("selectedItem").value,l="";return"none"!==c&&("after"===o?l="COUNT="+this.$endAfter.spinbox("value")+";":"date"===o&&(l="UNTIL="+aE(this.$endDate.datepicker("getDate"),"")+";")),a+=l,{startDateTime:d,timeZone:k,recurrencePattern:a=";"===a.substring(a.length-1)?a.substring(0,a.length-1):a}},repeatIntervalSelectChanged:function(e,b){var d,a,c;switch(b?(a=b.value,c=b.text):(a=(d=this.$repeatIntervalSelect.selectlist("selectedItem")).value||"",c=d.text||""),this.$repeatIntervalTxt.text(c),a.toLowerCase()){case"hourly":case"daily":case"weekly":case"monthly":this.$repeatIntervalPanel.removeClass("hide hidden"),this.$repeatIntervalPanel.attr("aria-hidden","false");break;default:this.$repeatIntervalPanel.addClass("hidden"),this.$repeatIntervalPanel.attr("aria-hidden","true")}this.$recurrencePanels.addClass("hidden"),this.$recurrencePanels.attr("aria-hidden","true"),this.$element.find(".repeat-"+a).removeClass("hide hidden"),this.$element.find(".repeat-"+a).attr("aria-hidden","false"),"none"===a?(this.$end.addClass("hidden"),this.$end.attr("aria-hidden","true")):(this.$end.removeClass("hide hidden"),this.$end.attr("aria-hidden","false")),this._guessEndDate()},_parseAndSetRecurrencePattern:function(h,i){var a={},c=0,b="",e=h.toUpperCase().split(";");for(c=0;c<e.length;c++)""!==e[c]&&(a[(b=e[c].split("="))[0]]=b[1]);if("DAILY"===a.FREQ)b="MO,TU,WE,TH,FR"===a.BYDAY?"weekdays":"1"===a.INTERVAL&&"1"===a.COUNT?"none":"daily";else if("SECONDLY"===a.FREQ)b="secondly";else if("MINUTELY"===a.FREQ)b="minutely";else if("HOURLY"===a.FREQ)b="hourly";else if("WEEKLY"===a.FREQ){if(b="weekly",a.BYDAY){if("MO,TU,WE,TH,FR"===a.BYDAY)b="weekdays";else{var f=this.$element.find(".repeat-days-of-the-week .btn-group");for(f.find("label").removeClass("active"),m=a.BYDAY.split(","),c=0;c<m.length;c++)f.find('input[data-value="'+m[c]+'"]').prop("checked",!0).parent().addClass("active")}}}else if("MONTHLY"===a.FREQ){if(this.$element.find(".repeat-monthly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-monthly label.radio-custom").removeClass("checked"),a.BYMONTHDAY)(n=this.$element.find(".repeat-monthly-date")).find("input").addClass("checked").prop("checked",!0),n.find("label.radio-custom").addClass("checked"),n.find(".selectlist").selectlist("selectByValue",a.BYMONTHDAY);else if(a.BYDAY){var d=this.$element.find(".repeat-monthly-day");d.find("input").addClass("checked").prop("checked",!0),d.find("label.radio-custom").addClass("checked"),a.BYSETPOS&&d.find(".month-day-pos").selectlist("selectByValue",a.BYSETPOS),d.find(".month-days").selectlist("selectByValue",a.BYDAY)}b="monthly"}else"YEARLY"===a.FREQ?(this.$element.find(".repeat-yearly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-yearly label.radio-custom").removeClass("checked"),a.BYMONTHDAY?((o=this.$element.find(".repeat-yearly-date")).find("input").addClass("checked").prop("checked",!0),o.find("label.radio-custom").addClass("checked"),a.BYMONTH&&o.find(".year-month").selectlist("selectByValue",a.BYMONTH),o.find(".year-month-day").selectlist("selectByValue",a.BYMONTHDAY)):a.BYSETPOS&&((p=this.$element.find(".repeat-yearly-day")).find("input").addClass("checked").prop("checked",!0),p.find("label.radio-custom").addClass("checked"),p.find(".year-month-day-pos").selectlist("selectByValue",a.BYSETPOS),a.BYDAY&&p.find(".year-month-days").selectlist("selectByValue",a.BYDAY),a.BYMONTH&&p.find(".year-month").selectlist("selectByValue",a.BYMONTH)),b="yearly"):b="none";if(a.COUNT)this.$endAfter.spinbox("value",parseInt(a.COUNT,10)),this.$endSelect.selectlist("selectByValue","after");else if(a.UNTIL){8===a.UNTIL.length&&((q=a.UNTIL.split("")).splice(4,0,"-"),q.splice(7,0,"-"),j=q.join(""));var m,n,o,p,q,j,g=this.$timeZone.selectlist("selectedItem"),k="+00:00"===g.offset?"Z":g.offset,l=this.setUtcTime(j,i.time24HourFormat,k);this.$endDate.datepicker("setDate",l),this.$endSelect.selectlist("selectByValue","date")}else this.$endSelect.selectlist("selectByValue","never");this.endSelectChanged(),a.INTERVAL&&this.$repeatIntervalSpinbox.spinbox("value",parseInt(a.INTERVAL,10)),this.$repeatIntervalSelect.selectlist("selectByValue",b),this.repeatIntervalSelectChanged()},_parseStartDateTime:function(d){var b,c,e,a={};return a.time24HourFormat=d.split("+")[0].split("-")[0],d.search(/\+/)> -1?a.timeZoneOffset="+"+$.trim(d.split("+")[1]):d.search(/\-/)> -1?a.timeZoneOffset="-"+$.trim(d.split("-")[1]):a.timeZoneOffset="+00:00",a.time24HourFormatSplit=a.time24HourFormat.split(":"),b=parseInt(a.time24HourFormatSplit[0],10),c=a.time24HourFormatSplit[1]?parseInt(a.time24HourFormatSplit[1].split("+")[0].split("-")[0].split("Z")[0],10):0,e=b<12?"AM":"PM",0===b?b=12:b>12&&(b-=12),c=c<10?"0"+c:c,a.time12HourFormat=b+":"+c,a.time12HourFormatWithPeriod=b+":"+c+" "+e,a},_parseTimeZone:function(b,a){return a.timeZoneQuerySelector="",b.timeZone?("string"==typeof b.timeZone?a.timeZoneQuerySelector+='li[data-name="'+b.timeZone+'"]':$.each(b.timeZone,function(b,c){a.timeZoneQuerySelector+="li[data-"+b+'="'+c+'"]'}),a.timeZoneOffset=b.timeZone.offset):b.startDateTime?(a.timeZoneOffset="+00:00"===a.timeZoneOffset?"Z":a.timeZoneOffset,a.timeZoneQuerySelector+='li[data-offset="'+a.timeZoneOffset+'"]'):a.timeZoneOffset="Z",a.timeZoneOffset},_setTimeUI:function(a){this.$startTime.find("input").val(a),this.$startTime.combobox("selectByText",a)},_setTimeZoneUI:function(a){this.$timeZone.selectlist("selectBySelector",a)},setValue:function(b){var f,c,d,g,a={};if(b.startDateTime)c=(f=b.startDateTime.split("T"))[0],d=f[1],d?(a=this._parseStartDateTime(d),this._setTimeUI(a.time12HourFormatWithPeriod)):(a.time12HourFormat="00:00",a.time24HourFormat="00:00");else{a.time12HourFormat="00:00",a.time24HourFormat="00:00";var e=this.$startDate.datepicker("getDate");c=e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()}this._parseTimeZone(b,a),a.timeZoneQuerySelector&&this._setTimeZoneUI(a.timeZoneQuerySelector),b.recurrencePattern&&this._parseAndSetRecurrencePattern(b.recurrencePattern,a),g=this.setUtcTime(c,a.time24HourFormat,a.timeZoneOffset),this.$startDate.datepicker("setDate",g)},toggleState:function(a){this.$element.find(".combobox").combobox(a),this.$element.find(".datepicker").datepicker(a),this.$element.find(".selectlist").selectlist(a),this.$element.find(".spinbox").spinbox(a),this.$element.find(".radio-custom").radio(a),a="disable"===a?"addClass":"removeClass",this.$element.find(".repeat-days-of-the-week .btn-group")[a]("disabled")},value:function(a){return a?this.setValue(a):this.getValue()}},$.fn.scheduler=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.scheduler");b||e.data("fu.scheduler",b=new p(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.scheduler.defaults={},$.fn.scheduler.Constructor=p,$.fn.scheduler.noConflict=function(){return $.fn.scheduler=aD,this},$(document).on("mousedown.fu.scheduler.data-api","[data-initialize=scheduler]",function(b){var a=$(b.target).closest(".scheduler");a.data("fu.scheduler")||a.scheduler(a.data())}),$(function(){$("[data-initialize=scheduler]").each(function(){var a=$(this);a.data("scheduler")||a.scheduler(a.data())})}),$=a,aG=$.fn.picker,r=function(a,b){var c=this;this.$element=$(a),this.options=$.extend({},$.fn.picker.defaults,b),this.$accept=this.$element.find(".picker-accept"),this.$cancel=this.$element.find(".picker-cancel"),this.$trigger=this.$element.find(".picker-trigger"),this.$footer=this.$element.find(".picker-footer"),this.$header=this.$element.find(".picker-header"),this.$popup=this.$element.find(".picker-popup"),this.$body=this.$element.find(".picker-body"),this.clickStamp="_",this.isInput=this.$trigger.is("input"),this.$trigger.on("keydown.fu.picker",$.proxy(this.keyComplete,this)),this.$trigger.on("focus.fu.picker",$.proxy(function(a){(void 0===a||$(a.target).is("input[type=text]"))&&$.proxy(this.show(),this)},this)),this.$trigger.on("click.fu.picker",$.proxy(function(a){$(a.target).is("input[type=text]")?$.proxy(this.show(),this):$.proxy(this.toggle(),this)},this)),this.$accept.on("click.fu.picker",$.proxy(this.complete,this,"accepted")),this.$cancel.on("click.fu.picker",function(a){a.preventDefault(),c.complete("cancelled")})},aH=function(a){var d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),b=$(document).scrollTop(),c=a.$popup.offset(),e=c.top+a.$popup.outerHeight(!0);return e>d+b||c.top<b},aI=function(a){a.$popup.css("visibility","hidden"),aK(a),aH(a)&&(aJ(a),aH(a)&&aK(a)),a.$popup.css("visibility","visible")},aJ=function(a){a.$popup.css("top",-a.$popup.outerHeight(!0)+"px")},aK=function(a){a.$popup.css("top",a.$trigger.outerHeight(!0)+"px")},r.prototype={constructor:r,complete:function(a){var c=this.options[({accepted:"onAccept",cancelled:"onCancel",exited:"onExit"})[a]],b={contents:this.$body};c?(c(b),this.$element.trigger(a+".fu.picker",b)):(this.$element.trigger(a+".fu.picker",b),this.hide())},keyComplete:function(a){this.isInput&&13===a.keyCode?(this.complete("accepted"),this.$trigger.blur()):27===a.keyCode&&(this.complete("exited"),this.$trigger.blur())},destroy:function(){return this.$element.remove(),$(document).off("click.fu.picker.externalClick."+this.clickStamp),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled"),this.$trigger.attr("disabled","disabled")},enable:function(){this.$element.removeClass("disabled"),this.$trigger.removeAttr("disabled")},toggle:function(){this.$element.hasClass("showing")?this.hide():this.show()},hide:function(){this.$element.hasClass("showing")&&(this.$element.removeClass("showing"),$(document).off("click.fu.picker.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.picker"))},externalClickListener:function(a,b){(!0===b||this.isExternalClick(a))&&this.complete("exited")},isExternalClick:function(d){var a,e,f=this.$element.get(0),b=this.options.externalClickExceptions||[],c=$(d.target);if(d.target===f||c.parents(".picker:first").get(0)===f)return!1;for(a=0,e=b.length;a<e;a++)if(c.is(b[a])||c.parents(b[a]).length>0)return!1;return!0},show:function(){var a;if((a=$(document).find(".picker.showing")).length>0){if(a.data("fu.picker")&&a.data("fu.picker").options.explicit)return;a.picker("externalClickListener",{},!0)}this.$element.addClass("showing"),aI(this),this.$element.trigger("shown.fu.picker"),this.clickStamp=new Date().getTime()+(Math.floor(100*Math.random())+1),this.options.explicit||$(document).on("click.fu.picker.externalClick."+this.clickStamp,$.proxy(this.externalClickListener,this))}},$.fn.picker=function(c){var a,d=Array.prototype.slice.call(arguments,1),b=this.each(function(){var e=$(this),b=e.data("fu.picker");b||e.data("fu.picker",b=new r(this,"object"==typeof c&&c)),"string"==typeof c&&(a=b[c].apply(b,d))});return void 0===a?b:a},$.fn.picker.defaults={onAccept:void 0,onCancel:void 0,onExit:void 0,externalClickExceptions:[],explicit:!1},$.fn.picker.Constructor=r,$.fn.picker.noConflict=function(){return $.fn.picker=aG,this},$(document).on("focus.fu.picker.data-api","[data-initialize=picker]",function(b){var a=$(b.target).closest(".picker");a.data("fu.picker")||a.picker(a.data())}),$(function(){$("[data-initialize=picker]").each(function(){var a=$(this);a.data("fu.picker")||a.picker(a.data())})})})