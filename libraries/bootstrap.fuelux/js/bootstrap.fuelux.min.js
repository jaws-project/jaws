/*!
 * Bootstrap v3.4.1 (https://getbootstrap.com/)
 * Copyright 2011-2019 Twitter, Inc.
 * Licensed under the MIT license
 */ if("undefined"==typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");(function(t){"use strict";var s=t.fn.jquery.split(" ")[0].split(".");if(s[0]<2&&s[1]<9||1==s[0]&&9==s[1]&&s[2]<1||s[0]>3)throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")})(jQuery),function(t){"use strict";t.fn.emulateTransitionEnd=function(s){var n=!1,a=this;return t(this).one("bsTransitionEnd",function(){n=!0}),setTimeout(function(){n||t(a).trigger(t.support.transition.end)},s),this},t(function(){t.support.transition=function t(){var s=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in n)if(void 0!==s.style[a])return{end:n[a]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(s){if(t(s.target).is(this))return s.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";var s='[data-dismiss="alert"]',n=function(n){t(n).on("click",s,this.close)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.close=function(s){var a=t(this),r=a.attr("data-target");r||(r=(r=a.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),r="#"===r?[]:r;var o=t(document).find(r);function l(){o.detach().trigger("closed.bs.alert").remove()}s&&s.preventDefault(),o.length||(o=a.closest(".alert")),o.trigger(s=t.Event("close.bs.alert")),s.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",l).emulateTransitionEnd(n.TRANSITION_DURATION):l())};var a=t.fn.alert;t.fn.alert=function s(a){return this.each(function(){var s=t(this),r=s.data("bs.alert");r||s.data("bs.alert",r=new n(this)),"string"==typeof a&&r[a].call(s)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=a,this},t(document).on("click.bs.alert.data-api",s,n.prototype.close)}(jQuery),function(t){"use strict";var s=function(n,a){this.$element=t(n),this.options=t.extend({},s.DEFAULTS,a),this.isLoading=!1};function n(n){return this.each(function(){var a=t(this),r=a.data("bs.button");r||a.data("bs.button",r=new s(this,"object"==typeof n&&n)),"toggle"==n?r.toggle():n&&r.setState(n)})}s.VERSION="3.4.1",s.DEFAULTS={loadingText:"loading..."},s.prototype.setState=function(s){var n="disabled",a=this.$element,r=a.is("input")?"val":"html",o=a.data();s+="Text",null==o.resetText&&a.data("resetText",a[r]()),setTimeout(t.proxy(function(){a[r](null==o[s]?this.options[s]:o[s]),"loadingText"==s?(this.isLoading=!0,a.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},s.prototype.toggle=function(){var t=!0,s=this.$element.closest('[data-toggle="buttons"]');if(s.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),s.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var a=t.fn.button;t.fn.button=n,t.fn.button.Constructor=s,t.fn.button.noConflict=function(){return t.fn.button=a,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(s){var a=t(s.target).closest(".btn");n.call(a,"toggle"),t(s.target).is('input[type="radio"], input[type="checkbox"]')||(s.preventDefault(),a.is("input,button")?a.trigger("focus"):a.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(s){t(s.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(s.type))})}(jQuery),function(t){"use strict";var s=function(s,n){this.$element=t(s),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};function n(n){return this.each(function(){var a=t(this),r=a.data("bs.carousel"),o=t.extend({},s.DEFAULTS,a.data(),"object"==typeof n&&n),l="string"==typeof n?n:o.slide;r||a.data("bs.carousel",r=new s(this,o)),"number"==typeof n?r.to(n):l?r[l]():o.interval&&r.pause().cycle()})}s.VERSION="3.4.1",s.TRANSITION_DURATION=600,s.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},s.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},s.prototype.cycle=function(s){return s||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},s.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},s.prototype.getItemForDirection=function(t,s){var n=this.getItemIndex(s);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return s;var a=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(a)},s.prototype.to=function(t){var s=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1)&&!(t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){s.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},s.prototype.pause=function(s){return s||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},s.prototype.next=function(){if(!this.sliding)return this.slide("next")},s.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},s.prototype.slide=function(n,a){var r=this.$element.find(".item.active"),o=a||this.getItemForDirection(n,r),l=this.interval,h="next"==n?"left":"right",d=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],p=t.Event("slide.bs.carousel",{relatedTarget:c,direction:h});if(this.$element.trigger(p),!p.isDefaultPrevented()){if(this.sliding=!0,l&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:c,direction:h});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(n),"object"==typeof o&&o.length&&o[0].offsetWidth,r.addClass(h),o.addClass(h),r.one("bsTransitionEnd",function(){o.removeClass([n,h].join(" ")).addClass("active"),r.removeClass(["active",h].join(" ")),d.sliding=!1,setTimeout(function(){d.$element.trigger(f)},0)}).emulateTransitionEnd(s.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),l&&this.cycle(),this}};var a=t.fn.carousel;t.fn.carousel=n,t.fn.carousel.Constructor=s,t.fn.carousel.noConflict=function(){return t.fn.carousel=a,this};var r=function(s){var a=t(this),r=a.attr("href");r&&(r=r.replace(/.*(?=#[^\s]+$)/,""));var o=a.attr("data-target")||r,l=t(document).find(o);if(l.hasClass("carousel")){var h=t.extend({},l.data(),a.data()),d=a.attr("data-slide-to");d&&(h.interval=!1),n.call(l,h),d&&l.data("bs.carousel").to(d),s.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var s=t(this);n.call(s,s.data())})})}(jQuery),function(t){"use strict";var s=function(n,a){this.$element=t(n),this.options=t.extend({},s.DEFAULTS,a),this.$trigger=t('[data-toggle="collapse"][href="#'+n.id+'"],[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(s){var n,a=s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(document).find(a)}function a(n){return this.each(function(){var a=t(this),r=a.data("bs.collapse"),o=t.extend({},s.DEFAULTS,a.data(),"object"==typeof n&&n);!r&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),r||a.data("bs.collapse",r=new s(this,o)),"string"==typeof n&&r[n]()})}s.VERSION="3.4.1",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},s.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass("in"))){var n,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(n=r.data("bs.collapse"))&&n.transitioning)){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(a.call(r,"hide"),n||r.data("bs.collapse",null));var l=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[l](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[l](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return h.call(this);var d=t.camelCase(["scroll",l].join("-"));this.$element.one("bsTransitionEnd",t.proxy(h,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[l](this.$element[0][d])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var n=t.Event("hide.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return r.call(this);this.$element[a](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(s.TRANSITION_DURATION)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return t(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(s,a){var r=t(a);this.addAriaAndCollapsedClass(n(r),r)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,s){var n=t.hasClass("in");t.attr("aria-expanded",n),s.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=a,t.fn.collapse.Constructor=s,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(s){var r=t(this);r.attr("data-target")||s.preventDefault();var o=n(r),l=o.data("bs.collapse")?"toggle":r.data();a.call(o,l)})}(jQuery),function(t){"use strict";var s='[data-toggle="dropdown"]',n=function(s){t(s).on("click.bs.dropdown",this.toggle)};function a(s){var n=s.attr("data-target");n||(n=(n=s.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a="#"!==n?t(document).find(n):null;return a&&a.length?a:s.parent()}function r(n){n&&3===n.which||(t(".dropdown-backdrop").remove(),t(s).each(function(){var s=t(this),r=a(s),o={relatedTarget:this};!(!r.hasClass("open")||n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target))&&(r.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(s.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o))))}))}n.VERSION="3.4.1",n.prototype.toggle=function(s){var n=t(this);if(!n.is(".disabled, :disabled")){var o=a(n),l=o.hasClass("open");if(r(),!l){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",r);var h={relatedTarget:this};if(o.trigger(s=t.Event("show.bs.dropdown",h)),s.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",h))}return!1}},n.prototype.keydown=function(n){if(!(!/(38|40|27|32)/.test(n.which)||/input|textarea/i.test(n.target.tagName))){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var o=a(r),l=o.hasClass("open");if(!l&&27!=n.which||l&&27==n.which)return 27==n.which&&o.find(s).trigger("focus"),r.trigger("click");var h=o.find(".dropdown-menu li:not(.disabled):visible a");if(h.length){var d=h.index(n.target);38==n.which&&d>0&&d--,40==n.which&&d<h.length-1&&d++,~d||(d=0),h.eq(d).trigger("focus")}}}};var o=t.fn.dropdown;t.fn.dropdown=function s(a){return this.each(function(){var s=t(this),r=s.data("bs.dropdown");r||s.data("bs.dropdown",r=new n(this)),"string"==typeof a&&r[a].call(s)})},t.fn.dropdown.Constructor=n,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,n.prototype.toggle).on("keydown.bs.dropdown.data-api",s,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery),function(t){"use strict";var s=function(s,n){this.options=n,this.$body=t(document.body),this.$element=t(s),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function n(n,a){return this.each(function(){var r=t(this),o=r.data("bs.modal"),l=t.extend({},s.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bs.modal",o=new s(this,l)),"string"==typeof n?o[n](a):l.show&&o.show(a)})}s.VERSION="3.4.1",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var a=this,r=t.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){a.$element.one("mouseup.dismiss.bs.modal",function(s){t(s.target).is(a.$element)&&(a.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),a.adjustDialog(),r&&a.$element[0].offsetWidth,a.$element.addClass("in"),a.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:n});r?a.$dialog.one("bsTransitionEnd",function(){a.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(s.TRANSITION_DURATION):a.$element.trigger("focus").trigger(o)}))},s.prototype.hide=function(n){n&&n.preventDefault(),n=t.Event("hide.bs.modal"),this.$element.trigger(n),!this.isShown||n.isDefaultPrevented()||(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.hasClass("nested")||t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(n){var a=this,r=this.$element.hasClass("fade")?"fade":"",o=this.$element.hasClass("nested")?"nested ":"";if(this.isShown&&this.options.backdrop){var l=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),l&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;l?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var h=function(){a.removeBackdrop(),n&&n()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",h).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):h()}else n&&n()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var s=document.documentElement.getBoundingClientRect();t=s.right-Math.abs(s.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var s=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",s+n),t(this.fixedContent).each(function(s,a){var r=a.style.paddingRight,o=t(a).css("padding-right");t(a).data("padding-right",r).css("padding-right",parseFloat(o)+n+"px")}))},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),t(this.fixedContent).each(function(s,n){var a=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=a||""})},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var s=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),s};var a=t.fn.modal;t.fn.modal=n,t.fn.modal.Constructor=s,t.fn.modal.noConflict=function(){return t.fn.modal=a,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(s){var a=t(this),r=a.attr("href"),o=a.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""),l=t(document).find(o),h=l.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},l.data(),a.data());a.is("a")&&s.preventDefault(),l.one("show.bs.modal",function(t){t.isDefaultPrevented()||l.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),n.call(l,h,this)})}(jQuery),function(t){"use strict";var s=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],a=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function o(s,o){var l=s.nodeName.toLowerCase();if(-1!==t.inArray(l,o))return -1===t.inArray(l,n)||Boolean(s.nodeValue.match(a)||s.nodeValue.match(r));for(var h=t(o).filter(function(t,s){return s instanceof RegExp}),d=0,c=h.length;d<c;d++)if(l.match(h[d]))return!0;return!1}function l(s,n,a){if(0===s.length)return s;if(a&&"function"==typeof a)return a(s);if(!document.implementation||!document.implementation.createHTMLDocument)return s;var r=document.implementation.createHTMLDocument("sanitization");r.body.innerHTML=s;for(var l=t.map(n,function(t,s){return s}),h=t(r.body).find("*"),d=0,c=h.length;d<c;d++){var p=h[d],u=p.nodeName.toLowerCase();if(-1===t.inArray(u,l)){p.parentNode.removeChild(p);continue}for(var f=t.map(p.attributes,function(t){return t}),m=[].concat(n["*"]||[],n[u]||[]),g=0,v=f.length;g<v;g++)o(f[g],m)||p.removeAttribute(f[g].nodeName)}return r.body.innerHTML}var h=function(t,s){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,s)};h.VERSION="3.4.1",h.TRANSITION_DURATION=150,h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},h.prototype.init=function(s,n,a){if(this.enabled=!0,this.type=s,this.$element=t(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&t(document).find(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var l=r[o];if("click"==l)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=l){var h="hover"==l?"mouseenter":"focusin",d="hover"==l?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(d+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.getOptions=function(n){var a=this.$element.data();for(var r in a)a.hasOwnProperty(r)&&-1!==t.inArray(r,s)&&delete a[r];return(n=t.extend({},this.getDefaults(),a,n)).delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),n.sanitize&&(n.template=l(n.template,n.whiteList,n.sanitizeFn)),n},h.prototype.getDelegateOptions=function(){var s={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,a){n[t]!=a&&(s[t]=a)}),s},h.prototype.enter=function(s){var n=s instanceof this.constructor?s:t(s.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(s.currentTarget,this.getDelegateOptions()),t(s.currentTarget).data("bs."+this.type,n)),s instanceof t.Event&&(n.inState["focusin"==s.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState){n.hoverState="in";return}if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)},h.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},h.prototype.leave=function(s){var n=s instanceof this.constructor?s:t(s.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(s.currentTarget,this.getDelegateOptions()),t(s.currentTarget).data("bs."+this.type,n)),s instanceof t.Event&&(n.inState["focusout"==s.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},h.prototype.show=function(){var s=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(s);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(s.isDefaultPrevented()||!n)return;var a=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var l="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,d=/\s?auto?\s?/i,c=d.test(l);c&&(l=l.replace(d,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(l).data("bs."+this.type,this),this.options.container?r.appendTo(t(document).find(this.options.container)):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var p=this.getPosition(),u=r[0].offsetWidth,f=r[0].offsetHeight;if(c){var m=l,g=this.getPosition(this.$viewport);l="bottom"==l&&p.bottom+f>g.bottom?"top":"top"==l&&p.top-f<g.top?"bottom":"right"==l&&p.right+u>g.width?"left":"left"==l&&p.left-u<g.left?"right":l,r.removeClass(m).addClass(l)}var v=this.getCalculatedOffset(l,p,u,f);this.applyPlacement(v,l);var b=function(){var t=a.hoverState;a.$element.trigger("shown.bs."+a.type),a.hoverState=null,"out"==t&&a.leave(a)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",b).emulateTransitionEnd(h.TRANSITION_DURATION):b()}},h.prototype.applyPlacement=function(s,n){var a=this.tip(),r=a[0].offsetWidth,o=a[0].offsetHeight,l=parseInt(a.css("margin-top"),10),h=parseInt(a.css("margin-left"),10);isNaN(l)&&(l=0),isNaN(h)&&(h=0),s.top+=l,s.left+=h,t.offset.setOffset(a[0],t.extend({using:function(t){a.css({top:Math.round(t.top),left:Math.round(t.left)})}},s),0),a.addClass("in");var d=a[0].offsetWidth,c=a[0].offsetHeight;"top"==n&&c!=o&&(s.top=s.top+o-c);var p=this.getViewportAdjustedDelta(n,s,d,c);p.left?s.left+=p.left:s.top+=p.top;var u=/top|bottom/.test(n),f=u?2*p.left-r+d:2*p.top-o+c;a.offset(s),this.replaceArrow(f,a[0][u?"offsetWidth":"offsetHeight"],u)},h.prototype.replaceArrow=function(t,s,n){this.arrow().css(n?"left":"top",50*(1-t/s)+"%").css(n?"top":"left","")},h.prototype.setContent=function(){var t=this.tip(),s=this.getTitle();this.options.html?(this.options.sanitize&&(s=l(s,this.options.whiteList,this.options.sanitizeFn)),t.find(".tooltip-inner").html(s)):t.find(".tooltip-inner").text(s),t.removeClass("fade in top bottom left right")},h.prototype.hide=function(s){var n=this,a=t(this.$tip),r=t.Event("hide.bs."+this.type);function o(){"in"!=n.hoverState&&a.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),s&&s()}if(this.$element.trigger(r),!r.isDefaultPrevented())return a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",o).emulateTransitionEnd(h.TRANSITION_DURATION):o(),this.hoverState=null,this},h.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},h.prototype.hasContent=function(){return this.getTitle()},h.prototype.getPosition=function(s){var n=(s=s||this.$element)[0],a="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,l=a?{top:0,left:0}:o?null:s.offset(),h={scroll:a?document.documentElement.scrollTop||document.body.scrollTop:s.scrollTop()},d=a?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,h,d,l)},h.prototype.getCalculatedOffset=function(t,s,n,a){return"bottom"==t?{top:s.top+s.height,left:s.left+s.width/2-n/2}:"top"==t?{top:s.top-a,left:s.left+s.width/2-n/2}:"left"==t?{top:s.top+s.height/2-a/2,left:s.left-n}:{top:s.top+s.height/2-a/2,left:s.left+s.width}},h.prototype.getViewportAdjustedDelta=function(t,s,n,a){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,l=this.getPosition(this.$viewport);if(/right|left/.test(t)){var h=s.top-o-l.scroll,d=s.top+o-l.scroll+a;h<l.top?r.top=l.top-h:d>l.top+l.height&&(r.top=l.top+l.height-d)}else{var c=s.left-o,p=s.left+o+n;c<l.left?r.left=l.left-c:p>l.right&&(r.left=l.left+l.width-p)}return r},h.prototype.getTitle=function(){var t,s=this.$element,n=this.options;return s.attr("data-original-title")||("function"==typeof n.title?n.title.call(s[0]):n.title)},h.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},h.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},h.prototype.enable=function(){this.enabled=!0},h.prototype.disable=function(){this.enabled=!1},h.prototype.toggleEnabled=function(){this.enabled=!this.enabled},h.prototype.toggle=function(s){var n=this;!s||(n=t(s.currentTarget).data("bs."+this.type))||(n=new this.constructor(s.currentTarget,this.getDelegateOptions()),t(s.currentTarget).data("bs."+this.type,n)),s?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},h.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})},h.prototype.sanitizeHtml=function(t){return l(t,this.options.whiteList,this.options.sanitizeFn)};var d=t.fn.tooltip;t.fn.tooltip=function s(n){return this.each(function(){var s=t(this),a=s.data("bs.tooltip");!a&&/destroy|hide/.test(n)||(a||s.data("bs.tooltip",a=new h(this,"object"==typeof n&&n)),"string"==typeof n&&a[n]())})},t.fn.tooltip.Constructor=h,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=d,this}}(jQuery),function(t){"use strict";var s=function(t,s){this.init("popover",t,s)};if(!t.fn.tooltip)throw Error("Popover requires tooltip.js");s.VERSION="3.4.1",s.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),s.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),s.prototype.constructor=s,s.prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.setContent=function(){var t=this.tip(),s=this.getTitle(),n=this.getContent();if(this.options.html){var a=typeof n;this.options.sanitize&&(s=this.sanitizeHtml(s),"string"===a&&(n=this.sanitizeHtml(n))),t.find(".popover-title").html(s),t.find(".popover-content").children().detach().end()["string"===a?"html":"append"](n)}else t.find(".popover-title").text(s),t.find(".popover-content").children().detach().end().text(n);t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},s.prototype.hasContent=function(){return this.getTitle()||this.getContent()},s.prototype.getContent=function(){var t=this.$element,s=this.options;return t.attr("data-content")||("function"==typeof s.content?s.content.call(t[0]):s.content)},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=function n(a){return this.each(function(){var n=t(this),r=n.data("bs.popover");!r&&/destroy|hide/.test(a)||(r||n.data("bs.popover",r=new s(this,"object"==typeof a&&a)),"string"==typeof a&&r[a]())})},t.fn.popover.Constructor=s,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function s(n,a){this.$body=t(document.body),this.$scrollElement=t(n).is(document.body)?t(window):t(n),this.options=t.extend({},s.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var a=t(this),r=a.data("bs.scrollspy");r||a.data("bs.scrollspy",r=new s(this,"object"==typeof n&&n)),"string"==typeof n&&r[n]()})}s.VERSION="3.4.1",s.DEFAULTS={offset:10},s.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},s.prototype.refresh=function(){var s=this,n="offset",a=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",a=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var s=t(this),r=s.data("target")||s.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+a,r]]||null}).sort(function(t,s){return t[0]-s[0]}).each(function(){s.offsets.push(this[0]),s.targets.push(this[1])})},s.prototype.process=function(){var t,s=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,l=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),s>=a)return l!=(t=o[o.length-1])&&this.activate(t);if(l&&s<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)l!=o[t]&&s>=r[t]&&(void 0===r[t+1]||s<r[t+1])&&this.activate(o[t])},s.prototype.activate=function(s){this.activeTarget=s,this.clear();var n=t(this.selector+'[data-target="'+s+'"],'+this.selector+'[href="'+s+'"]').parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},s.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var a=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=s,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=a,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var s=t(this);n.call(s,s.data())})})}(jQuery),function(t){"use strict";var s=function(s){this.element=t(s)};function n(n){return this.each(function(){var a=t(this),r=a.data("bs.tab");r||a.data("bs.tab",r=new s(this)),"string"==typeof n&&r[n]()})}s.VERSION="3.4.1",s.TRANSITION_DURATION=150,s.prototype.show=function(){var s=this.element,n=s.closest("ul:not(.dropdown-menu)"),a=s.data("target");if(a||(a=(a=s.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,"")),!s.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:s[0]}),l=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),s.trigger(l),!(l.isDefaultPrevented()||o.isDefaultPrevented())){var h=t(document).find(a);this.activate(s.closest("li"),n),this.activate(h,h.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:s[0]}),s.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},s.prototype.activate=function(n,a,r){var o=a.find("> .active"),l=r&&t.support.transition&&(o.length&&o.hasClass("fade")||!!a.find("> .fade").length);function h(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),l?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}o.length&&l?o.one("bsTransitionEnd",h).emulateTransitionEnd(s.TRANSITION_DURATION):h(),o.removeClass("in")};var a=t.fn.tab;t.fn.tab=n,t.fn.tab.Constructor=s,t.fn.tab.noConflict=function(){return t.fn.tab=a,this};var r=function(s){s.preventDefault(),n.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(t){"use strict";var s=function(n,a){this.options=t.extend({},s.DEFAULTS,a);var r=this.options.target===s.DEFAULTS.target?t(this.options.target):t(document).find(this.options.target);this.$target=r.on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(n){return this.each(function(){var a=t(this),r=a.data("bs.affix");r||a.data("bs.affix",r=new s(this,"object"==typeof n&&n)),"string"==typeof n&&r[n]()})}s.VERSION="3.4.1",s.RESET="affix affix-top affix-bottom",s.DEFAULTS={offset:0,target:window},s.prototype.getState=function(t,s,n,a){var r=this.$target.scrollTop(),o=this.$element.offset(),l=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+l<=t-a)&&"bottom";var h=null==this.affixed,d=h?r:o.top;return null!=n&&r<=n?"top":null!=a&&d+(h?l:s)>=t-a&&"bottom"},s.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(s.RESET).addClass("affix");var t=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-t},s.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},s.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=this.$element.height(),a=this.options.offset,r=a.top,o=a.bottom,l=Math.max(t(document).height(),t(document.body).height());"object"!=typeof a&&(o=r=a),"function"==typeof r&&(r=a.top(this.$element)),"function"==typeof o&&(o=a.bottom(this.$element));var h=this.getState(l,n,r,o);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var d="affix"+(h?"-"+h:""),c=t.Event(d+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(s.RESET).addClass(d).trigger(d.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:l-n-o})}};var a=t.fn.affix;t.fn.affix=n,t.fn.affix.Constructor=s,t.fn.affix.noConflict=function(){return t.fn.affix=a,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var s=t(this),a=s.data();a.offset=a.offset||{},null!=a.offsetBottom&&(a.offset.bottom=a.offsetBottom),null!=a.offsetTop&&(a.offset.top=a.offsetTop),n.call(s,a)})})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery","bootstrap"],t):t(jQuery)}(function(t){var s,n,a,r,o,l,h,d,c,p,u,f,m,g,v,b,y,$,C,w,x,k,_,S,T,D,I,O,E,A,z,B,Y,H,P,M,V,L,N,R,F,j,U,W,K,G,Z,q,Q,J,X,tt,te,ti,ts,tn,ta,tr,to,tl,th,td,tc,tp,tu,tf,tm,tg,tv,tb,t9,ty,t$,tC,tw,tx,tk,t_,tS,tT,tD,tI,t8,tO,tE,tA,tz,tB,tY,tH,tP,tM,tV,tL,tN,tR,tF,t0,tj,t1,tU,tW,t2,tK,tG,tZ,t3,t6,t4;if(void 0===t)throw Error("Fuel UX's JavaScript requires jQuery");if(void 0===t.fn.dropdown||void 0===t.fn.collapse)throw Error("Fuel UX's JavaScript requires Bootstrap");n=(s=t).fn.checkbox,a=function t(s){window&&window.console&&window.console.error&&window.console.error(s)},(r=function t(n,r){this.options=s.extend({},s.fn.checkbox.defaults,r);var o=s(n);if("label"!==n.tagName.toLowerCase()){a("Checkbox must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/checkbox.html for example of proper markup. Call `.checkbox()` on the `<label>` not the `<input>`");return}this.$label=o,this.$chk=this.$label.find('input[type="checkbox"]'),this.$container=o.parent(".checkbox"),!this.options.ignoreVisibilityCheck&&this.$chk.css("visibility").match(/hidden|collapse/)&&a("For accessibility reasons, in order for tab and space to function on checkbox, checkbox `<input />`'s `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details.");var l=this.$chk.attr("data-toggle");this.$toggleContainer=s(l),this.$chk.on("change",s.proxy(this.itemchecked,this)),this.setInitialState()}).prototype={constructor:r,setInitialState:function t(){var s=this.$chk,n=s.prop("checked"),a=s.prop("disabled");this.setCheckedState(s,n),this.setDisabledState(s,a)},setCheckedState:function t(s,n){var a=s,r=this.$label,o=this.$toggleContainer;n?(a.prop("checked",!0),r.addClass("checked"),o.removeClass("hide hidden"),r.trigger("checked.fu.checkbox")):(a.prop("checked",!1),r.removeClass("checked"),o.addClass("hidden"),r.trigger("unchecked.fu.checkbox")),r.trigger("changed.fu.checkbox",n)},setDisabledState:function t(n,a){var r=s(n),o=this.$label;return a?(r.prop("disabled",!0),o.addClass("disabled"),o.trigger("disabled.fu.checkbox")):(r.prop("disabled",!1),o.removeClass("disabled"),o.trigger("enabled.fu.checkbox")),r},itemchecked:function t(n){var a=s(n.target),r=a.prop("checked");this.setCheckedState(a,r)},toggle:function t(){this.isChecked()?this.uncheck():this.check()},check:function t(){this.setCheckedState(this.$chk,!0)},uncheck:function t(){this.setCheckedState(this.$chk,!1)},isChecked:function t(){return this.$chk.prop("checked")},enable:function t(){this.setDisabledState(this.$chk,!1)},disable:function t(){this.setDisabledState(this.$chk,!0)},destroy:function t(){return this.$label.remove(),this.$label[0].outerHTML}},r.prototype.getValue=r.prototype.isChecked,s.fn.checkbox=function t(n){var a,o=Array.prototype.slice.call(arguments,1),l=this.each(function t(){var l=s(this),h=l.data("fu.checkbox");h||l.data("fu.checkbox",h=new r(this,"object"==typeof n&&n)),"string"==typeof n&&(a=h[n].apply(h,o))});return void 0===a?l:a},s.fn.checkbox.defaults={ignoreVisibilityCheck:!1},s.fn.checkbox.Constructor=r,s.fn.checkbox.noConflict=function t(){return s.fn.checkbox=n,this},s(document).on("mouseover.fu.checkbox.data-api","[data-initialize=checkbox]",function t(n){var a=s(n.target);a.data("fu.checkbox")||a.checkbox(a.data())}),s(function t(){s("[data-initialize=checkbox]").each(function t(){var n=s(this);n.data("fu.checkbox")||n.checkbox(n.data())})}),l=(o=t).fn.combobox,(h=function(t,s){this.$element=o(t),this.options=o.extend({},o.fn.combobox.defaults,s),this.$dropMenu=this.$element.find(".dropdown-menu"),this.$input=this.$element.find("input"),this.$button=this.$element.find(".btn"),this.$inputGroupBtn=this.$element.find(".input-group-btn"),this.$element.on("click.fu.combobox","a",o.proxy(this.itemclicked,this)),this.$element.on("change.fu.combobox","input",o.proxy(this.inputchanged,this)),this.$element.on("hide.bs.dropdown",o.proxy(this.menuHide,this)),this.$element.on("shown.bs.dropdown",o.proxy(this.menuShown,this)),this.$input.on("keyup.fu.combobox",o.proxy(this.keypress,this)),this.$input.on("click.fu.combobox",o.proxy(this.inputclick,this)),this.setDefaultSelection(),0===this.$dropMenu.children("li").length&&this.$button.addClass("disabled"),this.options.filterOnKeypress&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this)}).prototype={constructor:h,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){o(this).attr("value",o(this).val())}),this.$element[0].outerHTML},doSelect:function(t){void 0!==t[0]?(this.$element.find("li.selected:first").removeClass("selected"),this.$selectedItem=t,this.$selectedItem.addClass("selected"),this.$input.val(this.$selectedItem.text().trim())):(this.$selectedItem=null,this.$element.find("li.selected:first").removeClass("selected"))},clearSelection:function(){this.$selectedItem=null,this.$input.val(""),this.$dropMenu.find("li").removeClass("selected")},menuHide:function(t){this.options.showOptionsOnKeypress&&this.$input.is(":focus")&&t.preventDefault()},menuShown:function(){this.options.autoResizeMenu&&(this.$element.trigger(e=o.Event("shown.fu.combobox",this),this.options),this.resizeMenu())},resizeMenu:function(){let t;t="input"==this.options.autoResizeTo?this.$button.outerWidth()+this.$input.outerWidth():this.$element.outerWidth(),this.$dropMenu.outerWidth(t)},selectedItem:function(){var t=this.$selectedItem,s={};if(t){var n=this.$selectedItem.text().trim();s=o.extend({text:n},this.$selectedItem.data())}else s={text:this.$input.val().trim(),notFound:!0};return s},selectByText:function(t){var s=o([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||o(this).text()||"").trim().toLowerCase()===(t||"").trim().toLowerCase())return s=o(this),!1}),this.doSelect(s)},selectByValue:function(t){this.selectBySelector('li[data-value="'+t+'"]')},selectByIndex:function(t){this.selectBySelector("li:eq("+t+")")},selectBySelector:function(t){var s=this.$element.find(t);this.doSelect(s)},setDefaultSelection:function(){var t="li[data-selected=true]:first",s=this.$element.find(t);s.length>0&&(this.selectBySelector(t),s.removeData("selected"),s.removeAttr("data-selected"))},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled",!0),this.$button.addClass("disabled")},itemclicked:function(t){this.$selectedItem=o(t.target).parent(),this.$input.val(this.$selectedItem.text().trim()).trigger("change",{synthetic:!0});var s=this.selectedItem();this.$element.trigger("changed.fu.combobox",s),t.preventDefault(),this.$element.find(".dropdown-toggle").focus()},inputclick:function(t){this.options.showOptionsOnKeypress&&!this.$inputGroupBtn.hasClass("open")&&(this.$button.dropdown("toggle"),this.$input.focus())},keypress:function(t){var s=38===t.which||40===t.which||37===t.which||39===t.which;if(this.options.showOptionsOnKeypress&&!this.$inputGroupBtn.hasClass("open")&&(this.$button.dropdown("toggle"),this.$input.focus()),13===t.which){t.preventDefault();var n=this.$dropMenu.find("li.selected").text().trim();n.length>0?this.selectByText(n):this.selectByText(this.$input.val()),this.$inputGroupBtn.removeClass("open")}else if(27===t.which)t.preventDefault(),this.clearSelection(),this.$inputGroupBtn.removeClass("open");else if(this.options.showOptionsOnKeypress&&(40===t.which||38===t.which)){t.preventDefault();var a=this.$dropMenu.find("li.selected");a.length>0&&(a=40===t.which?a.next(":not(.hidden)"):a.prev(":not(.hidden)")),0===a.length&&(a=40===t.which?this.$dropMenu.find("li:not(.hidden):first"):this.$dropMenu.find("li:not(.hidden):last")),this.doSelect(a)}this.options.filterOnKeypress&&!s&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this),this.previousKeyPress=t.which},inputchanged:function(t,s){var n=o(t.target).val();if(s&&s.synthetic){this.selectByText(n);return}this.selectByText(n);var a=this.selectedItem();0===a.text.length&&(a={text:n}),this.$element.trigger("changed.fu.combobox",a)}},h.prototype.getValue=h.prototype.selectedItem,o.fn.combobox=function(t){var s,n=Array.prototype.slice.call(arguments,1),a=this.each(function(){var a=o(this),r=a.data("fu.combobox");r||a.data("fu.combobox",r=new h(this,"object"==typeof t&&t)),"string"==typeof t&&(s=r[t].apply(r,n))});return void 0===s?a:s},o.fn.combobox.defaults={autoResizeMenu:!0,autoResizeTo:"group",filterOnKeypress:!1,showOptionsOnKeypress:!1,noMatchesMessage:"No Matches",filter:function t(s,n,a){var r=0;a.$dropMenu.find(".empty-indicator").remove(),s.each(function(t){var s=o(this),a=o(this).text().trim();s.removeClass(),a===n?(s.addClass("text-success"),r++):a.toLowerCase().indexOf(n.toLowerCase())>=0?(s.addClass("text-info"),r++):s.addClass("hidden")}),0===r&&a.$dropMenu.append('<li class="empty-indicator text-muted"><em>'+a.options.noMatchesMessage+"</em></li>")}},o.fn.combobox.Constructor=h,o.fn.combobox.noConflict=function(){return o.fn.combobox=l,this},o(document).on("mousedown.fu.combobox.data-api","[data-initialize=combobox]",function(t){var s=o(t.target).closest(".combobox");s.data("fu.combobox")||s.combobox(s.data())}),o(function(){o("[data-initialize=combobox]").each(function(){var t=o(this);t.data("fu.combobox")||t.combobox(t.data())})}),function(t){function s(s){this.invalid=!1,this.jalaliEpoch=1948320.5,this.gregorianEpoch=1721425.5;var n=[31,31,31,31,31,31,30,30,30,30,30,29];this.leap_persian=function(t){return((t-(t>0?474:473))%2820+474+38)*682%2816<682},this.leap_gregorian=function(t){return t%4==0&&(t%100!=0||t%400==0)},this.persian_to_jd=function(t,s,n){var a=epyear=exyear=0;return t+=exyear=Math.floor((s-1)/12),n+((s-=12*exyear)<=7?(s-1)*31:(s-1)*30+6)+Math.floor((682*(epyear=474+(a=t-(t>=0?474:473))%2820)-110)/2816)+(epyear-1)*365+1029983*Math.floor(a/2820)+(this.jalaliEpoch-1)},this.jd_to_persian=function(t){var s=month=day=wday=depoch=cycle=cyear=ycycle=aux1=aux2=yday=0;return wday=Math.floor((t=Math.floor(t)+.5)+1.5)%7,cycle=Math.floor((depoch=t-this.persian_to_jd(475,1,1))/1029983),(s=(ycycle=1029982==(cyear=depoch%1029983)?2820:Math.floor((2134*(aux1=Math.floor(cyear/366))+2816*(aux2=cyear%366)+2815)/1028522)+aux1+1)+2820*cycle+474)<=0&&s--,month=(yday=t-this.persian_to_jd(s,1,1)+1)<=186?Math.ceil(yday/31):Math.ceil((yday-6)/30),day=t-this.persian_to_jd(s,month,1)+1,{year:s,month:month,day:day,weekDay:wday,monthDays:n[month-1]+(12==month?Number(this.leap_persian(s)):0),yearDay:yday}},this.gregorian_to_jd=function(t,s,n){return this.gregorianEpoch-1+365*(t-1)+Math.floor((t-1)/4)+-Math.floor((t-1)/100)+Math.floor((t-1)/400)+Math.floor((367*s-362)/12+(s<=2?0:this.leap_gregorian(t)?-1:-2)+n)};var a=month=day=wday=days=hour=minute=second=0;switch(t.type(s)){case"string":s=s.split(/\/|\-|\:/),s[1]--;case"array":if(s.length){a=parseInt(s[0]),month=parseInt(Number(s[1])+1),day=parseInt(s[2]),hour=parseInt(s[3])||0,minute=parseInt(s[4])||0,second=parseInt(s[5])||0,days=this.persian_to_jd(a,month,day);break}s=null;case"number":if(isNaN(s))return new Date(NaN);var r=new Date;null!=s&&r.setTime(1e3*s),a=parseInt(r.getFullYear()),month=parseInt(Number(r.getMonth())+1),day=parseInt(r.getDate()),hour=parseInt(r.getHours()),minute=parseInt(r.getMinutes()),second=parseInt(r.getSeconds()),days=this.gregorian_to_jd(a,month,day);break;default:this.invalid=!0}if(this.invalid)this.jYear=0,this.jMonth=0,this.jDay=0,this.jWeekDay=0,this.jHour=0,this.jMinute=0,this.jSecond=0,this.isLeapYear=!1;else{var o=this.jd_to_persian(days);this.jYear=o.year,this.jMonth=o.month,this.jDay=o.day,this.jWeekDay=o.weekDay,this.jHour=hour,this.jMinute=minute,this.jSecond=second,this.isLeapYear=this.leap_persian(this.jYear)}this.getFullYear=function(){return this.jYear},this.getMonth=function(){return this.jMonth-1},this.getDate=function(){return this.jDay},this.getDay=function(){return this.jWeekDay},this.getMonthDays=function(t){return this.isLeapYear&&12==t?30:n[t-1]},this.getHours=function(){return this.jHour},this.getMinutes=function(){return this.jMinute},this.getSeconds=function(){return this.jSecond},this.format=function(t){if(this.invalid)return"";var s=0,n="";for(t=t||"YYYY-MM-DD";s<t.length;){switch(t.charAt(s)){case"H":"HH"==t.substr(s,2)?(s++,n+=(this.jHour+1).toString().padStart(2,"0")):n+=this.jHour+1;break;case"m":"mm"==t.substr(s,2)?(s++,n+=(this.jMinute+1).toString().padStart(2,"0")):n+=this.jMinute+1;break;case"s":"ss"==t.substr(s,2)?(s++,n+=(this.jSecond+1).toString().padStart(2,"0")):n+=this.jSecond+1;break;case"D":"DD"==t.substr(s,2)?(s++,n+=this.jDay.toString().padStart(2,"0")):n+=this.jDay;break;case"M":"MM"==t.substr(s,2)?(s++,n+=this.jMonth.toString().padStart(2,"0")):n+=this.jMonth;break;case"Y":"YYYY"==t.substr(s,4)?(s+=3,n+=this.jYear.toString().padStart(4,"0")):"YYY"==t.substr(s,3)?(s+=2,n+=this.jYear.toString().padStart(3,"0")):"YY"==t.substr(s,2)?(s++,n+=this.jYear.toString().padStart(2,"0")):n+=this.jYear;break;default:n+=t.charAt(s)}s++}return n},this.toString=function(){return this.jYear+"/"+this.jMonth+"/"+this.jDay}}function n(s){this.gdate,this.invalid=!1;var n=[31,28,31,30,31,30,31,31,30,31,30,31];switch(t.type(s)){case"number":if(isNaN(s))return new Date(NaN);this.gdate=new Date,this.gdate.setTime(1e3*s);break;case"string":s=s.split(/\/|\-|\:/),s[1]--;case"array":s.length?this.gdate=new Date(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]),parseInt(s[3])||0,parseInt(s[4])||0,parseInt(s[5])||0):this.gdate=new Date;break;default:this.invalid=!0}this.invalid?(this.gYear=0,this.gMonth=0,this.gDay=0,this.gWeekDay=0,this.gHour=0,this.gMinute=0,this.gSecond=0,this.isLeapYear=this.gYear%4==0&&(this.gYear%100!=0||this.gYear%400==0)):(this.gYear=parseInt(this.gdate.getFullYear()),this.gMonth=parseInt(this.gdate.getMonth()),this.gDay=parseInt(this.gdate.getDate()),this.gWeekDay=parseInt(this.gdate.getDay()),this.gHour=parseInt(this.gdate.getHours()),this.gMinute=parseInt(this.gdate.getMinutes()),this.gSecond=parseInt(this.gdate.getSeconds()),this.isLeapYear=this.gYear%4==0&&(this.gYear%100!=0||this.gYear%400==0)),this.getFullYear=function(){return this.gYear},this.getMonth=function(){return this.gMonth},this.getDate=function(){return this.gDay},this.getDay=function(){return this.gWeekDay},this.getHours=function(){return this.gHour},this.getMinutes=function(){return this.gMinute},this.getSeconds=function(){return this.gSecond},this.getMonthDays=function(t){return this.isLeapYear&&2==t?29:n[t-1]},this.format=function(t){if(this.invalid)return"";var s=0,n="";for(t=t||"YYYY-MM-DD";s<t.length;){switch(t.charAt(s)){case"H":"HH"==t.substr(s,2)?(s++,n+=(this.gHour+1).toString().padStart(2,"0")):n+=this.gHour+1;break;case"m":"mm"==t.substr(s,2)?(s++,n+=(this.gMinute+1).toString().padStart(2,"0")):n+=this.gMinute+1;break;case"s":"ss"==t.substr(s,2)?(s++,n+=(this.gSecond+1).toString().padStart(2,"0")):n+=this.gSecond+1;break;case"D":"DD"==t.substr(s,2)?(s++,n+=this.gDay.toString().padStart(2,"0")):n+=this.gDay;break;case"M":"MM"==t.substr(s,2)?(s++,n+=(this.gMonth+1).toString().padStart(2,"0")):n+=this.gMonth+1;break;case"Y":"YYYY"==t.substr(s,4)?(s+=3,n+=this.gYear.toString().padStart(4,"0")):"YYY"==t.substr(s,3)?(s+=2,n+=this.gYear.toString().padStart(3,"0")):"YY"==t.substr(s,2)?(s++,n+=this.gYear.toString().padStart(2,"0")):n+=this.gYear;break;default:n+=t.charAt(s)}s++}return n}}t.dateCalendar=function(t,a){switch(t){case"jalali":case"Jalali":return new s(a);default:return new n(a)}}}(t),c="Invalid Date",p="moment.js is not available so you cannot use this function",u=[],f=!1,m=(d=t).fn.datepicker,g=!1,v=function(){var t,s;for(t=0,g=!0,s=u.length;t<s;t++)u[t].init.call(u[t].scope);u=[]},"function"==typeof define&&define.amd?require(["moment"],function(t){f=t,v()},function(t){"moment"===(t.requireModules&&t.requireModules[0])&&v()}):v(),(b=function(t,s){this.$element=d(t),this.options=d.extend(!0,{},d.fn.datepicker.defaults,s),this.$calendar=this.$element.find(".datepicker-calendar"),this.$days=this.$calendar.find(".datepicker-calendar-days"),this.$header=this.$calendar.find(".datepicker-calendar-header"),this.$headerTitle=this.$header.find(".title"),this.$input=this.$element.find("input"),this.$inputGroupBtn=this.$element.find(".input-group-btn"),this.$wheels=this.$element.find(".datepicker-wheels"),this.$wheelsMonth=this.$element.find(".datepicker-wheels-month"),this.$wheelsYear=this.$element.find(".datepicker-wheels-year"),this.artificialScrolling=!1,this.options.date=this.dateCalendar(NaN),this.formatDate=this.options.formatDate||this.formatDate,this.inputValue=null,this.moment=!1,this.momentFormat=null,this.parseDate=this.options.parseDate||this.parseDate,this.preventBlurHide=!1,this.restricted=this.options.restricted||[],this.restrictedParsed=[],this.restrictedText=this.options.restrictedText,this.sameYearOnly=this.options.sameYearOnly,this.selectedDate=null,this.yearRestriction=null,this.$calendar.find(".datepicker-today").on("click.fu.datepicker",d.proxy(this.todayClicked,this)),this.$days.on("click.fu.datepicker","tr td button",d.proxy(this.dateClicked,this)),this.$header.find(".next").on("click.fu.datepicker",d.proxy(this.next,this)),this.$header.find(".prev").on("click.fu.datepicker",d.proxy(this.prev,this)),this.$headerTitle.on("click.fu.datepicker",d.proxy(this.titleClicked,this)),this.$input.on("change.fu.datepicker",d.proxy(this.inputChanged,this)),this.$input.on("mousedown.fu.datepicker",d.proxy(this.showDropdown,this)),this.$inputGroupBtn.on("hidden.bs.dropdown",d.proxy(this.hide,this)),this.$inputGroupBtn.on("shown.bs.dropdown",d.proxy(this.show,this)),this.$wheels.find(".datepicker-wheels-back").on("click.fu.datepicker",d.proxy(this.backClicked,this)),this.$wheels.find(".datepicker-wheels-select").on("click.fu.datepicker",d.proxy(this.selectClicked,this)),this.$wheelsMonth.on("click.fu.datepicker","ul button",d.proxy(this.monthClicked,this)),this.$wheelsYear.on("click.fu.datepicker","ul button",d.proxy(this.yearClicked,this)),this.$wheelsYear.find("ul").on("scroll.fu.datepicker",d.proxy(this.onYearScroll,this));var n=function(){this.checkForMomentJS()&&(f=f||window.moment,this.moment=!0,this.momentFormat=this.options.momentConfig.format,this.setCulture(this.options.momentConfig.culture),f.locale=f.locale||f.lang),this.setRestrictedDates(this.restricted),this.setDate(this.options.date)||this.setDate(this.$input.val())||(this.$input.val(""),this.inputValue=this.$input.val()),this.sameYearOnly&&(this.yearRestriction=this.selectedDate?this.selectedDate.getFullYear():this.dateCalendar().getFullYear())};g?n.call(this):u.push({init:n,scope:this})}).prototype={constructor:b,dateCalendar:function(t){return(t=1==arguments.length?t:Array.from(arguments),"date"===d.type(t))?t:d.dateCalendar(this.options.calendar,t)},backClicked:function(){this.changeView("calendar")},changeView:function(t,s){"wheels"===t?(this.$calendar.hide().attr("aria-hidden","true"),this.$wheels.show().removeAttr("aria-hidden",""),s&&this.renderWheel(s)):(this.$wheels.hide().attr("aria-hidden","true"),this.$calendar.show().removeAttr("aria-hidden",""),s&&this.renderMonth(s))},checkForMomentJS:function(){return!!((d.isFunction(window.moment)||void 0!==f&&d.isFunction(f))&&d.isPlainObject(this.options.momentConfig))&&"string"==typeof this.options.momentConfig.culture&&"string"==typeof this.options.momentConfig.format},dateClicked:function(t){var s,n=d(t.currentTarget).parents("td:first");!n.hasClass("restricted")&&(this.$days.find("td.selected").removeClass("selected"),n.addClass("selected"),s=this.dateCalendar(n.attr("data-year"),n.attr("data-month"),n.attr("data-date")),this.selectedDate=s,this.$input.val(this.formatDate(s)),this.inputValue=this.$input.val(),this.hide(),this.$input.focus(),this.$element.trigger("dateClicked.fu.datepicker",s))},destroy:function(){return this.$element.remove(),this.$days.find("tbody").empty(),this.$wheelsYear.find("ul").empty(),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled"),this.$element.find("input, button").attr("disabled","disabled"),this.$inputGroupBtn.removeClass("open")},enable:function(){this.$element.removeClass("disabled"),this.$element.find("input, button").removeAttr("disabled")},formatDate:function(t){var s=function(t){var s="0"+t;return s.substr(s.length-2)};return this.moment?f(t).format(this.momentFormat):t.getFullYear()+"/"+s(t.getMonth()+1)+"/"+s(t.getDate())},getCulture:function(){if(this.moment)return f.locale();throw p},getDate:function(){return this.selectedDate?this.selectedDate:this.dateCalendar(NaN)},getFormat:function(){if(this.moment)return this.momentFormat;throw p},getFormattedDate:function(){return this.selectedDate?this.formatDate(this.selectedDate):c},getRestrictedDates:function(){return this.restricted},inputChanged:function(){var t,s=this.$input.val();s!==this.inputValue&&(null===(t=this.setDate(s))?this.$element.trigger("inputParsingFailed.fu.datepicker",s):!1===t?this.$element.trigger("inputRestrictedDate.fu.datepicker",t):this.$element.trigger("changed.fu.datepicker",t))},show:function(){var t=this.selectedDate?this.selectedDate:this.dateCalendar();this.changeView("calendar",t),this.$inputGroupBtn.addClass("open"),this.$element.trigger("shown.fu.datepicker")},showDropdown:function(t){this.$input.is(":focus")||this.$inputGroupBtn.hasClass("open")||this.show()},hide:function(){this.$inputGroupBtn.removeClass("open"),this.$element.trigger("hidden.fu.datepicker")},hideDropdown:function(){this.hide()},isInvalidDate:function(t){var s=t.toString();return s===c||"NaN"===s},isRestricted:function(t,s,n){var a,r,o,l,h=this.restrictedParsed;if(this.sameYearOnly&&null!==this.yearRestriction&&n!==this.yearRestriction)return!0;for(a=0,o=h.length;a<o;a++)if(r=h[a].from,l=h[a].to,(n>r.year||n===r.year&&s>r.month||n===r.year&&s===r.month&&t>=r.date)&&(n<l.year||n===l.year&&s<l.month||n===l.year&&s===l.month&&t<=l.date))return!0;return!1},monthClicked:function(t){this.$wheelsMonth.find(".selected").removeClass("selected"),d(t.currentTarget).parent().addClass("selected")},next:function(){var t=this.$headerTitle.attr("data-month"),s=this.$headerTitle.attr("data-year");if(++t>11){if(this.sameYearOnly)return;t=0,s++}this.renderMonth(this.dateCalendar(s,t,1))},onYearScroll:function(t){if(!this.artificialScrolling){var s,n,a=d(t.currentTarget),r="border-box"===a.css("box-sizing")?a.outerHeight():a.height(),o=a.get(0).scrollHeight,l=a.scrollTop();if(l/o*100<5){for(s=(n=parseInt(a.find("li:first").attr("data-year"),10))-1;s>n-11;s--)a.prepend('<li data-year="'+s+'"><button type="button">'+s+"</button></li>");this.artificialScrolling=!0,a.scrollTop(a.get(0).scrollHeight-o+l),this.artificialScrolling=!1}else if(r/(o-l)*100>90)for(s=(n=parseInt(a.find("li:last").attr("data-year"),10))+1;s<n+11;s++)a.append('<li data-year="'+s+'"><button type="button">'+s+"</button></li>")}},parseDate:function(t){var s,n,a,r,o,l,h,d=this,c=this.dateCalendar(NaN);if(t){if(this.moment)return(r=function(t){var s=f(t,d.momentFormat);return!0===s.isValid()?s.toDate():c},a=function(t){var s=f(this.dateCalendar(t));return!0===s.isValid()?s.toDate():c},o=function(t,s,n){var a=s(t);return d.isInvalidDate(a)&&(a=n(t),d.isInvalidDate(a))?c:a},"string"==typeof t)?o(t,r,a):o(t,a,r);if("string"==typeof t){if(t=t.split("T")[0],h=(n=/^\s*(\d{4})[\-|\/](\d\d)[\-|\/](\d\d)\s*$/).exec(t))return l=parseInt(h[2],10),this.dateCalendar(h[1],l-1,h[3])}else if(s=this.dateCalendar(t),!this.isInvalidDate(s))return s}return this.dateCalendar(NaN)},prev:function(){var t=this.$headerTitle.attr("data-month"),s=this.$headerTitle.attr("data-year");if(--t<0){if(this.sameYearOnly)return;t=11,s--}this.renderMonth(this.dateCalendar(s,t,1))},renderMonth:function(t){t=t||this.dateCalendar();var s,n,a,r,o,l,h,c,p,u,f,m=this.dateCalendar(t.getFullYear(),t.getMonth(),1).getDay(),g=this.dateCalendar(t.getFullYear(),t.getMonth()+1,0).getDate(),v=this.dateCalendar(t.getFullYear(),t.getMonth(),0).getDate(),b=this.$headerTitle.find(".month"),y=t.getMonth(),$=this.dateCalendar(),C=$.getDate(),w=$.getMonth(),x=$.getFullYear(),k=this.selectedDate,_=this.$days.find("tbody"),S=t.getFullYear();for(k&&(k={date:k.getDate(),month:k.getMonth(),year:k.getFullYear()}),b.find(".current").removeClass("current"),b.find('span[data-month="'+y+'"]').addClass("current"),this.$headerTitle.find(".year").text(S),this.$headerTitle.attr({"data-month":y,"data-year":S}),_.empty(),0!==m?(s=v-m+1,h=-1):(s=1,h=0),l=g<=35-m?5:6,r=0;r<l;r++){for(o=0,f=d("<tr></tr>");o<7;o++)u=d("<td></td>"),-1===h?(u.addClass("last-month"),c!==h&&u.addClass("first")):1===h&&(u.addClass("next-month"),c!==h&&u.addClass("first")),n=y+h,a=S,n<0?(n=11,a--):n>11&&(n=0,a++),u.attr({"data-date":s,"data-month":n,"data-year":a}),a===x&&n===w&&s===C?u.addClass("current-day"):(a<x||a===x&&n<w||a===x&&n===w&&s<C)&&(u.addClass("past"),this.options.allowPastDates||u.addClass("restricted").attr("title",this.restrictedText)),this.isRestricted(s,n,a)&&u.addClass("restricted").attr("title",this.restrictedText),k&&a===k.year&&n===k.month&&s===k.date&&u.addClass("selected"),u.hasClass("restricted")?u.html('<span><b class="datepicker-date">'+s+"</b></span>"):u.html('<span><button type="button" class="datepicker-date">'+s+"</button></span>"),s++,p=c,c=h,-1===h&&s>v?(s=1,p!==(h=0)&&u.addClass("last")):0===h&&s>g&&(s=1,p!==(h=1)&&u.addClass("last")),r===l-1&&6===o&&u.addClass("last"),f.append(u);_.append(f)}},renderWheel:function(t){var s,n,a,r=t.getMonth(),o=this.$wheelsMonth.find("ul"),l=t.getFullYear(),h=this.$wheelsYear.find("ul");for(this.sameYearOnly?(this.$wheelsMonth.addClass("full"),this.$wheelsYear.addClass("hidden")):(this.$wheelsMonth.removeClass("full"),this.$wheelsYear.removeClass("hide hidden")),o.find(".selected").removeClass("selected"),(n=o.find('li[data-month="'+r+'"]')).addClass("selected"),o.scrollTop(o.scrollTop()+(n.position().top-o.outerHeight()/2-n.outerHeight(!0)/2)),h.empty(),s=l-10;s<l+11;s++)h.append('<li data-year="'+s+'"><button type="button">'+s+"</button></li>");(a=h.find('li[data-year="'+l+'"]')).addClass("selected"),this.artificialScrolling=!0,h.scrollTop(h.scrollTop()+(a.position().top-h.outerHeight()/2-a.outerHeight(!0)/2)),this.artificialScrolling=!1,n.find("button").focus()},selectClicked:function(){var t=this.$wheelsMonth.find(".selected").attr("data-month"),s=this.$wheelsYear.find(".selected").attr("data-year");this.changeView("calendar",this.dateCalendar(s,t,1))},setCulture:function(t){if(!t)return!1;if(this.moment)f.locale(t);else throw p},setDate:function(t){var s=this.parseDate(t);return this.isInvalidDate(s)?(this.selectedDate=null,this.renderMonth()):this.isRestricted(s.getDate(),s.getMonth(),s.getFullYear())?(this.selectedDate=!1,this.renderMonth()):(this.selectedDate=s,this.renderMonth(s),this.$input.val(this.formatDate(s))),this.inputValue=this.$input.val(),this.selectedDate},setFormat:function(t){if(!t)return!1;if(this.moment)this.momentFormat=t;else throw p},setRestrictedDates:function(t){var s,n,a=[],r=this,o=function(t){return t===-1/0?{date:-1/0,month:-1/0,year:-1/0}:t===1/0?{date:1/0,month:1/0,year:1/0}:{date:(t=r.parseDate(t)).getDate(),month:t.getMonth(),year:t.getFullYear()}};for(s=0,this.restricted=t,n=t.length;s<n;s++)a.push({from:o(t[s].from),to:o(t[s].to)});this.restrictedParsed=a},titleClicked:function(t){this.changeView("wheels",this.dateCalendar(this.$headerTitle.attr("data-year"),this.$headerTitle.attr("data-month"),1))},todayClicked:function(t){var s=this.dateCalendar();(s.getMonth()+""!==this.$headerTitle.attr("data-month")||s.getFullYear()+""!==this.$headerTitle.attr("data-year"))&&this.renderMonth(s)},yearClicked:function(t){this.$wheelsYear.find(".selected").removeClass("selected"),d(t.currentTarget).parent().addClass("selected")}},b.prototype.getValue=b.prototype.getDate,d.fn.datepicker=function(t){var s,n=Array.prototype.slice.call(arguments,1),a=this.each(function(){var a=d(this),r=a.data("fu.datepicker");r||a.data("fu.datepicker",r=new b(this,"object"==typeof t&&t)),"string"==typeof t&&(s=r[t].apply(r,n))});return void 0===s?a:s},d.fn.datepicker.defaults={allowPastDates:!0,date:null,calendar:"gregorian",formatDate:null,momentConfig:{culture:"en",format:"L"},parseDate:null,restricted:[],restrictedText:"Restricted",sameYearOnly:!1},d.fn.datepicker.Constructor=b,d.fn.datepicker.noConflict=function(){return d.fn.datepicker=m,this},d(document).on("mousedown.fu.datepicker.data-api","[data-initialize=datepicker]",function(t){var s=d(t.target).closest(".datepicker");s.data("datepicker")||s.datepicker(s.data())}),d(document).on("click.fu.datepicker.data-api",".datepicker .dropdown-menu",function(t){var s=d(t.target);(!s.is(".datepicker-date")||s.closest(".restricted").length)&&t.stopPropagation()}),d(document).on("click.fu.datepicker.data-api",".datepicker input",function(t){t.stopPropagation()}),d(function(){d("[data-initialize=datepicker]").each(function(){var t=d(this);!t.data("datepicker")&&t.datepicker(t.data())})}),function(t){function s(s){var n,a,r,o,l,h,d;t(s).css({visibility:"hidden"}),(n=s,h=(a=n,o=a.attr("data-target"),l=!0,o?"window"!==o&&(r=t(o),l=!1):t.each(a.parents(),function(s,n){if("visible"!==t(n).css("overflow"))return r=n,l=!1,!1}),l&&(r=window),{overflowElement:t(r),isWindow:l}),d={},d.parentHeight=n.parent().outerHeight(),d.parentOffsetTop=n.parent().offset().top,d.dropdownHeight=n.outerHeight(),d.containerHeight=h.overflowElement.outerHeight(),d.containerOffsetTop=h.isWindow?h.overflowElement.scrollTop():h.overflowElement.offset().top,d.fromTop=d.parentOffsetTop-d.containerOffsetTop,d.fromBottom=d.containerHeight-d.parentHeight-(d.parentOffsetTop-d.containerOffsetTop),!(d.dropdownHeight<d.fromBottom)&&(d.dropdownHeight<d.fromTop||(d.dropdownHeight>=d.fromTop&&d.dropdownHeight>=d.fromBottom?d.fromTop>=d.fromBottom:void 0)))?s.parent().addClass("dropup"):s.parent().removeClass("dropup"),t(s).css({visibility:"visible"})}t(document).on("click.fu.dropdown-autoflip","[data-toggle=dropdown][data-flip]",function(n){"auto"===t(this).data().flip&&s(t(this).next(".dropdown-menu"))}),t(document).on("suggested.fu.pillbox",function(n,a){s(t(a)),t(a).parent().addClass("open")}),t.fn.dropdownautoflip=function(){}}(t),$=(y=t).fn.loader,(C=function(t,s){this.$element=y(t),this.options=y.extend({},y.fn.loader.defaults,s)}).prototype={constructor:C,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},ieRepaint:function(){},msieVersion:function(){},next:function(){},pause:function(){},play:function(){},previous:function(){},reset:function(){}},y.fn.loader=function(t){var s,n=Array.prototype.slice.call(arguments,1),a=this.each(function(){var a=y(this),r=a.data("fu.loader");r||a.data("fu.loader",r=new C(this,"object"==typeof t&&t)),"string"==typeof t&&(s=r[t].apply(r,n))});return void 0===s?a:s},y.fn.loader.defaults={},y.fn.loader.Constructor=C,y.fn.loader.noConflict=function(){return y.fn.loader=$,this},y(function(){y("[data-initialize=loader]").each(function(){var t=y(this);t.data("fu.loader")||t.loader(t.data())})}),x=(w=t).fn.placard,k={accepted:"onAccept",cancelled:"onCancel"},_=function t(s,n){var a=this;this.$element=w(s),this.options=w.extend({},w.fn.placard.defaults,n),"true"===this.$element.attr("data-ellipsis")&&(this.options.applyEllipsis=!0),this.$accept=this.$element.find(".placard-accept"),this.$cancel=this.$element.find(".placard-cancel"),this.$field=this.$element.find(".placard-field"),this.$footer=this.$element.find(".placard-footer"),this.$header=this.$element.find(".placard-header"),this.$popup=this.$element.find(".placard-popup"),this.actualValue=null,this.clickStamp="_",this.previousValue="",-1===this.options.revertOnCancel&&(this.options.revertOnCancel=this.$accept.length>0),this.isContentEditableDiv=this.$field.is("div"),this.isInput=this.$field.is("input"),this.divInTextareaMode=this.isContentEditableDiv&&"true"===this.$field.attr("data-textarea"),this.$field.on("focus.fu.placard",w.proxy(this.show,this)),this.$field.on("keydown.fu.placard",w.proxy(this.keyComplete,this)),this.$element.on("close.fu.placard",w.proxy(this.hide,this)),this.$accept.on("click.fu.placard",w.proxy(this.complete,this,"accepted")),this.$cancel.on("click.fu.placard",function(t){t.preventDefault(),a.complete("cancelled")}),this.applyEllipsis()},S=function t(s){return s.$element.hasClass("showing")},T=function t(){var s;if((s=w(document).find(".placard.showing")).length>0){if(s.data("fu.placard")&&s.data("fu.placard").options.explicit)return!1;s.placard("externalClickListener",{},!0)}return!0},_.prototype={constructor:_,complete:function t(s){var n=this.options[k[s]],a={previousValue:this.previousValue,value:this.getValue()};n?(n(a),this.$element.trigger(s+".fu.placard",a)):("cancelled"===s&&this.options.revertOnCancel&&this.setValue(this.previousValue,!0),this.$element.trigger(s+".fu.placard",a),this.hide())},keyComplete:function t(s){(this.isContentEditableDiv&&!this.divInTextareaMode||this.isInput)&&13===s.keyCode?(this.complete("accepted"),this.$field.blur()):27===s.keyCode&&(this.complete("cancelled"),this.$field.blur())},destroy:function t(){return this.$element.remove(),w(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.find("input").each(function(){w(this).attr("value",w(this).val())}),this.$element[0].outerHTML},disable:function t(){this.$element.addClass("disabled"),this.$field.attr("disabled","disabled"),this.isContentEditableDiv&&this.$field.removeAttr("contenteditable"),this.hide()},applyEllipsis:function t(){var s,n,a;if(this.options.applyEllipsis){if(s=this.$field.get(0),this.isContentEditableDiv&&!this.divInTextareaMode||this.isInput)s.scrollLeft=0;else if(s.scrollTop=0,s.clientHeight<s.scrollHeight){for(this.actualValue=this.getValue(),this.setValue("",!0),a="",n=0;s.clientHeight>=s.scrollHeight;)a+=this.actualValue[n],this.setValue(a+"...",!0),n++;a=a.length>0?a.substring(0,a.length-1):"",this.setValue(a+"...",!0)}}},enable:function t(){this.$element.removeClass("disabled"),this.$field.removeAttr("disabled"),this.isContentEditableDiv&&this.$field.attr("contenteditable","true")},externalClickListener:function t(s,n){(!0===n||this.isExternalClick(s))&&this.complete(this.options.externalClickAction)},getValue:function t(){return null!==this.actualValue?this.actualValue:this.isContentEditableDiv?this.$field.html():this.$field.val()},hide:function t(){this.$element.hasClass("showing")&&(this.$element.removeClass("showing"),this.applyEllipsis(),w(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.placard"))},isExternalClick:function t(s){var n,a,r=this.$element.get(0),o=this.options.externalClickExceptions||[],l=w(s.target);if(s.target===r||l.parents(".placard:first").get(0)===r)return!1;for(n=0,a=o.length;n<a;n++)if(l.is(o[n])||l.parents(o[n]).length>0)return!1;return!0},setValue:function t(s,n){return void 0===n&&(n=!this.options.applyEllipsis),this.isContentEditableDiv?this.$field.empty().append(s):this.$field.val(s),n||S(this)||this.applyEllipsis(),this.$field},show:function t(){!S(this)&&T()&&(this.previousValue=this.isContentEditableDiv?this.$field.html():this.$field.val(),null!==this.actualValue&&(this.setValue(this.actualValue,!0),this.actualValue=null),this.showPlacard())},showPlacard:function t(){this.$element.addClass("showing"),this.$header.length>0&&this.$popup.css("top","-"+this.$header.outerHeight(!0)+"px"),this.$footer.length>0&&this.$popup.css("bottom","-"+this.$footer.outerHeight(!0)+"px"),this.$element.trigger("shown.fu.placard"),this.clickStamp=new Date().getTime()+(Math.floor(100*Math.random())+1),this.options.explicit||w(document).on("click.fu.placard.externalClick."+this.clickStamp,w.proxy(this.externalClickListener,this))}},w.fn.placard=function(t){var s,n=Array.prototype.slice.call(arguments,1),a=this.each(function(){var a=w(this),r=a.data("fu.placard");r||a.data("fu.placard",r=new _(this,"object"==typeof t&&t)),"string"==typeof t&&(s=r[t].apply(r,n))});return void 0===s?a:s},w.fn.placard.defaults={onAccept:void 0,onCancel:void 0,externalClickAction:"cancelled",externalClickExceptions:[],explicit:!1,revertOnCancel:-1,applyEllipsis:!1},w.fn.placard.Constructor=_,w.fn.placard.noConflict=function(){return w.fn.placard=x,this},w(document).on("focus.fu.placard.data-api","[data-initialize=placard]",function(t){var s=w(t.target).closest(".placard");s.data("fu.placard")||s.placard(s.data())}),w(function(){w("[data-initialize=placard]").each(function(){var t=w(this);t.data("fu.placard")||t.placard(t.data())})}),I=(D=t).fn.radio,O=function t(s){window&&window.console&&window.console.error&&window.console.error(s)},(E=function t(s,n){if(this.options=D.extend({},D.fn.radio.defaults,n),"label"!==s.tagName.toLowerCase()){O("Radio must be initialized on the `label` that wraps the `input` element. See https://github.com/ExactTarget/fuelux/blob/master/reference/markup/radio.html for example of proper markup. Call `.radio()` on the `<label>` not the `<input>`");return}this.$label=D(s),this.$radio=this.$label.find('input[type="radio"]'),this.groupName=this.$radio.attr("name"),!this.options.ignoreVisibilityCheck&&this.$radio.css("visibility").match(/hidden|collapse/)&&O("For accessibility reasons, in order for tab and space to function on radio, `visibility` must not be set to `hidden` or `collapse`. See https://github.com/ExactTarget/fuelux/pull/1996 for more details.");var a=this.$radio.attr("data-toggle");this.$toggleContainer=D(a),this.$radio.on("change",D.proxy(this.itemchecked,this)),this.setInitialState()}).prototype={constructor:E,setInitialState:function t(){var s=this.$radio,n=s.prop("checked"),a=s.prop("disabled");this.setCheckedState(s,n),this.setDisabledState(s,a)},resetGroup:function t(){D('input[name="'+this.groupName+'"]').each(function t(s,n){var a=D(n),r=a.parent(),o=D(a.attr("data-toggle"));r.removeClass("checked"),o.addClass("hidden")})},setCheckedState:function t(s,n){var a=s,r=a.parent(),o=D(a.attr("data-toggle"));n?(this.resetGroup(),a.prop("checked",!0),r.addClass("checked"),o.removeClass("hide hidden"),r.trigger("checked.fu.radio")):(a.prop("checked",!1),r.removeClass("checked"),o.addClass("hidden"),r.trigger("unchecked.fu.radio")),r.trigger("changed.fu.radio",n)},setDisabledState:function t(s,n){var a=D(s),r=this.$label;return n?(a.prop("disabled",!0),r.addClass("disabled"),r.trigger("disabled.fu.radio")):(a.prop("disabled",!1),r.removeClass("disabled"),r.trigger("enabled.fu.radio")),a},itemchecked:function t(s){var n=D(s.target);this.setCheckedState(n,!0)},check:function t(){this.setCheckedState(this.$radio,!0)},uncheck:function t(){this.setCheckedState(this.$radio,!1)},isChecked:function t(){return this.$radio.prop("checked")},enable:function t(){this.setDisabledState(this.$radio,!1)},disable:function t(){this.setDisabledState(this.$radio,!0)},destroy:function t(){return this.$label.remove(),this.$label[0].outerHTML}},E.prototype.getValue=E.prototype.isChecked,D.fn.radio=function t(s){var n,a=Array.prototype.slice.call(arguments,1),r=this.each(function t(){var r=D(this),o=r.data("fu.radio");o||r.data("fu.radio",o=new E(this,"object"==typeof s&&s)),"string"==typeof s&&(n=o[s].apply(o,a))});return void 0===n?r:n},D.fn.radio.defaults={ignoreVisibilityCheck:!1},D.fn.radio.Constructor=E,D.fn.radio.noConflict=function t(){return D.fn.radio=I,this},D(document).on("mouseover.fu.radio.data-api","[data-initialize=radio]",function t(s){var n=D(s.target);n.data("fu.radio")||n.radio(n.data())}),D(function t(){D("[data-initialize=radio]").each(function t(){var s=D(this);s.data("fu.radio")||s.radio(s.data())})}),z=(A=t).fn.search,(B=function(t,s){this.$element=A(t),this.$repeater=A(t).closest(".repeater"),this.options=A.extend({},A.fn.search.defaults,s),"true"===this.$element.attr("data-searchOnKeyPress")&&(this.options.searchOnKeyPress=!0),this.$button=this.$element.find("button"),this.$input=this.$element.find("input"),this.$icon=this.$element.find(".glyphicon, .fuelux-icon"),this.$button.on("click.fu.search",A.proxy(this.buttonclicked,this)),this.$input.on("keyup.fu.search",A.proxy(this.keypress,this)),this.$repeater.length>0&&this.$repeater.on("rendered.fu.repeater",A.proxy(this.clearPending,this)),this.activeSearch=""}).prototype={constructor:B,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){A(this).attr("value",A(this).val())}),this.$element[0].outerHTML},search:function(t){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-search").addClass("glyphicon-remove"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-search").addClass("fuelux-icon-remove"),this.activeSearch=t,this.$element.addClass("searched pending"),this.$element.trigger("searched.fu.search",t)},clear:function(){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-remove").addClass("glyphicon-search"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-remove").addClass("fuelux-icon-search"),this.$element.hasClass("pending")&&this.$element.trigger("canceled.fu.search"),this.activeSearch="",this.$input.val(""),this.$element.trigger("cleared.fu.search"),this.$element.removeClass("searched pending")},clearPending:function(){this.$element.removeClass("pending")},action:function(){var t=this.$input.val();t&&t.length>0?this.search(t):this.clear()},buttonclicked:function(t){t.preventDefault(),A(t.currentTarget).is(".disabled, :disabled")||(this.$element.hasClass("pending")||this.$element.hasClass("searched")?this.clear():this.action())},keypress:function(t){13===t.which?(t.preventDefault(),this.action()):9===t.which?t.preventDefault():27===t.which?(t.preventDefault(),this.clear()):this.options.searchOnKeyPress&&this.action()},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled","disabled"),this.options.allowCancel||this.$button.addClass("disabled")},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")}},A.fn.search=function(t){var s,n=Array.prototype.slice.call(arguments,1),a=this.each(function(){var a=A(this),r=a.data("fu.search");r||a.data("fu.search",r=new B(this,"object"==typeof t&&t)),"string"==typeof t&&(s=r[t].apply(r,n))});return void 0===s?a:s},A.fn.search.defaults={clearOnEmpty:!1,searchOnKeyPress:!1,allowCancel:!1},A.fn.search.Constructor=B,A.fn.search.noConflict=function(){return A.fn.search=z,this},A(document).on("mousedown.fu.search.data-api","[data-initialize=search]",function(t){var s=A(t.target).closest(".search");s.data("fu.search")||s.search(s.data())}),A(function(){A("[data-initialize=search]").each(function(){var t=A(this);t.data("fu.search")||t.search(t.data())})}),H=(Y=t).fn.selectlist,(P=function(t,s){this.$element=Y(t),this.options=Y.extend({},Y.fn.selectlist.defaults,s),this.$button=this.$element.find(".btn.dropdown-toggle"),this.$hiddenField=this.$element.find(".hidden-field"),this.$label=this.$element.find(".selected-label"),this.$dropdownMenu=this.$element.find(".dropdown-menu"),this.$element.on("click.fu.selectlist",".dropdown-menu a",Y.proxy(this.itemClicked,this)),this.setDefaultSelection(),("auto"===s.resize||"auto"===this.$element.attr("data-resize"))&&this.resize(),0===this.$dropdownMenu.children("li").length&&(this.disable(),this.doSelect(Y(this.options.emptyLabelHTML))),this.$element.on("shown.bs.dropdown",function(){var t=Y(this);Y(document).on("keypress.fu.selectlist",function(s){var n=String.fromCharCode(s.which);t.find("li").each(function(t,s){if(Y(s).text().charAt(0).toLowerCase()===n)return Y(s).children("a").focus(),!1})})}),this.$element.on("hide.bs.dropdown",function(){Y(document).off("keypress.fu.selectlist")})}).prototype={constructor:P,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},doSelect:function(t){var s;this.$selectedItem=s=t,this.$hiddenField.val(this.$selectedItem.attr("data-value")),this.$label.html(Y(this.$selectedItem.children()[0]).html()),this.$element.find("li").each(function(){s.is(Y(this))?Y(this).attr("data-selected",!0):Y(this).removeData("selected").removeAttr("data-selected")})},itemClicked:function(t){this.$element.trigger("clicked.fu.selectlist",this.$selectedItem),t.preventDefault(),!Y(t.currentTarget).parent("li").is(".disabled, :disabled")&&(Y(t.target).parent().is(this.$selectedItem)||this.itemChanged(t),this.$element.find(".dropdown-toggle").focus())},itemChanged:function(t){this.doSelect(Y(t.target).closest("li"));var s=this.selectedItem();this.$element.trigger("changed.fu.selectlist",s)},resize:function(){var t=0,s=0,n=Y("<div/>").addClass("selectlist-sizer");Boolean(Y(document).find("html").hasClass("fuelux"))?Y(document.body).append(n):Y(".fuelux:first").append(n),n.append(this.$element.clone()),this.$element.find("a").each(function(){n.find(".selected-label").text(Y(this).text()),s=n.find(".selectlist").outerWidth(),(s+=n.find(".sr-only").outerWidth())>t&&(t=s)}),!(t<=1)&&(this.$button.css("width",t),this.$dropdownMenu.css("width",t),n.remove())},selectedItem:function(){var t=this.$selectedItem.text();return Y.extend({text:t},this.$selectedItem.data())},selectByText:function(t){var s=Y([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||Y(this).text()||"").toLowerCase()===(t||"").toLowerCase())return s=Y(this),!1}),this.doSelect(s)},selectByValue:function(t){this.selectBySelector('li[data-value="'+t+'"]')},selectByIndex:function(t){this.selectBySelector("li:eq("+t+")")},selectBySelector:function(t){var s=this.$element.find(t);this.doSelect(s)},setDefaultSelection:function(){var t=this.$element.find("li[data-selected=true]").eq(0);0===t.length&&(t=this.$element.find("li").has("a").eq(0)),this.doSelect(t)},enable:function(){this.$element.removeClass("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$button.addClass("disabled")}},P.prototype.getValue=P.prototype.selectedItem,Y.fn.selectlist=function(t){var s,n=Array.prototype.slice.call(arguments,1),a=this.each(function(){var a=Y(this),r=a.data("fu.selectlist");r||a.data("fu.selectlist",r=new P(this,"object"==typeof t&&t)),"string"==typeof t&&(s=r[t].apply(r,n))});return void 0===s?a:s},Y.fn.selectlist.defaults={emptyLabelHTML:'<li data-value=""><a href="#">No items</a></li>'},Y.fn.selectlist.Constructor=P,Y.fn.selectlist.noConflict=function(){return Y.fn.selectlist=H,this},Y(document).on("mousedown.fu.selectlist.data-api","[data-initialize=selectlist]",function(t){var s=Y(t.target).closest(".selectlist");s.data("fu.selectlist")||s.selectlist(s.data())}),Y(function(){Y("[data-initialize=selectlist]").each(function(){var t=Y(this);t.data("fu.selectlist")||t.selectlist(t.data())})}),V=(M=t).fn.spinbox,L=function t(s,n){this.$element=M(s),this.$element.find(".btn").on("click",function(t){t.preventDefault()}),this.options=M.extend({},M.fn.spinbox.defaults,n),this.options.step=this.$element.data("step")||this.options.step,this.options.value<this.options.min?this.options.value=this.options.min:this.options.max<this.options.value&&(this.options.value=this.options.max),this.$input=this.$element.find(".spinbox-input"),this.$input.on("focusout.fu.spinbox",this.$input,M.proxy(this.change,this)),this.$element.on("keydown.fu.spinbox",this.$input,M.proxy(this.keydown,this)),this.$element.on("keyup.fu.spinbox",this.$input,M.proxy(this.keyup,this)),this.options.hold?(this.$element.on("mousedown.fu.spinbox",".spinbox-up",M.proxy(function(){this.startSpin(!0)},this)),this.$element.on("mouseup.fu.spinbox",".spinbox-up, .spinbox-down",M.proxy(this.stopSpin,this)),this.$element.on("mouseout.fu.spinbox",".spinbox-up, .spinbox-down",M.proxy(this.stopSpin,this)),this.$element.on("mousedown.fu.spinbox",".spinbox-down",M.proxy(function(){this.startSpin(!1)},this))):(this.$element.on("click.fu.spinbox",".spinbox-up",M.proxy(function(){this.step(!0)},this)),this.$element.on("click.fu.spinbox",".spinbox-down",M.proxy(function(){this.step(!1)},this))),this.switches={count:1,enabled:!0},"medium"===this.options.speed?this.switches.speed=300:"fast"===this.options.speed?this.switches.speed=100:this.switches.speed=500,this.options.defaultUnit=N(this.options.defaultUnit,this.options.units)?this.options.defaultUnit:"",this.unit=this.options.defaultUnit,this.lastValue=this.options.value,this.render(),this.options.disabled&&this.disable()},N=function t(s,n){var a=!1,r=s.toLowerCase();return M.each(n,function(t,s){if(r===(s=s.toLowerCase()))return a=!0,!1}),a},R=function t(s){if(isNaN(parseFloat(s)))return s;if(s>this.options.max?s=this.options.cycle?this.options.min:this.options.max:s<this.options.min&&(s=this.options.cycle?this.options.max:this.options.min),this.options.limitToStep&&this.options.step){var n,a;(s=(n=s,Math.round(n/(a=this.options.step))*a))>this.options.max?s-=this.options.step:s<this.options.min&&(s+=this.options.step)}return s},L.prototype={constructor:L,destroy:function t(){return this.$element.remove(),this.$element.find("input").each(function(){M(this).attr("value",M(this).val())}),this.$element[0].outerHTML},render:function t(){this._setValue(this.getDisplayValue())},change:function t(){this._setValue(this.getDisplayValue()),this.triggerChangedEvent()},stopSpin:function t(){void 0!==this.switches.timeout&&(clearTimeout(this.switches.timeout),this.switches.count=1,this.triggerChangedEvent())},triggerChangedEvent:function t(){var s=this.getValue();s!==this.lastValue&&(this.lastValue=s,this.$element.trigger("changed.fu.spinbox",s))},startSpin:function t(s){if(!this.options.disabled){var n=this.switches.count;1===n?(this.step(s),n=1):n=n<3?1.5:n<8?2.5:4,this.switches.timeout=setTimeout(M.proxy(function(){this.iterate(s)},this),this.switches.speed/n),this.switches.count++}},iterate:function t(s){this.step(s),this.startSpin(s)},step:function t(s){var n;this._setValue(this.getDisplayValue()),n=(n=s?this.options.value+this.options.step:this.options.value-this.options.step).toFixed(5),this._setValue(n+this.unit)},getDisplayValue:function t(){var s;return this.parseInput(this.$input.val())||this.options.value},setDisplayValue:function t(s){this.$input.val(s)},getValue:function t(){var s=this.options.value;return"."!==this.options.decimalMark&&(s=(s+"").split(".").join(this.options.decimalMark)),s+this.unit},setValue:function t(s){return this._setValue(s,!0)},_setValue:function t(s,n){if("."!==this.options.decimalMark&&(s=this.parseInput(s)),"number"!=typeof s){var a=s.replace(/[0-9.-]/g,"");this.unit=N(a,this.options.units)?a:this.options.defaultUnit}var r=this.getIntValue(s);return isNaN(r)&&!isFinite(r)?this._setValue(this.options.value,n):(r=R.call(this,r),this.options.value=r,s=r+this.unit,"."!==this.options.decimalMark&&(s=(s+"").split(".").join(this.options.decimalMark)),this.setDisplayValue(s),n&&(this.lastValue=s),this)},value:function t(s){return s||0===s?this.setValue(s):this.getValue()},parseInput:function t(s){return s=(s+"").split(this.options.decimalMark).join(".")},getIntValue:function t(s){if(void 0!==(s=void 0===s?this.getValue():s))return"string"==typeof s&&(s=this.parseInput(s)),s=parseFloat(s,10)},disable:function t(){this.options.disabled=!0,this.$element.addClass("disabled"),this.$input.attr("disabled",""),this.$element.find("button").addClass("disabled")},enable:function t(){this.options.disabled=!1,this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$element.find("button").removeClass("disabled")},keydown:function t(s){var n=s.keyCode;38===n?this.step(!0):40===n?this.step(!1):13===n&&this.change()},keyup:function t(s){var n=s.keyCode;(38===n||40===n)&&this.triggerChangedEvent()}},M.fn.spinbox=function t(s){var n,a=Array.prototype.slice.call(arguments,1),r=this.each(function(){var t=M(this),r=t.data("fu.spinbox");r||t.data("fu.spinbox",r=new L(this,"object"==typeof s&&s)),"string"==typeof s&&(n=r[s].apply(r,a))});return void 0===n?r:n},M.fn.spinbox.defaults={value:0,min:0,max:999,step:1,hold:!0,speed:"medium",disabled:!1,cycle:!1,units:[],decimalMark:".",defaultUnit:"",limitToStep:!1},M.fn.spinbox.Constructor=L,M.fn.spinbox.noConflict=function t(){return M.fn.spinbox=V,this},M(document).on("mousedown.fu.spinbox.data-api","[data-initialize=spinbox]",function(t){var s=M(t.target).closest(".spinbox");s.data("fu.spinbox")||s.spinbox(s.data())}),M(function(){M("[data-initialize=spinbox]").each(function(){var t=M(this);t.data("fu.spinbox")||t.spinbox(t.data())})}),function(t){var s=t.fn.tree,n=function s(n,a){this.$element=t(n),this.options=t.extend({},t.fn.tree.defaults,a),this.$element.attr("tabindex","0"),this.options.itemSelect&&this.$element.on("click.fu.tree",".tree-item",t.proxy(function t(s){this.selectItem(s.currentTarget)},this)),this.$element.on("click.fu.tree",".tree-branch-name",t.proxy(function t(s){this.toggleFolder(s.currentTarget)},this)),this.$element.on("click.fu.tree",".tree-overflow",t.proxy(function s(n){this.populate(t(n.currentTarget))},this)),this.options.folderSelect&&(this.$element.addClass("tree-folder-select"),this.$element.off("click.fu.tree",".tree-branch-name"),this.$element.on("click.fu.tree",".icon-caret",t.proxy(function s(n){this.toggleFolder(t(n.currentTarget).parent())},this)),this.$element.on("click.fu.tree",".tree-branch-name",t.proxy(function s(n){this.selectFolder(t(n.currentTarget))},this))),this.$element.on("focus",function s(){var n=t(this);r(n,n)}),this.$element.on("keydown",function s(n){return l(t(this),n)}),this.render()};n.prototype={constructor:n,deselectAll:function s(n){var a=n||this.$element,r=t(a).find(".tree-selected");return r.each(function s(n,a){var r=t(a);d(r),p(r,r.find(".glyphicon"))}),r},destroy:function t(){return this.$element.find("li:not([data-template])").remove(),this.$element.remove(),this.$element[0].outerHTML},render:function t(){this.populate(this.$element)},populate:function s(n,a){var r=this,o=n.hasClass("tree-overflow"),l=n.hasClass("tree")?n:n.parent(),h=l.hasClass("tree");o&&!h&&(l=l.parent());var d=l.data();o&&(d.overflow=n.data()),o&&(h?n.replaceWith(l.find("> .tree-loader").remove()):n.remove());var c=l.find(".tree-loader:last");!1===(a||!1)&&c.removeClass("hide hidden"),this.options.dataSource(d||{},function s(n){t.each(n.data,function s(n,a){var o=a.type;"folder"===a.type&&(o="branch");var d=r.$element.find("[data-template=tree"+o+"]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template");d.find(".tree-"+o+"-name > .tree-label").html(a.text||a.name),d.data(a);var c=a.attr||a.dataAttributes||[];t.each(c,function t(s,n){switch(s){case"cssClass":case"class":case"className":d.addClass(n);break;case"data-icon":d.find(".icon-item").removeClass().addClass("icon-item "+n),d.attr(s,n);break;case"id":d.attr(s,n),d.attr("aria-labelledby",n+"-label"),d.find(".tree-branch-name > .tree-label").attr("id",n+"-label");break;default:d.attr(s,n)}}),h?l.append(d):l.find(".tree-branch-children:eq(0)").append(d)}),l.find(".tree-loader").addClass("hidden"),r.$element.trigger("loaded.fu.tree",l)})},selectTreeNode:function s(n,a,r){var l={};r=r||(this.options.toggleSelect?"toggle":"select"),l.$element=t(n);var d,u,f,m={};m.$elements=this.$element.find(".tree-selected"),m.dataForEvent=[],"folder"===a?(l.$element=l.$element.closest(".tree-branch"),l.$icon=l.$element.find(".icon-folder")):l.$icon=l.$element.find(".icon-item"),l.elementData=l.$element.data(),h(l.$element),m=this.options.multiSelect?(d=this,u=l,f=m,t.each(f.$elements,function s(n,a){var r=t(a);r[0]!==u.$element[0]&&f.dataForEvent.push(t(r).data())}),u.$element.hasClass("tree-selected")?(p(u.$element,u.$icon),f.eventType="deselected"):(c(u.$element,u.$icon),f.eventType="selected",f.dataForEvent.push(u.elementData)),f):function t(s,n,a,r){if(a.$elements[0]!==n.$element[0])switch(r){case"toggle":case"select":s.deselectAll(s.$element),c(n.$element,n.$icon),a.eventType="selected",a.dataForEvent=[n.elementData]}else switch(r){case"toggle":case"deselect":p(n.$element,n.$icon),a.eventType="deselected",a.dataForEvent=[]}return a}(this,l,m,r),o(this.$element,l.$element),m.eventType&&(this.$element.trigger(m.eventType+".fu.tree",{target:l.elementData,selected:m.dataForEvent}),l.$element.trigger("updated.fu.tree",{selected:m.dataForEvent,item:l.$element,eventType:m.eventType}))},discloseFolder:function s(n){var a=t(n).closest(".tree-branch"),r=a.find(".tree-branch-children"),o=r.eq(0);a.addClass("tree-open"),a.attr("aria-expanded","true"),o.removeClass("hide hidden"),a.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-close").addClass("glyphicon-folder-open");var l=this.$element,h=function t(){l.trigger("disclosedFolder.fu.tree",a.data())};r.children().length?h():(l.one("loaded.fu.tree",h),this.populate(r))},closeFolder:function s(n){var a=t(n).closest(".tree-branch"),r=a.find(".tree-branch-children").eq(0);a.removeClass("tree-open"),a.attr("aria-expanded","false"),r.addClass("hidden"),a.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-open").addClass("glyphicon-folder-close"),this.options.cacheItems||r.empty(),this.$element.trigger("closed.fu.tree",a.data())},toggleFolder:function s(n){var a=t(n);a.find(".glyphicon-folder-close").length?this.discloseFolder(n):a.find(".glyphicon-folder-open").length&&this.closeFolder(n)},selectFolder:function t(s,n){this.options.folderSelect&&this.selectTreeNode(s,"folder",n)},selectItem:function t(s,n){this.options.itemSelect&&this.selectTreeNode(s,"item",n)},selectedItems:function s(){var n=this.$element.find(".tree-selected"),a=[];return t.each(n,function s(n,r){a.push(t(r).data())}),a},collapse:function t(){var s=this,n=[],a=function t(a,r){n.push(r),0===s.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").length&&(s.$element.trigger("closedAll.fu.tree",{tree:s.$element,reportedClosed:n}),s.$element.off("loaded.fu.tree",s.$element,t))};s.$element.on("closed.fu.tree",a),s.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").each(function t(){s.closeFolder(this)})},discloseVisible:function s(){var n=this,a=n.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')"),r=[],o=function t(s,o){r.push(o),r.length===a.length&&(n.$element.trigger("disclosedVisible.fu.tree",{tree:n.$element,reportedOpened:r}),n.$element.off("loaded.fu.tree",n.$element,t))};n.$element.on("loaded.fu.tree",o),n.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").each(function s(){n.discloseFolder(t(this).find(".tree-branch-header"))})},discloseAll:function t(){var s=this;void 0===s.$element.data("disclosures")&&s.$element.data("disclosures",0);var n=s.options.disclosuresUpperLimit>=1&&s.$element.data("disclosures")>=s.options.disclosuresUpperLimit;if(0===s.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").length)s.$element.trigger("disclosedAll.fu.tree",{tree:s.$element,disclosures:s.$element.data("disclosures")}),s.options.cacheItems||s.$element.one("closeAll.fu.tree",function t(){s.$element.data("disclosures",0)});else{if(n&&(s.$element.trigger("exceededDisclosuresLimit.fu.tree",{tree:s.$element,disclosures:s.$element.data("disclosures")}),!s.$element.data("ignore-disclosures-limit")))return;s.$element.data("disclosures",s.$element.data("disclosures")+1),s.$element.one("disclosedVisible.fu.tree",function t(){s.discloseAll()}),s.discloseVisible()}},refresh:function t(){this.$element.find("li:not([data-template])").remove(),this.render()},refreshFolder:function t(s){var n=s.closest(".tree-branch"),a=n.find(".tree-branch-children");a.eq(0).empty(),n.hasClass("tree-open")?this.populate(a,!1):this.populate(a,!0),this.$element.trigger("refreshedFolder.fu.tree",n.data())}},n.prototype.closeAll=n.prototype.collapse,n.prototype.openFolder=n.prototype.discloseFolder,n.prototype.getValue=n.prototype.selectedItems;var a=function t(s,n){s.attr("tabindex",-1),s.find("li").attr("tabindex",-1),n&&n.length>0&&n.attr("tabindex",0)},r=function t(s,n){var a=n.find(".tree-selected:first");a.length<=0&&(a=n.find('li:not(".hidden"):first')),o(s,a)},o=function t(s,n){a(s,n),s.attr("aria-activedescendant",n.attr("id")),n.focus(),s.trigger("setFocus.fu.tree",n)},l=function s(n,a){if(a.isDefaultPrevented()||a.isPropagationStopped())return!1;var l=a.originalEvent.target,h=t(l),d=h.hasClass("tree-open"),c=!1,p=!0,u=function t(){n.trigger("keyboardNavigated.fu.tree",a,h)};switch(a.which){case 13:case 32:var f=n.hasClass("tree-folder-select"),m=h.hasClass("tree-branch"),g=h.hasClass("tree-item");p=!1,m?f?(n.one("selected.fu.tree deselected.fu.tree",u),n.tree("selectFolder",h.find(".tree-branch-header")[0])):(n.one("loaded.fu.tree closed.fu.tree",u),n.tree("toggleFolder",h.find(".tree-branch-header")[0])):g?(n.one("selected.fu.tree",u),n.tree("selectItem",h)):(v=t(h.prevAll().not(".hidden")[0]),h.click(),n.one("loaded.fu.tree",function s(){y=t(v.nextAll().not(".hidden")[0]),o(n,y),u()})),c=!0;break;case 35:o(n,n.find('li:not(".hidden"):last')),c=!0;break;case 36:o(n,n.find('li:not(".hidden"):first')),c=!0;break;case 37:d?(p=!1,n.one("closed.fu.tree",u),n.tree("closeFolder",l)):o(n,t(h.parents("li")[0])),c=!0;break;case 38:var v=[];if((v=t(h.prevAll().not(".hidden")[0])).hasClass("tree-open")){var b=v.find('li:not(".hidden"):last');b.length>0&&(v=t(b[0]))}v.length<1&&(v=t(h.parents("li")[0])),o(n,v),c=!0;break;case 39:d?r(n,h):(p=!1,n.one("disclosed.fu.tree",u),n.tree("discloseFolder",l)),c=!0;break;case 40:var y=t(h.find('li:not(".hidden"):first')[0]);(!d||y.length<=0)&&(y=t(h.nextAll().not(".hidden")[0])),y.length<1&&(y=t(t(h.parents("li")[0]).nextAll().not(".hidden")[0])),o(n,y),c=!0;break;default:return!0}return c&&(a.preventDefault(),a.stopPropagation(),p&&u()),!0},h=function t(s){s.attr("aria-selected",!0)},d=function t(s){s.attr("aria-selected",!1)};function c(t,s){t.addClass("tree-selected"),"item"===t.data("type")&&s.hasClass("fueluxicon-bullet")&&s.removeClass("fueluxicon-bullet").addClass("glyphicon-ok")}function p(t,s){t.removeClass("tree-selected"),"item"===t.data("type")&&s.hasClass("glyphicon-ok")&&s.removeClass("glyphicon-ok").addClass("fueluxicon-bullet")}t.fn.tree=function s(a){var r,o=Array.prototype.slice.call(arguments,1),l=this.each(function s(){var l=t(this),h=l.data("fu.tree");h||(l.data("fu.tree",h=new n(this,"object"==typeof a&&a)),l.trigger("initialized.fu.tree")),"string"==typeof a&&(r=h[a].apply(h,o))});return void 0===r?l:r};var u=function s(n,a){if(t.isEmptyObject(n))return a;if(void 0===a)return!1;for(var r=0;r<a.length;r++){var o=a[r];if(o.attr&&n.attr&&o.attr.id===n.attr.id)return o.children;if(o.children){var l=s(n,o.children);if(l)return l}}return!1};t.fn.tree.defaults={staticData:[],dataSource:function t(s,n){this.staticData.length>0&&n({data:u(s,this.staticData)})},multiSelect:!1,cacheItems:!0,folderSelect:!0,itemSelect:!0,toggleSelect:!0,disclosuresUpperLimit:0},t.fn.tree.Constructor=n,t.fn.tree.noConflict=function n(){return t.fn.tree=s,this}}(t),F=t,j={BACKSPACE_KEYCODE:8,COMMA_KEYCODE:188,DELETE_KEYCODE:46,DOWN_ARROW_KEYCODE:40,ENTER_KEYCODE:13,TAB_KEYCODE:9,UP_ARROW_KEYCODE:38},U=function t(s){return!0===s.shiftKey},K=(W=function t(s){return function t(n){return n.keyCode===s}})(j.BACKSPACE_KEYCODE),G=W(j.DELETE_KEYCODE),Z=W(j.TAB_KEYCODE),q=W(j.UP_ARROW_KEYCODE),Q=W(j.DOWN_ARROW_KEYCODE),J=/&[^\s]*;/,X=function t(s){for(;J.test(s);)s=F("<i>").html(s).text();return F("<i>").text(s).html()},F.fn.utilities={CONST:j,cleanInput:X,isBackspaceKey:K,isDeleteKey:G,isShiftHeld:U,isTabKey:Z,isUpArrow:q,isDownArrow:Q},te=(tt=t).fn.wizard,(ti=function(t,s){this.$element=tt(t),this.options=tt.extend({},tt.fn.wizard.defaults,s),this.options.disablePreviousStep="previous"===this.$element.attr("data-restrict")||this.options.disablePreviousStep,this.currentStep=this.options.selectedItem.step,this.numSteps=this.$element.find(".steps li").length,this.$prevBtn=this.$element.find("button.btn-prev"),this.$nextBtn=this.$element.find("button.btn-next");var n=this.$nextBtn.children().detach();this.nextText=tt.trim(this.$nextBtn.text()),this.$nextBtn.append(n);var a=this.$element.children(".steps-container");0===a.length&&(a=this.$element,this.$element.addClass("no-steps-container"),window&&window.console&&window.console.warn&&window.console.warn('please update your wizard markup to include ".steps-container" as seen in http://getfuelux.com/javascript.html#wizard-usage-markup')),a=a.find(".steps"),this.$prevBtn.on("click.fu.wizard",tt.proxy(this.previous,this)),this.$nextBtn.on("click.fu.wizard",tt.proxy(this.next,this)),a.on("click.fu.wizard","li.complete",tt.proxy(this.stepclicked,this)),this.selectedItem(this.options.selectedItem),this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))}).prototype={constructor:ti,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},addSteps:function(t){var s,n,a,r,o,l,h=[].slice.call(arguments).slice(1),d=this.$element.find(".steps"),c=this.$element.find(".step-content");for(t=-1===t||t>this.numSteps+1?this.numSteps+1:t,h[0]instanceof Array&&(h=h[0]),o=d.find("li:nth-child("+t+")"),r=c.find(".step-pane:nth-child("+t+")"),o.length<1&&(o=null),s=0,n=h.length;s<n;s++)(l=tt('<li data-step="'+t+'"><span class="badge badge-info"></span></li>')).append(h[s].label||"").append('<span class="chevron"></span>'),l.find(".badge").append(h[s].badge||t),(a=tt('<div class="step-pane" data-step="'+t+'"></div>')).append(h[s].pane||""),o?(o.before(l),r.before(a)):(d.append(l),c.append(a)),t++;this.syncSteps(),this.numSteps=d.find("li").length,this.setState()},removeSteps:function(t,s){var n,a="nextAll",r=0,o=this.$element.find(".steps"),l=this.$element.find(".step-content");s=void 0!==s?s:1,t>o.find("li").length?n=o.find("li:last"):(n=o.find("li:nth-child("+t+")").prev()).length<1&&(a="children",n=o),n[a]().each(function(){var t=tt(this),n=t.attr("data-step");if(!(r<s))return!1;t.remove(),l.find('.step-pane[data-step="'+n+'"]:first').remove(),r++}),this.syncSteps(),this.numSteps=o.find("li").length,this.setState()},setState:function(){var t=this.currentStep>1,s=1===this.currentStep,n=this.currentStep===this.numSteps;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",!0===s||!1===t);var a=this.$nextBtn.attr("data-last");if(a){this.lastText=a;var r=this.nextText;!0===n?(r=this.lastText,this.$element.addClass("complete")):this.$element.removeClass("complete");var o=this.$nextBtn.children().detach();this.$nextBtn.text(r).append(o)}var l=this.$element.find(".steps li");l.removeClass("active").removeClass("complete"),l.find("span.badge").removeClass("badge-info").removeClass("badge-success");var h=".steps li:lt("+(this.currentStep-1)+")",d=this.$element.find(h);d.addClass("complete"),d.find("span.badge").addClass("badge-success");var c=".steps li:eq("+(this.currentStep-1)+")",p=this.$element.find(c);p.addClass("active"),p.find("span.badge").addClass("badge-info");var u=this.$element.find(".step-content"),f=p.attr("data-step");u.find(".step-pane").removeClass("active"),u.find('.step-pane[data-step="'+f+'"]:first').addClass("active"),this.$element.find(".steps").first().attr("style","margin-left: 0");var m=0;this.$element.find(".steps > li").each(function(){m+=tt(this).outerWidth()});var g=0;if(m>(g=this.$element.find(".actions").length?this.$element.width()-this.$element.find(".actions").first().outerWidth():this.$element.width())){var v=m-g;this.$element.find(".steps").first().attr("style","margin-left: -"+v+"px"),this.$element.find("li.active").first().position().left<200&&((v+=this.$element.find("li.active").first().position().left-200)<1?this.$element.find(".steps").first().attr("style","margin-left: 0"):this.$element.find(".steps").first().attr("style","margin-left: -"+v+"px"))}if(void 0!==this.initialized){var b=tt.Event("changed.fu.wizard");this.$element.trigger(b,{step:this.currentStep})}this.initialized=!0},stepclicked:function(t){var s=tt(t.currentTarget),n=this.$element.find(".steps li").index(s);if(!(n<this.currentStep)||!this.options.disablePreviousStep){var a=tt.Event("stepclicked.fu.wizard");this.$element.trigger(a,{step:n+1}),!a.isDefaultPrevented()&&(this.currentStep=n+1,this.setState())}},syncSteps:function(){var t=1,s=this.$element.find(".steps"),n=this.$element.find(".step-content");s.children().each(function(){var s=tt(this),a=s.find(".badge"),r=s.attr("data-step");isNaN(parseInt(a.html(),10))||a.html(t),s.attr("data-step",t),n.find('.step-pane[data-step="'+r+'"]:last').attr("data-step",t),t++})},previous:function(){if(!this.options.disablePreviousStep&&1!==this.currentStep){var t=tt.Event("actionclicked.fu.wizard");if(this.$element.trigger(t,{step:this.currentStep,direction:"previous"}),!t.isDefaultPrevented()&&(this.currentStep-=1,this.setState(),this.$prevBtn.is(":focus"))){var s=this.$element.find(".active").find("input, select, textarea")[0];void 0!==s?tt(s).focus():0===this.$element.find(".active input:first").length&&this.$prevBtn.is(":disabled")&&this.$nextBtn.focus()}}},next:function(){var t=tt.Event("actionclicked.fu.wizard");if(this.$element.trigger(t,{step:this.currentStep,direction:"next"}),!t.isDefaultPrevented()&&(this.currentStep<this.numSteps?(this.currentStep+=1,this.setState()):this.$element.trigger("finished.fu.wizard"),this.$nextBtn.is(":focus"))){var s=this.$element.find(".active").find("input, select, textarea")[0];void 0!==s?tt(s).focus():0===this.$element.find(".active input:first").length&&this.$nextBtn.is(":disabled")&&this.$prevBtn.focus()}},selectedItem:function(t){var s,n;return t?(n=t.step||-1,1<=(n=Number(this.$element.find('.steps li[data-name="'+n+'"]').first().attr("data-step"))||Number(n))&&n<=this.numSteps?(this.currentStep=n,this.setState()):isNaN(n=this.$element.find(".steps li.active:first").attr("data-step"))||(this.currentStep=parseInt(n,10),this.setState()),s=this):(s={step:this.currentStep},this.$element.find(".steps li.active:first[data-name]").length&&(s.stepname=this.$element.find(".steps li.active:first").attr("data-name"))),s}},tt.fn.wizard=function(t){var s,n=Array.prototype.slice.call(arguments,1),a=this.each(function(){var a=tt(this),r=a.data("fu.wizard");r||a.data("fu.wizard",r=new ti(this,"object"==typeof t&&t)),"string"==typeof t&&(s=r[t].apply(r,n))});return void 0===s?a:s},tt.fn.wizard.defaults={disablePreviousStep:!1,selectedItem:{step:-1}},tt.fn.wizard.Constructor=ti,tt.fn.wizard.noConflict=function(){return tt.fn.wizard=te,this},tt(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(t){var s=tt(t.target).closest(".wizard");s.data("fu.wizard")||s.wizard(s.data())}),tt(function(){tt("[data-initialize=wizard]").each(function(){var t=tt(this);t.data("fu.wizard")||t.wizard(t.data())})}),tn=(ts=t).fn.infinitescroll,(ta=function(t,s){this.$element=ts(t),this.$element.addClass("infinitescroll"),this.options=ts.extend({},ts.fn.infinitescroll.defaults,s),this.curScrollTop=this.$element.scrollTop(),this.curPercentage=this.getPercentage(),this.fetchingData=!1,this.$element.on("scroll.fu.infinitescroll",ts.proxy(this.onScroll,this))}).prototype={constructor:ta,destroy:function(){return this.$element.remove(),this.$element.empty(),this.$element[0].outerHTML},disable:function(){this.$element.off("scroll.fu.infinitescroll")},enable:function(){this.$element.on("scroll.fu.infinitescroll",ts.proxy(this.onScroll,this))},end:function(t){var s=ts('<div class="infinitescroll-end"></div>');t?s.append(t):s.append("---------"),this.$element.append(s),this.disable()},getPercentage:function(){var t="border-box"===this.$element.css("box-sizing")?this.$element.outerHeight():this.$element.height(),s=this.$element.get(0).scrollHeight;return 0===s||s-this.curScrollTop==0?0:t/(s-this.curScrollTop)*100},fetchData:function(t){var s,n=ts('<div class="infinitescroll-load"></div>'),a=this,r=function(){var t={percentage:a.curPercentage,scrollTop:a.curScrollTop},s=ts('<div class="loader"></div>');n.append(s),s.loader(),a.options.dataSource&&a.options.dataSource(t,function(t){var s;n.remove(),t.content&&a.$element.append(t.content),t.end&&(s=!0!==t.end?t.end:void 0,a.end(s)),a.fetchingData=!1})};this.fetchingData=!0,this.$element.append(n),this.options.hybrid&&!0!==t?(s=ts('<button type="button" class="btn btn-primary"></button>'),"object"==typeof this.options.hybrid?s.append(this.options.hybrid.label):s.append('<span class="glyphicon glyphicon-repeat"></span>'),s.on("click.fu.infinitescroll",function(){s.remove(),r()}),n.append(s)):r()},onScroll:function(t){this.curScrollTop=this.$element.scrollTop(),this.curPercentage=this.getPercentage(),!this.fetchingData&&this.curPercentage>=this.options.percentage&&this.fetchData()}},ts.fn.infinitescroll=function(t){var s,n=Array.prototype.slice.call(arguments,1),a=this.each(function(){var a=ts(this),r=a.data("fu.infinitescroll");r||a.data("fu.infinitescroll",r=new ta(this,"object"==typeof t&&t)),"string"==typeof t&&(s=r[t].apply(r,n))});return void 0===s?a:s},ts.fn.infinitescroll.defaults={dataSource:null,hybrid:!1,percentage:95},ts.fn.infinitescroll.Constructor=ta,ts.fn.infinitescroll.noConflict=function(){return ts.fn.infinitescroll=tn,this},to=(tr=t).fn.pillbox,tl=tr.fn.utilities,td=(th=tr.fn.utilities.CONST).COMMA_KEYCODE,tc=th.ENTER_KEYCODE,tp=tl.isBackspaceKey,tu=tl.isDeleteKey,tf=tl.isTabKey,tm=tl.isUpArrow,tg=tl.isDownArrow,tv=tl.cleanInput,tb=tl.isShiftHeld,(t9=function t(s,n){this.$element=tr(s),this.$moreCount=this.$element.find(".pillbox-more-count"),this.$pillGroup=this.$element.find(".pill-group"),this.$addItem=this.$element.find(".pillbox-add-item"),this.$addItemWrap=this.$addItem.parent(),this.$suggest=this.$element.find(".suggest"),this.$pillHTML='<li class="btn btn-default pill">	<span></span>	<span class="glyphicon glyphicon-close">		<span class="sr-only">Remove</span>	</span></li>',this.options=tr.extend({},tr.fn.pillbox.defaults,n),-1===this.options.readonly?void 0!==this.$element.attr("data-readonly")&&this.readonly(!0):this.options.readonly&&this.readonly(!0),this.acceptKeyCodes=this._generateObject(this.options.acceptKeyCodes),this.$element.on("click.fu.pillbox",".pill-group > .pill",tr.proxy(this.itemClicked,this)),this.$element.on("click.fu.pillbox",tr.proxy(this.inputFocus,this)),this.$element.on("keydown.fu.pillbox",".pillbox-add-item",tr.proxy(this.inputEvent,this)),this.options.onKeyDown&&this.$element.on("mousedown.fu.pillbox",".suggest > li",tr.proxy(this.suggestionClick,this)),this.options.edit&&(this.$element.addClass("pills-editable"),this.$element.on("blur.fu.pillbox",".pillbox-add-item",tr.proxy(this.cancelEdit,this))),this.$element.on("blur.fu.pillbox",".pillbox-add-item",tr.proxy(this.inputEvent,this))}).prototype={constructor:t9,destroy:function t(){return this.$element.remove(),this.$element[0].outerHTML},items:function t(){var s=this;return this.$pillGroup.children(".pill").map(function t(){return s.getItemData(tr(this))}).get()},itemClicked:function t(s){var n,a=tr(s.target);if(s.preventDefault(),s.stopPropagation(),this._closeSuggestions(),a.hasClass("pill"))n=a;else if(n=a.parent(),void 0===this.$element.attr("data-readonly")){if(a.hasClass("glyphicon-close"))return this.options.onRemove?this.options.onRemove(this.getItemData(n,{el:n}),tr.proxy(this._removeElement,this)):this._removeElement(this.getItemData(n,{el:n})),!1;if(this.options.edit){if(n.find(".pillbox-list-edit").length)return!1;this.openEdit(n)}}return this.$element.trigger("clicked.fu.pillbox",this.getItemData(n)),!0},readonly:function t(s){s?this.$element.attr("data-readonly","readonly"):this.$element.removeAttr("data-readonly"),this.options.truncate&&this.truncate(s)},suggestionClick:function t(s){var n=tr(s.currentTarget),a={text:n.html(),value:n.data("value")};s.preventDefault(),this.$addItem.val(""),n.data("attr")&&(a.attr=JSON.parse(n.data("attr"))),a.data=n.data("data"),this.addItems(a,!0),this._closeSuggestions()},itemCount:function t(){return this.$pillGroup.children(".pill").length},addItems:function t(){var s,n,a,r=this;!isFinite(String(arguments[0]))||arguments[0]instanceof Array?(s=[].slice.call(arguments).slice(0),a=s[1]&&!s[1].text):(s=[].slice.call(arguments).slice(1),n=arguments[0]),s[0]instanceof Array&&(s=s[0]),s.length&&(tr.each(s,function t(n,a){var o={text:a.text,value:a.value?a.value:a.text,el:r.$pillHTML};a.attr&&(o.attr=a.attr),a.data&&(o.data=a.data),s[n]=o}),this.options.edit&&this.currentEdit&&(s[0].el=this.currentEdit.wrap("<div></div>").parent().html()),a&&s.pop(1),r.options.onAdd&&a?this.options.edit&&this.currentEdit?r.options.onAdd(s[0],tr.proxy(r.saveEdit,this)):r.options.onAdd(s[0],tr.proxy(r.placeItems,this)):this.options.edit&&this.currentEdit?r.saveEdit(s):n?r.placeItems(n,s):r.placeItems(s,a))},removeItems:function t(s,n){if(s)for(var a=n||1,r=0;r<a;r++){var o=this.$pillGroup.find("> .pill:nth-child("+s+")");if(o)o.remove();else break}else this.$pillGroup.find(".pill").remove(),this._removePillTrigger({method:"removeAll"})},placeItems:function t(){if(!isFinite(String(arguments[0]))||arguments[0]instanceof Array?(s=[].slice.call(arguments).slice(0),r=s[1]&&!s[1].text):(s=[].slice.call(arguments).slice(1),n=arguments[0]),s[0]instanceof Array&&(s=s[0]),s.length){var s,n,a,r,o=[];tr.each(s,function t(s,n){var a=tr(n.el);a.attr("data-value",n.value),a.find("span:first").html(n.text),n.attr&&tr.each(n.attr,function t(s,n){"cssClass"===s||"class"===s?a.addClass(n):a.attr(s,n)}),n.data&&a.data("data",n.data),o.push(a)}),this.$pillGroup.children(".pill").length>0?n&&(a=this.$pillGroup.find(".pill:nth-child("+n+")")).length?a.before(o):this.$pillGroup.children(".pill:last").after(o):this.$pillGroup.prepend(o),r&&this.$element.trigger("added.fu.pillbox",{text:s[0].text,value:s[0].value})}},inputEvent:function t(s){var n=this,a=n.options.cleanInput(this.$addItem.val()),r="focusout"===s.type,o=r&&a.length>0;if(this.acceptKeyCodes[s.keyCode]&&!tb(s)||o){if(this.options.onKeyDown&&this._isSuggestionsOpen()){var l,h,d=this.$suggest.find(".pillbox-suggest-sel");d.length&&(a=n.options.cleanInput(d.html()),h=n.options.cleanInput(d.data("value")),l=d.data("attr"))}return(a.replace(/[ ]*\,[ ]*/,"").match(/\S/)||this.options.allowEmptyPills&&a.length)&&(this._closeSuggestions(),this.$addItem.val("").hide(),l?this.addItems({text:a,value:h,attr:JSON.parse(l)},!0):this.addItems({text:a,value:h},!0),setTimeout(function t(){n.$addItem.show().attr({size:10}).focus()},0)),s.preventDefault(),!0}if(tp(s)||tu(s)){if(!a.length){if(s.preventDefault(),this.options.edit&&this.currentEdit)return this.cancelEdit(),!0;this._closeSuggestions();var c=this.$pillGroup.children(".pill:last");return c.hasClass("pillbox-highlight")?this._removeElement(this.getItemData(c,{el:c})):c.addClass("pillbox-highlight"),!0}}else a.length>10&&this.$addItem.width()<this.$pillGroup.width()-6&&this.$addItem.attr({size:a.length+3});if(this.$pillGroup.find(".pill").removeClass("pillbox-highlight"),this.options.onKeyDown&&!r){if(tf(s)||tm(s)||tg(s))return this._isSuggestionsOpen()&&this._keySuggestions(s),!0;this.callbackId=s.timeStamp,this.options.onKeyDown({event:s,value:a},function t(a){n._openSuggestions(s,a)})}return!0},openEdit:function t(s){var n=s.index()+1,a=this.$addItemWrap.detach().hide();this.$pillGroup.find(".pill:nth-child("+n+")").before(a),this.currentEdit=s.detach(),a.addClass("editing"),this.$addItem.val(s.find("span:first").html()),a.show(),this.$addItem.focus().select()},cancelEdit:function t(s){var n;return!!this.currentEdit&&(this._closeSuggestions(),s&&this.$addItemWrap.before(this.currentEdit),this.currentEdit=!1,(n=this.$addItemWrap.detach()).removeClass("editing"),this.$addItem.val(""),this.$pillGroup.append(n),!0)},saveEdit:function t(){var s=arguments[0][0]?arguments[0][0]:arguments[0];this.currentEdit=tr(s.el),this.currentEdit.data("value",s.value),this.currentEdit.find("span:first").html(s.text),this.$addItemWrap.hide(),this.$addItemWrap.before(this.currentEdit),this.currentEdit=!1,this.$addItem.val(""),this.$addItemWrap.removeClass("editing"),this.$pillGroup.append(this.$addItemWrap.detach().show()),this.$element.trigger("edited.fu.pillbox",{value:s.value,text:s.text})},removeBySelector:function t(){var s=[].slice.call(arguments).slice(0),n=this;tr.each(s,function t(s,a){n.$pillGroup.find(a).remove()}),this._removePillTrigger({method:"removeBySelector",removedSelectors:s})},removeByValue:function t(){var s=[].slice.call(arguments).slice(0),n=this;tr.each(s,function t(s,a){n.$pillGroup.find('> .pill[data-value="'+a+'"]').remove()}),this._removePillTrigger({method:"removeByValue",removedValues:s})},removeByText:function t(){var s=[].slice.call(arguments).slice(0),n=this;tr.each(s,function t(s,a){n.$pillGroup.find('> .pill:contains("'+a+'")').remove()}),this._removePillTrigger({method:"removeByText",removedText:s})},truncate:function t(s){var n=this;if(this.$element.removeClass("truncate"),this.$addItemWrap.removeClass("truncated"),this.$pillGroup.find(".pill").removeClass("truncated"),s){this.$element.addClass("truncate");var a=this.$element.width(),r=!1,o=0,l=this.$pillGroup.find(".pill").length,h=0;this.$pillGroup.find(".pill").each(function t(){var s=tr(this);r?s.addClass("truncated"):(o++,n.$moreCount.text(l-o),h+s.outerWidth(!0)+n.$addItemWrap.outerWidth(!0)<=a?h+=s.outerWidth(!0):(n.$moreCount.text(l-o+1),s.addClass("truncated"),r=!0))}),o===l&&this.$addItemWrap.addClass("truncated")}},inputFocus:function t(){this.$element.find(".pillbox-add-item").focus()},getItemData:function t(s,n){return tr.extend({text:s.find("span:first").html()},s.data(),n)},_removeElement:function t(s){s.el.remove(),delete s.el,this.$element.trigger("removed.fu.pillbox",s)},_removePillTrigger:function t(s){this.$element.trigger("removed.fu.pillbox",s)},_generateObject:function t(s){var n={};return tr.each(s,function t(s,a){n[a]=!0}),n},_openSuggestions:function t(s,n){var a=tr("<ul>");return this.callbackId===s.timeStamp&&(n.data&&n.data.length&&(tr.each(n.data,function t(s,n){var r=tr('<li data-value="'+(n.value?n.value:n.text)+'">'+n.text+"</li>");n.attr&&r.data("attr",JSON.stringify(n.attr)),n.data&&r.data("data",n.data),a.append(r)}),this.$suggest.html("").append(a.children()),tr(document).trigger("suggested.fu.pillbox",this.$suggest)),!0)},_closeSuggestions:function t(){this.$suggest.html("").parent().removeClass("open")},_isSuggestionsOpen:function t(){return this.$suggest.parent().hasClass("open")},_keySuggestions:function t(s){var n=this.$suggest.find("li.pillbox-suggest-sel"),a=tm(s);if(s.preventDefault(),n.length){var r=a?n.prev():n.next();r.length||(r=a?this.$suggest.find("li:last"):this.$suggest.find("li:first")),r&&(r.addClass("pillbox-suggest-sel"),n.removeClass("pillbox-suggest-sel"))}else(n=this.$suggest.find("li:first")).addClass("pillbox-suggest-sel")}},t9.prototype.getValue=t9.prototype.items,tr.fn.pillbox=function t(s){var n,a=Array.prototype.slice.call(arguments,1),r=this.each(function t(){var r=tr(this),o=r.data("fu.pillbox");o||r.data("fu.pillbox",o=new t9(this,"object"==typeof s&&s)),"string"==typeof s&&(n=o[s].apply(o,a))});return void 0===n?r:n},tr.fn.pillbox.defaults={edit:!1,readonly:-1,truncate:!1,acceptKeyCodes:[tc,td],allowEmptyPills:!1,cleanInput:tv},tr.fn.pillbox.Constructor=t9,tr.fn.pillbox.noConflict=function t(){return tr.fn.pillbox=to,this},tr(document).on("mousedown.fu.pillbox.data-api","[data-initialize=pillbox]",function t(s){var n=tr(s.target).closest(".pillbox");n.data("fu.pillbox")||n.pillbox(n.data())}),tr(function t(){tr("[data-initialize=pillbox]").each(function t(){var s=tr(this);s.data("fu.pillbox")||s.pillbox(s.data())})}),t$=(ty=t).fn.repeater,tC=function t(s,n){var a,r,o=this;this.$element=ty(s),this.$canvas=this.$element.find(".repeater-canvas"),this.$count=this.$element.find(".repeater-count"),this.$end=this.$element.find(".repeater-end"),this.$filters=this.$element.find(".repeater-filters"),this.$loader=this.$element.find(".repeater-loader"),this.$pageSize=this.$element.find(".repeater-itemization .selectlist"),this.$nextBtn=this.$element.find(".repeater-next"),this.$pages=this.$element.find(".repeater-pages"),this.$prevBtn=this.$element.find(".repeater-prev"),this.$primaryPaging=this.$element.find(".repeater-primaryPaging"),this.$search=this.$element.find(".repeater-search").find(".search"),this.$secondaryPaging=this.$element.find(".repeater-secondaryPaging"),this.$start=this.$element.find(".repeater-start"),this.$viewport=this.$element.find(".repeater-viewport"),this.$views=this.$element.find(".repeater-views"),this.currentPage=0,this.currentView=null,this.isDisabled=!1,this.infiniteScrollingCallback=function t(){},this.infiniteScrollingCont=null,this.infiniteScrollingEnabled=!1,this.infiniteScrollingEnd=null,this.infiniteScrollingOptions={},this.lastPageInput=0,this.options=ty.extend({},ty.fn.repeater.defaults,n),this.pageIncrement=0,this.resizeTimeout={},this.stamp=new Date().getTime()+(Math.floor(100*Math.random())+1),this.storedDataSourceOpts=null,this.syncingViewButtonState=!1,this.viewOptions={},this.viewType=null,this.$filters.selectlist(),this.$pageSize.selectlist(),this.$primaryPaging.find(".combobox").combobox(),this.$search.search({searchOnKeyPress:this.options.searchOnKeyPress,allowCancel:this.options.allowCancel}),this.$filters.on("changed.fu.selectlist",function t(s,n){o.$element.trigger("filtered.fu.repeater",n),o.render({clearInfinite:!0,pageIncrement:null})}),this.$nextBtn.on("click.fu.repeater",ty.proxy(this.next,this)),this.$pageSize.on("changed.fu.selectlist",function t(s,n){o.$element.trigger("pageSizeChanged.fu.repeater",n),o.render({pageIncrement:null})}),this.$prevBtn.on("click.fu.repeater",ty.proxy(this.previous,this)),this.$primaryPaging.find(".combobox").on("changed.fu.combobox",function t(s,n){o.pageInputChange(n.text,n)}),this.$search.on("searched.fu.search cleared.fu.search",function t(s,n){o.$element.trigger("searchChanged.fu.repeater",n),o.render({clearInfinite:!0,pageIncrement:null})}),this.$search.on("canceled.fu.search",function t(s,n){o.$element.trigger("canceled.fu.repeater",n),o.render({clearInfinite:!0,pageIncrement:null})}),this.$secondaryPaging.on("blur.fu.repeater",function t(){o.pageInputChange(o.$secondaryPaging.val())}),this.$secondaryPaging.on("keyup",function t(s){13===s.keyCode&&o.pageInputChange(o.$secondaryPaging.val())}),this.$views.find("input").on("change.fu.repeater",ty.proxy(this.viewChanged,this)),ty(window).on("resize.fu.repeater."+this.stamp,function t(){clearTimeout(o.resizeTimeout),o.resizeTimeout=setTimeout(function t(){o.resize(),o.$element.trigger("resized.fu.repeater")},75)}),this.$loader.loader(),this.$loader.loader("pause"),r=-1!==this.options.defaultView?this.options.defaultView:(a=this.$views.find("label.active input")).length>0?a.val():"list",this.setViewOptions(r),this.initViewTypes(function t(){o.resize(),o.$element.trigger("resized.fu.repeater"),o.render({changeView:r})})},tw=function t(s){window.console&&window.console.warn&&window.console.warn(s)},tx=function t(s){var n=[];s.children().each(function s(){var a=ty(this),r=a.attr("data-preserve");"deep"===r?(a.detach(),n.push(a)):"shallow"===r&&(t(a),a.detach(),n.push(a))}),s.empty(),s.append(n)},tk=function t(s,n){var a;n&&"none"!==(a=n.action?n.action:"append")&&void 0!==n.item&&(void 0!==n.container?ty(n.container):s)[a](n.item)},t_=function t(s,n,a){var r=s+1;r<n.length?tS.call(this,r,n,a):a()},tS=function t(s,n,a){n[s].initialize?n[s].initialize.call(this,{},function t(){t_.call(this,s,n,a)}):t_.call(this,s,n,a)},tT=function t(s){var n=s.data||{};this.infiniteScrollingEnabled&&((s.viewChanged||s.options.clearInfinite)&&this.initInfiniteScrolling(),this.infiniteScrollPaging(n,s.options)),this.$loader.hide().loader("pause"),this.enable(),this.$search.trigger("rendered.fu.repeater",{data:n,options:s.dataOptions,renderOptions:s.options}),this.$element.trigger("rendered.fu.repeater",{data:n,options:s.dataOptions,renderOptions:s.options}),this.$element.trigger("loaded.fu.repeater",s.dataOptions)},tD=function t(s){var n=s.data||{};this.infiniteScrollingEnabled?this.infiniteScrollingCallback({}):(this.itemization(n),this.pagination(n));var a=this;this.renderItems(s.viewTypeObj,n,function t(n){s.data=n,tT.call(a,s)})},tC.prototype={constructor:tC,clear:function t(s){var n=s||{};n.preserve?(!this.infiniteScrollingEnabled||n.clearInfinite)&&tx(this.$canvas):this.$canvas.empty();var a=void 0!==n.viewChanged&&n.viewChanged,r=ty.fn.repeater.viewTypes[this.viewType]||{};!a&&r.cleared&&r.cleared.call(this,{options:n})},clearPreservedDataSourceOptions:function t(){this.storedDataSourceOpts=null},destroy:function t(){var s;return this.$element.find("input").each(function t(){ty(this).attr("value",ty(this).val())}),this.$canvas.empty(),s=this.$element[0].outerHTML,this.$element.find(".combobox").combobox("destroy"),this.$element.find(".selectlist").selectlist("destroy"),this.$element.find(".search").search("destroy"),this.infiniteScrollingEnabled&&ty(this.infiniteScrollingCont).infinitescroll("destroy"),this.$element.remove(),ty(window).off("resize.fu.repeater."+this.stamp),s},disable:function t(){var s=ty.fn.repeater.viewTypes[this.viewType]||{};this.$search.search("disable"),this.$filters.selectlist("disable"),this.$views.find("label, input").addClass("disabled").attr("disabled","disabled"),this.$pageSize.selectlist("disable"),this.$primaryPaging.find(".combobox").combobox("disable"),this.$secondaryPaging.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.$nextBtn.attr("disabled","disabled"),s.enabled&&s.enabled.call(this,{status:!1}),this.isDisabled=!0,this.$element.addClass("disabled"),this.$element.trigger("disabled.fu.repeater")},enable:function t(){var s=ty.fn.repeater.viewTypes[this.viewType]||{};this.$search.search("enable"),this.$filters.selectlist("enable"),this.$views.find("label, input").removeClass("disabled").removeAttr("disabled"),this.$pageSize.selectlist("enable"),this.$primaryPaging.find(".combobox").combobox("enable"),this.$secondaryPaging.removeAttr("disabled"),this.$prevBtn.hasClass("page-end")||this.$prevBtn.removeAttr("disabled"),this.$nextBtn.hasClass("page-end")||this.$nextBtn.removeAttr("disabled"),this.$prevBtn.hasClass("page-end")&&this.$nextBtn.hasClass("page-end")&&this.$primaryPaging.combobox("disable"),0!==parseInt(this.$count.html(),10)?this.$pageSize.selectlist("enable"):this.$pageSize.selectlist("disable"),s.enabled&&s.enabled.call(this,{status:!0}),this.isDisabled=!1,this.$element.removeClass("disabled"),this.$element.trigger("enabled.fu.repeater")},getDataOptions:function t(s){var n=s||{};void 0!==n.pageIncrement&&(null===n.pageIncrement?this.currentPage=0:this.currentPage+=n.pageIncrement);var a={};n.dataSourceOptions&&(a=n.dataSourceOptions,n.preserveDataSourceOptions&&(this.storedDataSourceOpts?this.storedDataSourceOpts=ty.extend(this.storedDataSourceOpts,a):this.storedDataSourceOpts=a)),this.storedDataSourceOpts&&(a=ty.extend(this.storedDataSourceOpts,a));var r={view:this.currentView,pageIndex:this.currentPage,filter:{text:"All",value:"all"}};this.$filters.length>0&&(r.filter=this.$filters.selectlist("selectedItem")),r.pageSize=this.options.defaultPageSize,!this.infiniteScrollingEnabled&&this.$pageSize.length>0&&(r.pageSize=parseInt(this.$pageSize.selectlist("selectedItem").value,10));var o=this.$search&&this.$search.find("input")&&this.$search.find("input").val();""!==o&&(r.search=o);var l=(ty.fn.repeater.viewTypes[this.viewType]||{}).dataOptions;return l&&(r=l.call(this,r)),r=ty.extend(r,a)},infiniteScrolling:function t(s,n){var a=this.$element.find(".repeater-footer"),r=this.$element.find(".repeater-viewport"),o=n||{};if(s)this.infiniteScrollingEnabled=!0,this.infiniteScrollingEnd=o.end,delete o.dataSource,delete o.end,this.infiniteScrollingOptions=o,r.css({height:r.height()+a.outerHeight()}),a.hide();else{var l=this.infiniteScrollingCont;delete l.data().infinitescroll,l.off("scroll"),l.removeClass("infinitescroll"),this.infiniteScrollingCont=null,this.infiniteScrollingEnabled=!1,this.infiniteScrollingEnd=null,this.infiniteScrollingOptions={},r.css({height:r.height()-a.outerHeight()}),a.show()}},infiniteScrollPaging:function t(s){!0!==this.infiniteScrollingEnd&&this.infiniteScrollingEnd;var n=s.page,a=s.pages;this.currentPage=void 0!==n?n:NaN,this.infiniteScrollingCont&&(!0===s.end||this.currentPage+1>=a?this.infiniteScrollingCont.infinitescroll("end",this.viewOptions.thumbnail_endItemsHTML):this.infiniteScrollingCont.infinitescroll("onScroll"))},initInfiniteScrolling:function t(){var s=this.$canvas.find('[data-infinite="true"]:first');if((s=s.length<1?this.$canvas:s).data("fu.infinitescroll"))s.infinitescroll("enable");else{var n=this,a=ty.extend({},this.infiniteScrollingOptions);a.dataSource=function t(s,a){n.infiniteScrollingCallback=a,n.render({pageIncrement:1})},s.infinitescroll(a),this.infiniteScrollingCont=s}},initViewTypes:function t(s){var n=[];for(var a in ty.fn.repeater.viewTypes)({}).hasOwnProperty.call(ty.fn.repeater.viewTypes,a)&&n.push(ty.fn.repeater.viewTypes[a]);n.length>0?tS.call(this,0,n,s):s()},itemization:function t(s){this.$count.html(void 0!==s.count?s.count:"?"),this.$end.html(void 0!==s.end?s.end:"?"),this.$start.html(void 0!==s.start?s.start:"?")},next:function t(){this.$nextBtn.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.pageIncrement=1,this.$element.trigger("nextClicked.fu.repeater"),this.render({pageIncrement:this.pageIncrement})},pageInputChange:function t(s,n){var a;if(s!==this.lastPageInput){this.lastPageInput=s;var r=parseInt(s,10)-1;a=r-this.currentPage,this.$element.trigger("pageChanged.fu.repeater",[r,n]),this.render({pageIncrement:a})}},pagination:function t(s){this.$primaryPaging.removeClass("active"),this.$secondaryPaging.removeClass("active");var n=s.pages;this.currentPage=void 0!==s.page?s.page:NaN;var a=0===n?0:this.currentPage+1;if(n<=this.viewOptions.dropPagingCap){this.$primaryPaging.addClass("active");var r=this.$primaryPaging.find(".dropdown-menu");r.empty();for(var o=0;o<n;o++){var l=o+1;r.append('<li data-value="'+l+'"><a href="#">'+l+"</a></li>")}this.$primaryPaging.find("input.form-control").val(a)}else this.$secondaryPaging.addClass("active"),this.$secondaryPaging.val(a);this.lastPageInput=this.currentPage+1+"",this.$pages.html(""+n),this.currentPage+1<n?(this.$nextBtn.removeAttr("disabled"),this.$nextBtn.removeClass("page-end")):(this.$nextBtn.attr("disabled","disabled"),this.$nextBtn.addClass("page-end")),this.currentPage-1>=0?(this.$prevBtn.removeAttr("disabled"),this.$prevBtn.removeClass("page-end")):(this.$prevBtn.attr("disabled","disabled"),this.$prevBtn.addClass("page-end")),0!==this.pageIncrement&&(this.pageIncrement>0?this.$nextBtn.is(":disabled")?this.$prevBtn.focus():this.$nextBtn.focus():this.$prevBtn.is(":disabled")?this.$nextBtn.focus():this.$prevBtn.focus())},previous:function t(){this.$nextBtn.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.pageIncrement=-1,this.$element.trigger("previousClicked.fu.repeater"),this.render({pageIncrement:this.pageIncrement})},render:function t(s){this.disable();var n=!1,a=ty.fn.repeater.viewTypes[this.viewType]||{},r=s||{};if(r.changeView&&this.currentView!==r.changeView){var o=this.currentView;this.currentView=r.changeView,this.viewType=this.currentView.split(".")[0],this.setViewOptions(this.currentView),this.$element.attr("data-currentview",this.currentView),this.$element.attr("data-viewtype",this.viewType),n=!0,r.viewChanged=n,this.$element.trigger("viewChanged.fu.repeater",this.currentView),this.infiniteScrollingEnabled&&this.infiniteScrolling(!1),(a=ty.fn.repeater.viewTypes[this.viewType]||{}).selected&&a.selected.call(this,{prevView:o})}this.syncViewButtonState(),r.preserve=void 0!==r.preserve?r.preserve:!n,this.clear(r),(!this.infiniteScrollingEnabled||this.infiniteScrollingEnabled&&n)&&this.$loader.show().loader("play");var l=this.getDataOptions(r),h=this.viewOptions.dataSource,d=this;h(l,function t(s){tD.call(d,{data:s,dataOptions:l,options:r,viewChanged:n,viewTypeObj:a})})},resize:function t(){for(var s,n,a,r=-1===this.viewOptions.staticHeight?this.$element.attr("data-staticheight"):this.viewOptions.staticHeight,o={},l=[],h=[],d=this.$element.parentsUntil(":visible").addBack(),c=0;c<d.length&&this.$element.is(":hidden");)ty(a=d[c]).is(":hidden")&&(h.push(a.style.display),a.style.display="block",l.push(a)),c++;if(this.viewType&&(o=ty.fn.repeater.viewTypes[this.viewType]||{}),void 0!==r&&!1!==r&&"false"!==r){this.$canvas.addClass("scrolling"),n={bottom:this.$viewport.css("margin-bottom"),top:this.$viewport.css("margin-top")};var p="true"===r||!0===r?this.$element.height():parseInt(r,10),u=this.$element.find(".repeater-header").outerHeight()||0,f=this.$element.find(".repeater-footer").outerHeight()||0,m="auto"===n.bottom?0:parseInt(n.bottom,10),g="auto"===n.top?0:parseInt(n.top,10);s=p-u-f-m-g,this.$viewport.outerHeight(s)}else this.$canvas.removeClass("scrolling");o.resize&&o.resize.call(this,{height:this.$element.outerHeight(),width:this.$element.outerWidth()}),l.forEach(function(t,s){t.style.display=h[s]})},renderItems:function t(s,n,a){if(s.render)s.render.call(this,{container:this.$canvas,data:n},a);else{if(s.before){var r=s.before.call(this,{container:this.$canvas,data:n});tk(this.$canvas,r)}var o=this.$canvas.find('[data-container="true"]:last'),l=o.length>0?o:this.$canvas;if(s.renderItem){var h,d=(s.repeat||"data.items").split("."),c=d[0];if("data"===c||"this"===c){h="this"===c?this:n;for(var p=d.slice(1),u=0;u<p.length;u++)if(void 0!==h[p[u]])h=h[p[u]];else{h=[],tw("WARNING: Repeater unable to find property to iterate renderItem on.");break}for(var f=0;f<h.length;f++){var m=s.renderItem.call(this,{container:l,data:n,index:f,subset:h});tk(l,m)}}else tw('WARNING: Repeater plugin "repeat" value must start with either "data" or "this"')}if(s.after){var g=s.after.call(this,{container:this.$canvas,data:n});tk(this.$canvas,g)}a(n)}},setViewOptions:function t(s){var n={},a=s.split(".")[1];n=this.options.views&&(this.options.views[a]||this.options.views[s])||{},this.viewOptions=ty.extend({},this.options,n)},viewChanged:function t(s){var n=ty(s.target),a=n.val();this.syncingViewButtonState||(this.isDisabled||n.parents("label:first").hasClass("disabled")?this.syncViewButtonState():this.render({changeView:a,pageIncrement:null}))},syncViewButtonState:function t(){var s=this.$views.find('input[value="'+this.currentView+'"]');this.syncingViewButtonState=!0,this.$views.find("input").prop("checked",!1),this.$views.find("label.active").removeClass("active"),s.length>0&&(s.prop("checked",!0),s.parents("label:first").addClass("active")),this.syncingViewButtonState=!1}},tC.prototype.runRenderer=tC.prototype.renderItems,ty.fn.repeater=function t(s){var n,a=Array.prototype.slice.call(arguments,1),r=this.each(function t(){var r=ty(this),o=r.data("fu.repeater");o||r.data("fu.repeater",o=new tC(this,"object"==typeof s&&s)),"string"==typeof s&&(n=o[s].apply(o,a))});return void 0===n?r:n},ty.fn.repeater.defaults={dataSource:function t(s,n){n({count:0,end:0,items:[],page:0,pages:1,start:0})},defaultView:-1,defaultPageSize:25,dropPagingCap:10,staticHeight:-1,views:null,searchOnKeyPress:!1,allowCancel:!0},ty.fn.repeater.viewTypes={},ty.fn.repeater.Constructor=tC,ty.fn.repeater.noConflict=function t(){return ty.fn.repeater=t$,this},(tI=t).fn.repeater&&(tI.fn.repeater.Constructor.prototype.list_clearSelectedItems=function t(){this.$canvas.find(".repeater-list-check").remove(),this.$canvas.find(".repeater-list table tbody tr.selected").removeClass("selected")},tI.fn.repeater.Constructor.prototype.list_highlightColumn=function t(s,n){var a=this.$canvas.find(".repeater-list-wrapper > table tbody");(this.viewOptions.list_highlightSortedColumn||n)&&(a.find("td.sorted").removeClass("sorted"),a.find("tr").each(function t(){tI(this).find("td:nth-child("+(s+1)+")").filter(function t(){return!tI(this).parent().hasClass("empty")}).addClass("sorted")}))},tI.fn.repeater.Constructor.prototype.list_getSelectedItems=function t(){var s=[];return this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr.selected").each(function t(){var n=tI(this);s.push({data:n.data("item_data"),element:n})}),s},tI.fn.repeater.Constructor.prototype.getValue=tI.fn.repeater.Constructor.prototype.list_getSelectedItems,tI.fn.repeater.Constructor.prototype.list_positionHeadings=function t(){var s=this.$element.find(".repeater-list-wrapper"),n=s.offset().left;s.scrollLeft()>0?s.find(".repeater-list-heading").each(function t(){var s=tI(this),a=s.parents("th:first").offset().left-n+"px";s.addClass("shifted").css("left",a)}):s.find(".repeater-list-heading").each(function t(){tI(this).removeClass("shifted").css("left","")})},tI.fn.repeater.Constructor.prototype.list_setSelectedItems=function t(s,n){var a,r,o,l,h=this.viewOptions.list_selectable,d=this,c=s;tI.isArray(c)||(c=[c]);var p=function t(s){(a=(o=tI(this)).data("item_data")||{})[c[r].property]===c[r].value&&u(o,c[r].selected,s)},u=function t(s,a,r){var o;void 0===a||a?(n||"multi"===h||d.list_clearSelectedItems(),s.hasClass("selected")||(s.addClass("selected"),(d.viewOptions.list_frozenColumns||"multi"===d.viewOptions.list_selectable)&&((o=d.$element.find(".frozen-column-wrapper tr:nth-child("+(r+1)+")")).addClass("selected"),o.find(".repeater-select-checkbox").addClass("checked")),d.viewOptions.list_actions&&d.$element.find(".actions-column-wrapper tr:nth-child("+(r+1)+")").addClass("selected"),s.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'))):(d.viewOptions.list_frozenColumns&&((o=d.$element.find(".frozen-column-wrapper tr:nth-child("+(r+1)+")")).addClass("selected"),o.find(".repeater-select-checkbox").removeClass("checked")),d.viewOptions.list_actions&&d.$element.find(".actions-column-wrapper tr:nth-child("+(r+1)+")").removeClass("selected"),s.find(".repeater-list-check").remove(),s.removeClass("selected"))};for(r=0,l=!0===n||"multi"===h?c.length:h&&c.length>0?1:0;r<l;r++)void 0!==c[r].index?(o=this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr:nth-child("+(c[r].index+1)+")")).length>0&&u(o,c[r].selected,c[r].index):void 0!==c[r].property&&void 0!==c[r].value&&this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr").each(p)},tI.fn.repeater.Constructor.prototype.list_sizeHeadings=function t(){this.$element.find(".repeater-list table").find("thead th").each(function t(){var s=tI(this),n=s.find(".repeater-list-heading");n.css({height:s.outerHeight()}),n.outerWidth(n.data("forced-width")||s.outerWidth())})},tI.fn.repeater.Constructor.prototype.list_setFrozenColumns=function t(){var s=this.$canvas.find(".table-frozen"),n=this.$element.find(".repeater-canvas"),a=this.$element.find(".repeater-list .repeater-list-wrapper > table"),r=this.$element.find(".repeater-list"),o=this.viewOptions.list_frozenColumns,l=this;if("multi"===this.viewOptions.list_selectable&&(o+=1,n.addClass("multi-select-enabled")),s.length<1){var h=tI('<div class="frozen-column-wrapper"></div>').insertBefore(a),d=a.clone().addClass("table-frozen");d.find("th:not(:lt("+o+"))").remove(),d.find("td:not(:nth-child(n+0):nth-child(-n+"+o+"))").remove();var c=d.clone().removeClass("table-frozen");c.find("tbody").remove();var p=tI('<div class="frozen-thead-wrapper"></div>').append(c),u=p.find("th label.checkbox-custom.checkbox-inline");u.attr("id",u.attr("id")+"_cloned"),h.append(d),r.append(p),this.$canvas.addClass("frozen-enabled")}this.list_sizeFrozenColumns(),tI(".frozen-thead-wrapper .repeater-list-heading").on("click",function t(){var s=tI(this).parent("th").index();s+=1,l.$element.find(".repeater-list-wrapper > table thead th:nth-child("+s+") .repeater-list-heading")[0].click()})},tI.fn.repeater.Constructor.prototype.list_positionColumns=function t(){var s,n=this.$element.find(".repeater-canvas"),a=n.scrollTop(),r=n.scrollLeft(),o=this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable,l=this.viewOptions.list_actions,h="ltr"===this.viewOptions.list_direction,d=this.$element.find(".repeater-canvas").outerWidth(),c=this.$element.find(".repeater-list .repeater-list-wrapper > table").outerWidth()-(d-(this.$element.find(".table-actions")?this.$element.find(".table-actions").outerWidth():0))>=r;a>0?n.find(".repeater-list-heading").css("top",a):n.find(".repeater-list-heading").css("top","0"),h?(o&&(n.find(".frozen-thead-wrapper").css("left",r),n.find(".frozen-column-wrapper").css("left",r)),l&&c&&(n.find(".actions-thead-wrapper").css("right",-r),n.find(".actions-column-wrapper").css("right",-r))):(o&&(n.find(".frozen-thead-wrapper").css("right",r),n.find(".frozen-column-wrapper").css("right",r)),l&&c&&(n.find(".actions-thead-wrapper").css("left",-r),n.find(".actions-column-wrapper").css("left",-r)))},tI.fn.repeater.Constructor.prototype.list_createItemActions=function t(){var s,n,a=this,r=this.$element.find(".repeater-list .repeater-list-wrapper > table"),o=this.$canvas.find(".table-actions");Array.isArray(this.viewOptions.list_actions.items)&&(this.viewOptions.list_actions.items={common:this.viewOptions.list_actions.items,default:this.viewOptions.list_actions.items});var l={};if(tI.each(this.viewOptions.list_actions.items,function(t,a){var r="";for(s=0,n=a.length;s<n;s++){var o=a[s];o.html,r+='<li><a href="#" data-action-list="'+t+'" data-action="'+o.name+'" class="action-item"> '+o.html+"</a></li>"}l[t]='<div class="btn-group"><button type="button" class="btn btn-xs btn-default dropdown-toggle repeater-actions-button"data-toggle="dropdown" data-flip="auto" aria-expanded="false"><span class="caret"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu">'+r+"</ul></div>"}),o.length<1){var h=tI('<div class="actions-column-wrapper" style="width: '+this.list_actions_width+'px"></div>').insertBefore(r),d=r.clone().addClass("table-actions");if(d.find("th:not(:last-child)").remove(),d.find("tr td:not(:last-child)").remove(),"multi"===this.viewOptions.list_selectable||"action"===this.viewOptions.list_selectable)d.find("thead tr").html('<th><div class="repeater-list-heading">'+l.common+"</div></th>"),"action"!==this.viewOptions.list_selectable&&d.find("thead .btn").attr("disabled","disabled");else{var c=this.viewOptions.list_actions.label||'<span class="actions-hidden">a</span>';d.find("thead tr").addClass("empty-heading").html("<th>"+c+'<div class="repeater-list-heading">'+c+"</div></th>")}d.find("td").each(function t(s){let n=r.find("tbody tr").eq(s).data("action-list");n&&l.hasOwnProperty(n)||(n="default"),tI(this).html(l[n]),tI(this).find("a").attr("data-row",s+1),r.find("tbody tr").eq(s).data("action-list",n)}),h.append(d),this.$canvas.addClass("actions-enabled")}this.list_sizeActionsTable(),this.$element.find(".table-actions tbody .action-item").on("click",function t(s){if(!a.isDisabled){var n=tI(this).data("action-list"),r=tI(this).data("action"),o=tI(this).data("row");a.list_getActionItems({actionList:n,actionName:r,rows:[o]},s)}}),this.$element.find(".table-actions thead .action-item").on("click",function t(s){if(!a.isDisabled){var n={actionList:"common",actionName:tI(this).data("action"),rows:[]},r=".repeater-list-wrapper > table .selected";"action"===a.viewOptions.list_selectable&&(r=".repeater-list-wrapper > table tr"),a.$element.find(r).each(function t(s){n.rows.push(tI(this).index()+1)}),a.list_getActionItems(n,s)}})},tI.fn.repeater.Constructor.prototype.list_getActionItems=function t(s,n){for(var a=[],r=tI.grep(this.viewOptions.list_actions.items[s.actionList],function t(n){return n.name===s.actionName})[0],o=0,l=s.rows.length;o<l;o++){var h=this.$canvas.find(".repeater-list-wrapper > table tbody tr:nth-child("+s.rows[o]+")");a.push({item:h,rowData:h.data("item_data")})}if(1===a.length&&(a=a[0]),r.clickAction){var d=function t(){};r.clickAction(a,d,n)}},tI.fn.repeater.Constructor.prototype.list_sizeActionsTable=function t(){var s=this.$element.find(".repeater-list table.table-actions"),n=s.find("thead tr th"),a=this.$element.find(".repeater-list-wrapper > table");n.outerHeight(a.find("thead tr th").outerHeight()),n.find(".repeater-list-heading").outerHeight(n.outerHeight()),s.find("tbody tr td:first-child").each(function t(s){tI(this).outerHeight(a.find("tbody tr:eq("+s+") td").outerHeight())})},tI.fn.repeater.Constructor.prototype.list_sizeFrozenColumns=function t(){var s=this.$element.find(".repeater-list .repeater-list-wrapper > table");this.$element.find(".repeater-list table.table-frozen tr").each(function t(n){tI(this).height(s.find("tr:eq("+n+")").height())});var n=s.find("td:eq(0)").outerWidth();this.$element.find(".frozen-column-wrapper, .frozen-thead-wrapper").width(n)},tI.fn.repeater.Constructor.prototype.list_frozenOptionsInitialize=function t(){var s=this.$element.find(".frozen-column-wrapper .checkbox-inline"),n=this.$element.find(".header-checkbox .checkbox-custom"),a=this.$element.find(".repeater-list table"),r=this;this.$element.find("tr.selectable").on("mouseover mouseleave",function t(s){var n=tI(this).index();n+=1,"mouseover"===s.type?a.find("tbody tr:nth-child("+n+")").addClass("hovered"):a.find("tbody tr:nth-child("+n+")").removeClass("hovered")}),n.checkbox(),s.checkbox();var o=this.$element.find(".table-frozen tbody .checkbox-inline"),l=this.$element.find(".frozen-thead-wrapper thead .checkbox-inline input");function h(t){r.list_revertingCheckbox=!0,t.checkbox("toggle"),delete r.list_revertingCheckbox}o.on("change",function t(s){if(s.preventDefault(),!r.list_revertingCheckbox){if(r.isDisabled)h(tI(s.currentTarget));else{var n=tI(this).attr("data-row");n=parseInt(n,10)+1,r.$element.find(".repeater-list-wrapper > table tbody tr:nth-child("+n+")").click();var a=r.$element.find(".table-frozen tbody .checkbox-inline.checked").length;0===a?(l.prop("checked",!1),l.prop("indeterminate",!1)):a===o.length?(l.prop("checked",!0),l.prop("indeterminate",!1)):(l.prop("checked",!1),l.prop("indeterminate",!0))}}}),l.on("change",function t(n){r.list_revertingCheckbox||(r.isDisabled?h(tI(n.currentTarget)):tI(this).is(":checked")?(r.$element.find(".repeater-list-wrapper > table tbody tr:not(.selected)").click(),r.$element.trigger("selected.fu.repeaterList",s)):(r.$element.find(".repeater-list-wrapper > table tbody tr.selected").click(),r.$element.trigger("deselected.fu.repeaterList",s)))})},tI.fn.repeater.defaults=tI.extend({},tI.fn.repeater.defaults,{list_direction:"ltr",list_columnRendered:null,list_columnSizing:!0,list_columnSyncing:!0,list_highlightSortedColumn:!0,list_infiniteScroll:!1,list_noItemsHTML:"no items found",list_selectable:!1,list_sortClearing:!1,list_rowRendered:null,list_frozenColumns:0,list_actions:!1}),tI.fn.repeater.viewTypes.list={cleared:function t(){this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},dataOptions:function t(s){return this.list_sortDirection&&(s.sortDirection=this.list_sortDirection),this.list_sortProperty&&(s.sortProperty=this.list_sortProperty),s},enabled:function t(s){this.viewOptions.list_actions&&(s.status?(this.$canvas.find(".repeater-actions-button").removeAttr("disabled"),tM.call(this)):this.$canvas.find(".repeater-actions-button").attr("disabled","disabled"))},initialize:function t(s,n){this.list_sortDirection=null,this.list_sortProperty=null,this.list_specialBrowserClass=tP(),this.list_actions_width=void 0!==this.viewOptions.list_actions.width?this.viewOptions.list_actions.width:37,this.list_noItems=!1,n()},resize:function t(){tH.call(this,this.$element.find(".repeater-list-wrapper > table thead tr")),this.viewOptions.list_actions&&this.list_sizeActionsTable(),(this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable)&&this.list_sizeFrozenColumns(),this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},selected:function t(){var s,n=this.viewOptions.list_infiniteScroll;this.list_firstRender=!0,this.$loader.addClass("noHeader"),n&&(s="object"==typeof n?n:{},this.infiniteScrolling(!0,s))},before:function t(s){var n,a=s.container.find(".repeater-list"),r=this;return s.data.count>0?this.list_noItems=!1:this.list_noItems=!0,a.length<1&&((a=tI('<div class="repeater-list '+this.list_specialBrowserClass+'" data-preserve="shallow"><div class="repeater-list-wrapper" data-infinite="true" data-preserve="shallow"><table aria-readonly="true" class="table" data-preserve="shallow" role="grid"></table></div></div>')).find(".repeater-list-wrapper").on("scroll.fu.repeaterList",function t(){r.viewOptions.list_columnSyncing&&r.list_positionHeadings()}),(r.viewOptions.list_frozenColumns||r.viewOptions.list_actions||"multi"===r.viewOptions.list_selectable)&&s.container.on("scroll.fu.repeaterList",function t(){r.list_positionColumns()}),s.container.append(a)),s.container.removeClass("actions-enabled actions-enabled multi-select-enabled"),a.find(".frozen-thead-wrapper").remove(),a.find(".frozen-column-wrapper").remove(),a.find(".actions-column-wrapper").remove(),n=a.find("table"),tY.call(this,n,s.data),tB.call(this,n,s.data),!1},renderItem:function t(s){return tz.call(this,s.container,s.subset,s.index),!1},after:function t(){var s;return(this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable)&&!this.list_noItems&&this.list_setFrozenColumns(),this.viewOptions.list_actions&&!this.list_noItems&&(this.list_createItemActions(),this.list_sizeActionsTable()),(this.viewOptions.list_frozenColumns||this.viewOptions.list_actions||"multi"===this.viewOptions.list_selectable)&&!this.list_noItems&&(this.list_positionColumns(),this.list_frozenOptionsInitialize()),this.viewOptions.list_columnSyncing&&(this.list_sizeHeadings(),this.list_positionHeadings()),(s=this.$canvas.find(".repeater-list-wrapper > table .repeater-list-heading.sorted")).length>0&&this.list_highlightColumn(s.data("fu_item_index")),!1}}),t8=function t(s,n){if(!n)return!1;if(!s||n.length!==s.length)return!0;for(var a=0,r=n.length;a<r;a++){if(!s[a])return!0;for(var o in n[a])if(n[a].hasOwnProperty(o)&&s[a][o]!==n[a][o])return!0}return!1},tO=function t(s,n,a,r,o){var l=r[o].className,h=n[a][r[o].property],d=tI("<td></td>"),c=r[o]._auto_width,p=r[o].property;return!1!==this.viewOptions.list_actions&&"@_ACTIONS_@"===p&&(h='<div class="repeater-list-actions-placeholder" style="width: '+this.list_actions_width+'px"></div>'),h=void 0!==h?h:"",d.addClass(void 0!==l?l:"").append(h),void 0!==c&&d.outerWidth(c),s.append(d),"multi"===this.viewOptions.list_selectable&&"@_CHECKBOX_@"===r[o].property&&d.html('<label data-row="'+a+'" class="checkbox-custom checkbox-inline body-checkbox repeater-select-checkbox"><input class="sr-only" type="checkbox"></label>'),d},tE=function t(s,n,a){var r,o,l,h,d,c="glyphicon-chevron-down",p=".glyphicon.rlc:first",u="glyphicon-chevron-up",f=tI('<div class="repeater-list-heading"><span class="glyphicon rlc"></span></div>'),m=this.$element.attr("id")+"_checkall",g=tI("<th></th>"),v=this;if(f.data("fu_item_index",a),f.prepend(n[a].label),g.html(f.html()).find("[id]").removeAttr("id"),"@_CHECKBOX_@"!==n[a].property?g.append(f):g.append('<div class="repeater-list-heading header-checkbox"><label id="'+m+'" class="checkbox-custom checkbox-inline"><input class="sr-only" type="checkbox" value=""><span class="checkbox-label">&nbsp;</span></label></div>'),r=g.add(f),d=(h=f.find(p)).add(g.find(p)),this.viewOptions.list_actions&&"@_ACTIONS_@"===n[a].property){var b=this.list_actions_width;g.css("width",b),f.css("width",b)}void 0!==(o=n[a].className)&&r.addClass(o),(l=n[a].sortable)&&(r.addClass("sortable"),f.on("click.fu.repeaterList",function t(){v.isDisabled||(v.list_sortProperty="string"==typeof l?l:n[a].property,f.hasClass("sorted")?h.hasClass(u)?(d.removeClass(u).addClass(c),v.list_sortDirection="desc"):v.viewOptions.list_sortClearing?(r.removeClass("sorted"),d.removeClass(c),v.list_sortDirection=null,v.list_sortProperty=null):(d.removeClass(c).addClass(u),v.list_sortDirection="asc"):(s.find("th, .repeater-list-heading").removeClass("sorted"),d.removeClass(c).addClass(u),v.list_sortDirection="asc",r.addClass("sorted")),v.render({clearInfinite:!0,pageIncrement:null}))})),("asc"===n[a].sortDirection||"desc"===n[a].sortDirection)&&(s.find("th, .repeater-list-heading").removeClass("sorted"),r.addClass("sortable sorted"),"asc"===n[a].sortDirection?(d.addClass(u),this.list_sortDirection="asc"):(d.addClass(c),this.list_sortDirection="desc"),this.list_sortProperty="string"==typeof l?l:n[a].property),s.append(g)},tA=function t(s){var n="multi"===s.viewOptions.list_selectable,a=s.viewOptions.list_actions,r=s.$element;if(!s.isDisabled){var o=tI(this),l=tI(this).index()+1,h=r.find(".frozen-column-wrapper tr:nth-child("+l+")"),d=r.find(".actions-column-wrapper tr:nth-child("+l+")"),c=r.find(".frozen-column-wrapper tr:nth-child("+l+") .checkbox-inline");o.is(".selected")?(o.removeClass("selected"),n?(c.click(),h.removeClass("selected"),a&&d.removeClass("selected")):o.find(".repeater-list-check").remove(),r.trigger("deselected.fu.repeaterList",o)):(n?(c.click(),o.addClass("selected"),h.addClass("selected"),a&&d.addClass("selected")):(s.$canvas.find(".repeater-list-check").remove(),s.$canvas.find(".repeater-list tbody tr.selected").each(function t(){tI(this).removeClass("selected"),r.trigger("deselected.fu.repeaterList",tI(this))}),o.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'),o.addClass("selected"),h.addClass("selected")),r.trigger("selected.fu.repeaterList",o)),tM.call(s)}},tz=function t(s,n,a){var r=tI("<tr></tr>");if(this.viewOptions.list_selectable&&(r.data("item_data",n[a]),"action"!==this.viewOptions.list_selectable)){r.addClass("selectable"),r.attr("tabindex",0);var o=this;r.on("click.fu.repeaterList",function t(){tA.call(this,o)}),r.keyup(function t(s){13===s.keyCode&&r.trigger("click.fu.repeaterList")})}this.viewOptions.list_actions&&!this.viewOptions.list_selectable&&r.data("item_data",n[a]);for(var l=[],h=0,d=this.list_columns.length;h<d;h++)l.push(tO.call(this,r,n,a,this.list_columns,h));if(s.append(r),this.viewOptions.list_columnRendered)for(var c=0,p=l.length;c<p;c++)"@_CHECKBOX_@"===this.list_columns[c].property||"@_ACTIONS_@"===this.list_columns[c].property||this.viewOptions.list_columnRendered({container:r,columnAttr:this.list_columns[c].property,item:l[c],rowData:n[a]},function t(){});this.viewOptions.list_rowRendered&&this.viewOptions.list_rowRendered({container:s,item:r,rowData:n[a]},function t(){})},tB=function t(s,n){var a,r=s.find("tbody");r.length<1&&(r=tI('<tbody data-container="true"></tbody>'),s.append(r)),"string"==typeof n.error&&n.error.length>0?((a=tI('<tr class="empty text-danger"><td colspan="'+this.list_columns.length+'"></td></tr>')).find("td").append(n.error),r.append(a)):n.items&&n.items.length<1&&((a=tI('<tr class="empty"><td colspan="'+this.list_columns.length+'"></td></tr>')).find("td").append(this.viewOptions.list_noItemsHTML),r.append(a))},tY=function t(s,n){var a,r,o,l=n.columns||[],h=s.find("thead");if(this.list_firstRender||t8(this.list_columns,l)||0===h.length){if(h.remove(),"multi"===this.viewOptions.list_selectable&&l.splice(0,0,{label:"c",property:"@_CHECKBOX_@",sortable:!1}),this.list_columns=l,this.list_firstRender=!1,this.$loader.removeClass("noHeader"),this.viewOptions.list_actions){var d={label:this.viewOptions.list_actions.label||'<span class="actions-hidden">a</span>',property:"@_ACTIONS_@",sortable:!1,width:this.list_actions_width};l.push(d)}for(a=0,o=(h=tI('<thead data-preserve="deep"><tr></tr></thead>')).find("tr"),r=l.length;a<r;a++)tE.call(this,o,l,a);if(s.prepend(h),"multi"===this.viewOptions.list_selectable){var c=this.$element.find(".repeater-list-wrapper .header-checkbox").outerWidth();tI.grep(l,function t(s){return"@_CHECKBOX_@"===s.property})[0].width=c}tH.call(this,o)}},tH=function t(s){var n,a,r,o,l=[],h=this;if(this.viewOptions.list_columnSizing&&(n=0,o=0,s.find("th").each(function t(){var s,a=tI(this);if(void 0!==h.list_columns[n].width)s=h.list_columns[n].width,a.outerWidth(s),o+=a.outerWidth(),h.list_columns[n]._auto_width=s;else{var r=a.find(".repeater-list-heading").outerWidth();l.push({col:a,index:n,minWidth:r})}n++}),(a=l.length)>0))for(n=0,r=Math.floor((this.$canvas.find(".repeater-list-wrapper").outerWidth()-o)/a);n<a;n++)l[n].minWidth>r&&(r=l[n].minWidth),l[n].col.outerWidth(r),this.list_columns[l[n].index]._auto_width=r},tP=function t(){var s=window.navigator.userAgent,n=s.indexOf("MSIE "),a=s.indexOf("Firefox");return n>0?"ie-"+parseInt(s.substring(n+5,s.indexOf(".",n)),10):a>0?"firefox":""},tM=function t(){var s,n=".repeater-list-wrapper > table .selected",a=this.$element.find(".table-actions");"action"===this.viewOptions.list_selectable&&(n=".repeater-list-wrapper > table tr"),(s=this.$canvas.find(n)).length>0?a.find("thead .btn").removeAttr("disabled"):a.find("thead .btn").attr("disabled","disabled")},(tV=t).fn.repeater&&(tV.fn.repeater.Constructor.prototype.thumbnail_clearSelectedItems=function(){this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").removeClass("selected")},tV.fn.repeater.Constructor.prototype.thumbnail_getSelectedItems=function(){var t=[];return this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){t.push(tV(this))}),t},tV.fn.repeater.Constructor.prototype.thumbnail_setSelectedItems=function(t,s){var n,a,r,o,l=this.viewOptions.thumbnail_selectable,h=this;function d(){if(o===t[n].index)return a=tV(this),!1;o++}function c(){(a=tV(this)).is(t[n].selector)&&p(a,t[n].selected)}function p(t,n){(n=void 0===n||n)?(s||"multi"===l||h.thumbnail_clearSelectedItems(),t.addClass("selected")):t.removeClass("selected")}for(tV.isArray(t)||(t=[t]),r=!0===s||"multi"===l?t.length:l&&t.length>0?1:0,n=0;n<r;n++)void 0!==t[n].index?(a=tV(),o=0,this.$canvas.find(".repeater-thumbnail-cont .selectable").each(d),a.length>0&&p(a,t[n].selected)):t[n].selector&&this.$canvas.find(".repeater-thumbnail-cont .selectable").each(c)},tV.fn.repeater.defaults=tV.extend({},tV.fn.repeater.defaults,{thumbnail_alignment:"left",thumbnail_infiniteScroll:!1,thumbnail_itemRendered:null,thumbnail_noItemsHTML:"no items found",thumbnail_endItemsHTML:"---------",thumbnail_selectable:!1,thumbnail_template:'<img height="75" src="{{src}}" width="65"><span>{{name}}</span>'}),tV.fn.repeater.viewTypes.thumbnail={selected:function(){var t,s=this.viewOptions.thumbnail_infiniteScroll;s&&(t="object"==typeof s?s:{},this.infiniteScrolling(!0,t))},before:function(t){var s,n,a=this.viewOptions.thumbnail_alignment,r=this.$canvas.find(".repeater-thumbnail-cont"),o=t.data,l={};return r.length<1?(r=tV('<div class="clearfix repeater-thumbnail-cont" data-container="true" data-infinite="true" data-preserve="shallow"></div>'),a&&"none"!==a?(a=(n={center:1,justify:1,left:1,right:1})[a]?a:"justify",r.addClass("align-"+a),this.thumbnail_injectSpacers=!0):this.thumbnail_injectSpacers=!1,l.item=r):l.action="none",o.items&&o.items.length<1?((s=tV('<div class="empty"></div>')).append(this.viewOptions.thumbnail_noItemsHTML),r.append(s)):r.find(".empty:first").remove(),l},renderItem:function(t){var s=this.viewOptions.thumbnail_selectable,n="selected",a=this,r=tV(function t(s,n){var a=!1;function r(){var t,r,o;r=n.indexOf("{{"),t=n.indexOf("}}",r+2),r>-1&&t>-1?(o=void 0!==s[o=tV.trim(n.substring(r+2,t))]?s[o]:"",n=n.substring(0,r)+o+n.substring(t+2)):a=!0}for(;!a&&n.search("{{")>=0;)r(n);return n}(t.subset[t.index],'<div class="thumbnail repeater-thumbnail">'+this.viewOptions.thumbnail_template+"</div>"));if(this.viewOptions.thumbnail_itemRendered&&this.viewOptions.thumbnail_itemRendered({container:t.container,item:r,itemData:t.subset[t.index]},function(){}),r.data("item_data",t.data.items[t.index]),this.viewOptions.list_actions){Array.isArray(this.viewOptions.list_actions.items)&&(this.viewOptions.list_actions.items={common:this.viewOptions.list_actions.items,default:this.viewOptions.list_actions.items});let o=r.data("action-list");o&&this.viewOptions.list_actions.items.hasOwnProperty(o)||(o="default"),r.data("action-list",o);var l="";let h=this.viewOptions.list_actions.items[o];for(i=0,length=h.length;i<length;i++){var d=h[i];l+='<li><a href="#" data-action-list="'+o+'" data-action="'+d.name+'" class="action-item"> '+d.html+"</a></li>"}let c='<div class="btn-group"><button type="button" class="btn btn-xs btn-default dropdown-toggle repeater-actions-button"data-toggle="dropdown" data-flip="auto" aria-expanded="false"><span class="caret"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu">'+l+"</ul></div>";r.append(c)}return r.find(".action-item").on("click",function t(s){if(s.preventDefault(),!a.isDisabled){var n=tV(this).data("action"),o=tV(this).data("action-list"),l=tV.grep(a.viewOptions.list_actions.items[o],function t(s){return s.name===n})[0],h={item:r,rowData:r.data("item_data")};if(l.clickAction){var d=function t(){};l.clickAction(h,d,s)}}}),s&&(r.addClass("selectable"),r.on("click",function(){a.isDisabled||(r.hasClass(n)?(r.removeClass(n),a.$element.trigger("deselected.fu.repeaterThumbnail",r)):("multi"!==s&&a.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){var t=tV(this);t.removeClass(n),a.$element.trigger("deselected.fu.repeaterThumbnail",t)}),r.addClass(n),a.$element.trigger("selected.fu.repeaterThumbnail",r)))})),t.container.append(r),this.thumbnail_injectSpacers&&r.after('<span class="spacer">&nbsp;</span>'),!1}}),tN=(tL=t).fn.scheduler,tR=function t(s,n){var a=this;this.$element=tL(s),this.options=tL.extend({},tL.fn.scheduler.defaults,n),this.$startDate=this.$element.find(".start-datetime .start-date"),this.$startTime=this.$element.find(".start-datetime .start-time"),this.$timeZone=this.$element.find(".timezone-container .timezone"),this.$repeatIntervalPanel=this.$element.find(".repeat-every-panel"),this.$repeatIntervalSelect=this.$element.find(".repeat-options"),this.$repeatIntervalSpinbox=this.$element.find(".repeat-every"),this.$repeatIntervalTxt=this.$element.find(".repeat-every-text"),this.$end=this.$element.find(".repeat-end"),this.$endSelect=this.$end.find(".end-options"),this.$endAfter=this.$end.find(".end-after"),this.$endDate=this.$end.find(".end-on-date"),this.$recurrencePanels=this.$element.find(".repeat-panel"),this.$repeatIntervalSelect.selectlist(),this.$element.find(".selectlist").selectlist(),this.$startDate.datepicker(this.options.startDateOptions);var r="function"==typeof this.options.startDateChanged?this.options.startDateChanged:this._guessEndDate;this.$startDate.on("change changed.fu.datepicker dateClicked.fu.datepicker",tL.proxy(r,this)),this.$startTime.combobox(),""===this.$startTime.find("input").val()&&this.$startTime.combobox("selectByIndex",0),"0"===this.$repeatIntervalSpinbox.find("input").val()?this.$repeatIntervalSpinbox.spinbox({value:1,min:1,limitToStep:!0}):this.$repeatIntervalSpinbox.spinbox({min:1,limitToStep:!0}),this.$endAfter.spinbox({value:1,min:1,limitToStep:!0}),this.$endDate.datepicker(this.options.endDateOptions),this.$element.find(".radio-custom").radio(),this.$repeatIntervalSelect.on("changed.fu.selectlist",tL.proxy(this.repeatIntervalSelectChanged,this)),this.$endSelect.on("changed.fu.selectlist",tL.proxy(this.endSelectChanged,this)),this.$element.find(".repeat-days-of-the-week .btn-group .btn").on("change.fu.scheduler",function(t,s){a.changed(t,s,!0)}),this.$element.find(".combobox").on("changed.fu.combobox",tL.proxy(this.changed,this)),this.$element.find(".datepicker").on("changed.fu.datepicker",tL.proxy(this.changed,this)),this.$element.find(".datepicker").on("dateClicked.fu.datepicker",tL.proxy(this.changed,this)),this.$element.find(".selectlist").on("changed.fu.selectlist",tL.proxy(this.changed,this)),this.$element.find(".spinbox").on("changed.fu.spinbox",tL.proxy(this.changed,this)),this.$element.find(".repeat-monthly .radio-custom, .repeat-yearly .radio-custom").on("change.fu.scheduler",tL.proxy(this.changed,this))},tF=function t(s,n){var a,r="";return r+=s.getFullYear(),r+=n,r+=(a=s.getMonth()+1)<10?"0"+a:a,r+=n,r+=(a=s.getDate())<10?"0"+a:a},tU=7*(t1=24*(tj=60*(t0=6e4))),tW={secondly:1e3,minutely:t0,hourly:tj,daily:t1,weekly:tU,monthly:5*tU,yearly:52*tU},tR.prototype={constructor:tR,destroy:function t(){var s;return this.$element.find("input").each(function(){tL(this).attr("value",tL(this).val())}),this.$element.find(".datepicker .calendar").empty(),s=this.$element[0].outerHTML,this.$element.find(".combobox").combobox("destroy"),this.$element.find(".datepicker").datepicker("destroy"),this.$element.find(".selectlist").selectlist("destroy"),this.$element.find(".spinbox").spinbox("destroy"),this.$element.find(".radio-custom").radio("destroy"),this.$element.remove(),s},changed:function t(s,n,a){a||s.stopPropagation(),this.$element.trigger("changed.fu.scheduler",{data:void 0!==n?n:tL(s.currentTarget).data(),originalEvent:s,value:this.getValue()})},disable:function t(){this.toggleState("disable")},enable:function t(){this.toggleState("enable")},setUtcTime:function t(s,n,a){var r=s.split("-"),o=n.split(":");function l(t){return(t<10?"0":"")+t}var h=new Date(Date.UTC(r[0],r[1]-1,r[2],o[0],o[1],o[2]?o[2]:0));if("Z"===a)h.setUTCHours(h.getUTCHours()+0);else{var d=[];d[0]="(.)",d[1]=".*?",d[2]="\\d",d[3]=".*?",d[4]="(\\d)";var c=RegExp(d.join(""),["i"]).exec(a);if(null!==c){var p=c[1],u=c[2];h.setUTCHours(h.getUTCHours()+("+"===p?1:-1)*parseInt(u,10))}}var f=h.getTimezoneOffset();return h.setMinutes(f),h},endSelectChanged:function t(s,n){var a,r;r=n?n.value:(a=this.$endSelect.selectlist("selectedItem")).value,this.$endAfter.parent().addClass("hidden"),this.$endAfter.parent().attr("aria-hidden","true"),this.$endDate.parent().addClass("hidden"),this.$endDate.parent().attr("aria-hidden","true"),"after"===r?(this.$endAfter.parent().removeClass("hide hidden"),this.$endAfter.parent().attr("aria-hidden","false")):"date"===r&&(this.$endDate.parent().removeClass("hide hidden"),this.$endDate.parent().attr("aria-hidden","false"))},_guessEndDate:function t(){var s,n,a,r,o=this.$repeatIntervalSelect.selectlist("selectedItem").value,l=new Date(this.$endDate.datepicker("getDate")),h=new Date(this.$startDate.datepicker("getDate")),d=this.$repeatIntervalSpinbox.find("input").val();"none"!==o&&l<=h&&(this.$repeatIntervalSpinbox.is(":visible")||(d=1),"weekdays"===o&&(d=1,o="weekly"),l=(s=h,a=o,r=d,new Date(s.getTime()+tW[a]*r)),this.$endDate.datepicker("setDate",l))},getValue:function t(){var s,n,a,r,o,l,h,d,c,p=this.$repeatIntervalSpinbox.spinbox("value"),u="",f=this.$repeatIntervalSelect.selectlist("selectedItem").value;s=this.$startTime.combobox("selectedItem").value?(s=this.$startTime.combobox("selectedItem").value).toLowerCase():this.$startTime.combobox("selectedItem").text.toLowerCase();var m=this.$timeZone.selectlist("selectedItem");d=""+tF(this.$startDate.datepicker("getDate"),"-"),d+="T",r=s.search("am")>=0,o=s.search("pm")>=0,(s=tL.trim(s.replace(/am/g,"").replace(/pm/g,"")).split(":"))[0]=parseInt(s[0],10),s[1]=parseInt(s[1],10),r&&s[0]>11?s[0]=0:o&&s[0]<12&&(s[0]+=12),d+=s[0]<10?"0"+s[0]:s[0],d+=":",d+=s[1]<10?"0"+s[1]:s[1],d+="+00:00"===m.offset?"Z":m.offset,"none"===f?u="FREQ=DAILY;INTERVAL=1;COUNT=1;":"secondly"===f?(u="FREQ=SECONDLY;",u+="INTERVAL="+p+";"):"minutely"===f?(u="FREQ=MINUTELY;",u+="INTERVAL="+p+";"):"hourly"===f?(u="FREQ=HOURLY;",u+="INTERVAL="+p+";"):"daily"===f?(u+="FREQ=DAILY;",u+="INTERVAL="+p+";"):"weekdays"===f?(u+="FREQ=WEEKLY;",u+="BYDAY=MO,TU,WE,TH,FR;",u+="INTERVAL=1;"):"weekly"===f?(a=[],this.$element.find(".repeat-days-of-the-week .btn-group input:checked").each(function(){a.push(tL(this).data().value)}),u+="FREQ=WEEKLY;",u+="BYDAY="+a.join(",")+";",u+="INTERVAL="+p+";"):"monthly"===f?(u+="FREQ=MONTHLY;",u+="INTERVAL="+p+";","bymonthday"===(c=this.$element.find("input[name=repeat-monthly]:checked").val())?u+="BYMONTHDAY="+(n=parseInt(this.$element.find(".repeat-monthly-date .selectlist").selectlist("selectedItem").text,10))+";":"bysetpos"===c&&(a=this.$element.find(".repeat-monthly-day .month-days").selectlist("selectedItem").value,h=this.$element.find(".repeat-monthly-day .month-day-pos").selectlist("selectedItem").value,u+="BYDAY="+a+";",u+="BYSETPOS="+h+";")):"yearly"===f&&(u+="FREQ=YEARLY;","bymonthday"===(c=this.$element.find("input[name=repeat-yearly]:checked").val())?(l=this.$element.find(".repeat-yearly-date .year-month").selectlist("selectedItem").value,n=this.$element.find(".repeat-yearly-date .year-month-day").selectlist("selectedItem").text,u+="BYMONTH="+l+";",u+="BYMONTHDAY="+n+";"):"bysetpos"===c&&(a=this.$element.find(".repeat-yearly-day .year-month-days").selectlist("selectedItem").value,h=this.$element.find(".repeat-yearly-day .year-month-day-pos").selectlist("selectedItem").value,l=this.$element.find(".repeat-yearly-day .year-month").selectlist("selectedItem").value,u+="BYDAY="+a+";",u+="BYSETPOS="+h+";",u+="BYMONTH="+l+";"));var g=this.$endSelect.selectlist("selectedItem").value,v="";return"none"!==f&&("after"===g?v="COUNT="+this.$endAfter.spinbox("value")+";":"date"===g&&(v="UNTIL="+tF(this.$endDate.datepicker("getDate"),"")+";")),u+=v,{startDateTime:d,timeZone:m,recurrencePattern:u=";"===u.substring(u.length-1)?u.substring(0,u.length-1):u}},repeatIntervalSelectChanged:function t(s,n){var a,r,o;switch(n?(r=n.value,o=n.text):(r=(a=this.$repeatIntervalSelect.selectlist("selectedItem")).value||"",o=a.text||""),this.$repeatIntervalTxt.text(o),r.toLowerCase()){case"hourly":case"daily":case"weekly":case"monthly":this.$repeatIntervalPanel.removeClass("hide hidden"),this.$repeatIntervalPanel.attr("aria-hidden","false");break;default:this.$repeatIntervalPanel.addClass("hidden"),this.$repeatIntervalPanel.attr("aria-hidden","true")}this.$recurrencePanels.addClass("hidden"),this.$recurrencePanels.attr("aria-hidden","true"),this.$element.find(".repeat-"+r).removeClass("hide hidden"),this.$element.find(".repeat-"+r).attr("aria-hidden","false"),"none"===r?(this.$end.addClass("hidden"),this.$end.attr("aria-hidden","true")):(this.$end.removeClass("hide hidden"),this.$end.attr("aria-hidden","false")),this._guessEndDate()},_parseAndSetRecurrencePattern:function(t,s){var n={},a=0,r="",o=t.toUpperCase().split(";");for(a=0;a<o.length;a++)""!==o[a]&&(n[(r=o[a].split("="))[0]]=r[1]);if("DAILY"===n.FREQ)r="MO,TU,WE,TH,FR"===n.BYDAY?"weekdays":"1"===n.INTERVAL&&"1"===n.COUNT?"none":"daily";else if("SECONDLY"===n.FREQ)r="secondly";else if("MINUTELY"===n.FREQ)r="minutely";else if("HOURLY"===n.FREQ)r="hourly";else if("WEEKLY"===n.FREQ){if(r="weekly",n.BYDAY){if("MO,TU,WE,TH,FR"===n.BYDAY)r="weekdays";else{var l=this.$element.find(".repeat-days-of-the-week .btn-group");for(l.find("label").removeClass("active"),d=n.BYDAY.split(","),a=0;a<d.length;a++)l.find('input[data-value="'+d[a]+'"]').prop("checked",!0).parent().addClass("active")}}}else if("MONTHLY"===n.FREQ){if(this.$element.find(".repeat-monthly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-monthly label.radio-custom").removeClass("checked"),n.BYMONTHDAY)(c=this.$element.find(".repeat-monthly-date")).find("input").addClass("checked").prop("checked",!0),c.find("label.radio-custom").addClass("checked"),c.find(".selectlist").selectlist("selectByValue",n.BYMONTHDAY);else if(n.BYDAY){var h=this.$element.find(".repeat-monthly-day");h.find("input").addClass("checked").prop("checked",!0),h.find("label.radio-custom").addClass("checked"),n.BYSETPOS&&h.find(".month-day-pos").selectlist("selectByValue",n.BYSETPOS),h.find(".month-days").selectlist("selectByValue",n.BYDAY)}r="monthly"}else"YEARLY"===n.FREQ?(this.$element.find(".repeat-yearly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-yearly label.radio-custom").removeClass("checked"),n.BYMONTHDAY?((p=this.$element.find(".repeat-yearly-date")).find("input").addClass("checked").prop("checked",!0),p.find("label.radio-custom").addClass("checked"),n.BYMONTH&&p.find(".year-month").selectlist("selectByValue",n.BYMONTH),p.find(".year-month-day").selectlist("selectByValue",n.BYMONTHDAY)):n.BYSETPOS&&((u=this.$element.find(".repeat-yearly-day")).find("input").addClass("checked").prop("checked",!0),u.find("label.radio-custom").addClass("checked"),u.find(".year-month-day-pos").selectlist("selectByValue",n.BYSETPOS),n.BYDAY&&u.find(".year-month-days").selectlist("selectByValue",n.BYDAY),n.BYMONTH&&u.find(".year-month").selectlist("selectByValue",n.BYMONTH)),r="yearly"):r="none";if(n.COUNT)this.$endAfter.spinbox("value",parseInt(n.COUNT,10)),this.$endSelect.selectlist("selectByValue","after");else if(n.UNTIL){8===n.UNTIL.length&&((f=n.UNTIL.split("")).splice(4,0,"-"),f.splice(7,0,"-"),m=f.join(""));var d,c,p,u,f,m,g=this.$timeZone.selectlist("selectedItem"),v="+00:00"===g.offset?"Z":g.offset,b=this.setUtcTime(m,s.time24HourFormat,v);this.$endDate.datepicker("setDate",b),this.$endSelect.selectlist("selectByValue","date")}else this.$endSelect.selectlist("selectByValue","never");this.endSelectChanged(),n.INTERVAL&&this.$repeatIntervalSpinbox.spinbox("value",parseInt(n.INTERVAL,10)),this.$repeatIntervalSelect.selectlist("selectByValue",r),this.repeatIntervalSelectChanged()},_parseStartDateTime:function(t){var s,n,a,r={};return r.time24HourFormat=t.split("+")[0].split("-")[0],t.search(/\+/)>-1?r.timeZoneOffset="+"+tL.trim(t.split("+")[1]):t.search(/\-/)>-1?r.timeZoneOffset="-"+tL.trim(t.split("-")[1]):r.timeZoneOffset="+00:00",r.time24HourFormatSplit=r.time24HourFormat.split(":"),s=parseInt(r.time24HourFormatSplit[0],10),n=r.time24HourFormatSplit[1]?parseInt(r.time24HourFormatSplit[1].split("+")[0].split("-")[0].split("Z")[0],10):0,a=s<12?"AM":"PM",0===s?s=12:s>12&&(s-=12),n=n<10?"0"+n:n,r.time12HourFormat=s+":"+n,r.time12HourFormatWithPeriod=s+":"+n+" "+a,r},_parseTimeZone:function(t,s){return s.timeZoneQuerySelector="",t.timeZone?("string"==typeof t.timeZone?s.timeZoneQuerySelector+='li[data-name="'+t.timeZone+'"]':tL.each(t.timeZone,function(t,n){s.timeZoneQuerySelector+="li[data-"+t+'="'+n+'"]'}),s.timeZoneOffset=t.timeZone.offset):t.startDateTime?(s.timeZoneOffset="+00:00"===s.timeZoneOffset?"Z":s.timeZoneOffset,s.timeZoneQuerySelector+='li[data-offset="'+s.timeZoneOffset+'"]'):s.timeZoneOffset="Z",s.timeZoneOffset},_setTimeUI:function(t){this.$startTime.find("input").val(t),this.$startTime.combobox("selectByText",t)},_setTimeZoneUI:function(t){this.$timeZone.selectlist("selectBySelector",t)},setValue:function t(s){var n,a,r,o,l={};if(s.startDateTime)a=(n=s.startDateTime.split("T"))[0],(r=n[1])?(l=this._parseStartDateTime(r),this._setTimeUI(l.time12HourFormatWithPeriod)):(l.time12HourFormat="00:00",l.time24HourFormat="00:00");else{l.time12HourFormat="00:00",l.time24HourFormat="00:00";var h=this.$startDate.datepicker("getDate");a=h.getFullYear()+"-"+h.getMonth()+"-"+h.getDate()}this._parseTimeZone(s,l),l.timeZoneQuerySelector&&this._setTimeZoneUI(l.timeZoneQuerySelector),s.recurrencePattern&&this._parseAndSetRecurrencePattern(s.recurrencePattern,l),o=this.setUtcTime(a,l.time24HourFormat,l.timeZoneOffset),this.$startDate.datepicker("setDate",o)},toggleState:function t(s){this.$element.find(".combobox").combobox(s),this.$element.find(".datepicker").datepicker(s),this.$element.find(".selectlist").selectlist(s),this.$element.find(".spinbox").spinbox(s),this.$element.find(".radio-custom").radio(s),s="disable"===s?"addClass":"removeClass",this.$element.find(".repeat-days-of-the-week .btn-group")[s]("disabled")},value:function t(s){return s?this.setValue(s):this.getValue()}},tL.fn.scheduler=function t(s){var n,a=Array.prototype.slice.call(arguments,1),r=this.each(function(){var t=tL(this),r=t.data("fu.scheduler");r||t.data("fu.scheduler",r=new tR(this,"object"==typeof s&&s)),"string"==typeof s&&(n=r[s].apply(r,a))});return void 0===n?r:n},tL.fn.scheduler.defaults={},tL.fn.scheduler.Constructor=tR,tL.fn.scheduler.noConflict=function t(){return tL.fn.scheduler=tN,this},tL(document).on("mousedown.fu.scheduler.data-api","[data-initialize=scheduler]",function(t){var s=tL(t.target).closest(".scheduler");s.data("fu.scheduler")||s.scheduler(s.data())}),tL(function(){tL("[data-initialize=scheduler]").each(function(){var t=tL(this);t.data("scheduler")||t.scheduler(t.data())})}),tK=(t2=t).fn.picker,tG=function t(s,n){var a=this;this.$element=t2(s),this.options=t2.extend({},t2.fn.picker.defaults,n),this.$accept=this.$element.find(".picker-accept"),this.$cancel=this.$element.find(".picker-cancel"),this.$trigger=this.$element.find(".picker-trigger"),this.$footer=this.$element.find(".picker-footer"),this.$header=this.$element.find(".picker-header"),this.$popup=this.$element.find(".picker-popup"),this.$body=this.$element.find(".picker-body"),this.clickStamp="_",this.isInput=this.$trigger.is("input"),this.$trigger.on("keydown.fu.picker",t2.proxy(this.keyComplete,this)),this.$trigger.on("focus.fu.picker",t2.proxy(function t(s){(void 0===s||t2(s.target).is("input[type=text]"))&&t2.proxy(this.show(),this)},this)),this.$trigger.on("click.fu.picker",t2.proxy(function t(s){t2(s.target).is("input[type=text]")?t2.proxy(this.show(),this):t2.proxy(this.toggle(),this)},this)),this.$accept.on("click.fu.picker",t2.proxy(this.complete,this,"accepted")),this.$cancel.on("click.fu.picker",function(t){t.preventDefault(),a.complete("cancelled")})},tZ=function t(s){var n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),a=t2(document).scrollTop(),r=s.$popup.offset();return!!(r.top+s.$popup.outerHeight(!0)>n+a)||!!(r.top<a)},t3=function t(s){s.$popup.css("visibility","hidden"),t4(s),tZ(s)&&(t6(s),tZ(s)&&t4(s)),s.$popup.css("visibility","visible")},t6=function t(s){s.$popup.css("top",-s.$popup.outerHeight(!0)+"px")},t4=function t(s){s.$popup.css("top",s.$trigger.outerHeight(!0)+"px")},tG.prototype={constructor:tG,complete:function t(s){var n=this.options[({accepted:"onAccept",cancelled:"onCancel",exited:"onExit"})[s]],a={contents:this.$body};n?(n(a),this.$element.trigger(s+".fu.picker",a)):(this.$element.trigger(s+".fu.picker",a),this.hide())},keyComplete:function t(s){this.isInput&&13===s.keyCode?(this.complete("accepted"),this.$trigger.blur()):27===s.keyCode&&(this.complete("exited"),this.$trigger.blur())},destroy:function t(){return this.$element.remove(),t2(document).off("click.fu.picker.externalClick."+this.clickStamp),this.$element[0].outerHTML},disable:function t(){this.$element.addClass("disabled"),this.$trigger.attr("disabled","disabled")},enable:function t(){this.$element.removeClass("disabled"),this.$trigger.removeAttr("disabled")},toggle:function t(){this.$element.hasClass("showing")?this.hide():this.show()},hide:function t(){this.$element.hasClass("showing")&&(this.$element.removeClass("showing"),t2(document).off("click.fu.picker.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.picker"))},externalClickListener:function t(s,n){(!0===n||this.isExternalClick(s))&&this.complete("exited")},isExternalClick:function t(s){var n,a,r=this.$element.get(0),o=this.options.externalClickExceptions||[],l=t2(s.target);if(s.target===r||l.parents(".picker:first").get(0)===r)return!1;for(n=0,a=o.length;n<a;n++)if(l.is(o[n])||l.parents(o[n]).length>0)return!1;return!0},show:function t(){var s;if((s=t2(document).find(".picker.showing")).length>0){if(s.data("fu.picker")&&s.data("fu.picker").options.explicit)return;s.picker("externalClickListener",{},!0)}this.$element.addClass("showing"),t3(this),this.$element.trigger("shown.fu.picker"),this.clickStamp=new Date().getTime()+(Math.floor(100*Math.random())+1),this.options.explicit||t2(document).on("click.fu.picker.externalClick."+this.clickStamp,t2.proxy(this.externalClickListener,this))}},t2.fn.picker=function t(s){var n,a=Array.prototype.slice.call(arguments,1),r=this.each(function(){var t=t2(this),r=t.data("fu.picker");r||t.data("fu.picker",r=new tG(this,"object"==typeof s&&s)),"string"==typeof s&&(n=r[s].apply(r,a))});return void 0===n?r:n},t2.fn.picker.defaults={onAccept:void 0,onCancel:void 0,onExit:void 0,externalClickExceptions:[],explicit:!1},t2.fn.picker.Constructor=tG,t2.fn.picker.noConflict=function t(){return t2.fn.picker=tK,this},t2(document).on("focus.fu.picker.data-api","[data-initialize=picker]",function(t){var s=t2(t.target).closest(".picker");s.data("fu.picker")||s.picker(s.data())}),t2(function(){t2("[data-initialize=picker]").each(function(){var t=t2(this);t.data("fu.picker")||t.picker(t.data())})})});